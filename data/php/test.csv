originalTitle,body,reformulatedTitle
PostGRESQL's phppgadmin Reports Database," Phppgadmin comes with instructions for creating a reports database on the system for use with phppgadmin. The instructions describe how to set it up, but do not really give any indication of what its purpose is, and the phppgadmin site was not very helpful either.It seems to allow you to store SQL queries, so is it for storing admin queries accessing tables like pg_class etc? <code> ",Use for the phppgadmin Reports Database?
Ajax polling.," In the project I am currently working on, we have the need to develop a web chat application, not a very complex chat, just a way to connect two people to talk about a very specific topic, we don't need any kind of authentication for one of the two users, we don't have to support emoticons, avatars, or stuff like that.Some project members suggested that we could use XMPP through BOSH, I said that is like trying to catch a fish with a boat's net, and proposed a simpler method, like a simple Ajax/MySQL web chat, but we're worried about the performance hit in the server because of the constant polling of many chats open at the same time.Has anyone done something like this before? What would you recommend?  <code> ",Chat application AJAX polling
Sending 'application/javascript' MIME t Type Header Causes 500 Error with PHP5 & IIS7," I have a script that works fine on my test server (using IIS6). The script processes an ajax request and sends a response with the following line: But on my live server, this line crashes the page and causes a 500 error.Do I need to allow PHP to send different MIME types in IIS7? If so, how do I do this? I can't find any way on the interface. <code>  header( 'application/javascript' );",Why is the Content Header 'application/javascript' causing a 500 Error?
What's the best method for sanatizing user input with PHP?," Is there a catchall function somewhere that works well for sanitizing user input for SQL injection and XSS attacks, while still allowing certain types of HTML tags? <code> ",How can I sanitize user input with PHP?
What's the best method for sanitizing user input with PHP?," Is there a catchall function somewhere that works well for sanitizing user input for SQL injection and XSS attacks, while still allowing certain types of HTML tags? <code> ",How can I sanitize user input with PHP?
Format mysql datetime with php, I have a datetime column in MySQL. How can I convert it to the display as mm/dd/yy H:M (AM/PM) using PHP? <code> ,Convert from MySQL datetime to another format with PHP
Format MySQL datetime with PHP, I have a datetime column in MySQL. How can I convert it to the display as mm/dd/yy H:M (AM/PM) using PHP? <code> ,Convert from MySQL datetime to another format with PHP
Php code formatter / beautifier and  php beautificaton  in general," Do you know any good tools for nicely formatting messy php code? Preferably a script for Aptana/Eclipse, but a standalone tool will do too. <code> ",Php code formatter / beautifier and php beautification in general
Php code formatter / beautifier and  php beautification  in general," Do you know any good tools for nicely formatting messy php code? Preferably a script for Aptana/Eclipse, but a standalone tool will do too. <code> ",Php code formatter / beautifier and php beautification in general
Making since of apache's error_log file using php, I want to create a script that parses or makes sense of apache's error log to see what the most recent error was. I was wondering if anyone out there has something that does this or has any ideas where to start? <code> ,How can I parse Apache's error log in PHP?
Is there a php library for email validation?," I need to validate the email address of my users. Unfortunately, making a validator that conforms to standards is hard.Here is an example of a regex expression that tries to conform to the standard.Is there a PHP library (preferably, open-source) that validates an email address? <code> ",Is there a PHP library for email address validation?
Is there a php library for email address validation?," I need to validate the email address of my users. Unfortunately, making a validator that conforms to standards is hard.Here is an example of a regex expression that tries to conform to the standard.Is there a PHP library (preferably, open-source) that validates an email address? <code> ",Is there a PHP library for email address validation?
URL segment to action method parameter in Zend Framework," In Kohana/CodeIgniter, I can have a URL in this form: And then read the parameters in my controller as follows: How do you achieve this in the Zend Framework? <code>  http://www.name.tld/controller_name/method_name/parameter_1/parameter_2/parameter_3 ... class MyController { public function method_name($param_A, $param_B, $param_C ...) { // ... code }}",Use URL segments as action method parameters in Zend Framework
How to validate a credit card number?," Given a credit card number and no additional information, what is the best way in PHP to determine whether or not it is a valid number?Right now I need something that will work with American Express, Discover, MasterCard, and Visa, but it might be helpful if it will also work with other types. <code> ",What is the best way to validate a credit card in PHP?
How do I convert Word smart quotes and em dashes in a string?  ," I have a form with a textarea. Users enter a block of text which is stored in a database.Occasionally a user will paste text from Word containing smart quotes or emdashes. Those characters appear in the database as: , , ,What function should I call on the input string to convert smart quotes to regular quotes and emdashes to regular dashes? I am working in PHP.Update: Thanks for all of the great responses so far. The page on Joel's site about encodings is very informative: http://www.joelonsoftware.com/articles/Unicode.htmlSome notes on my environment:The MySQL database is using UTF-8 encoding. Likewise, the HTML pages that display the content are using UTF-8 (Update:) by explicitly setting the meta content-type.On those pages the smart quotes and emdashes appear as a diamond with question mark.Solution:Thanks again for the responses. The solution was twofold:Make sure the database and HTMLfiles were explicitly set to useUTF-8 encoding.Use htmlspecialchars() instead ofhtmlentities(). <code> ",How do I convert Word smart quotes and em dashes in a string?
How to change envelope from adress using PHP mail?," I am using PHP with Apache on Linux, with Sendmail. I use the PHP mail function. The email is sent, but the envelope has the Apache_user@localhostname in MAIL FROM (example nobody@conniptin.internal) and some remote mail servers reject this because the domain doesn't exist (obviously). Using mail, can I force it to change the envelope MAIL FROM?EDIT: If I add a header in the fourth field of the mail() function, that changes the From field in the headers of the body of the message, and DOES NOT change the envelope MAIL FROM.I can force it by spawning sendmail with sendmail -t -odb -oi -frealname@realhost and piping the email contents to it. Is this a better approach?Is there a better, simpler, more PHP appropriate way of doing this?EDIT: The bottom line is I should have RTM. Thanks for the answers folks, the fifth parameter works and all is well. <code> ",How to change envelope from address using PHP mail?
Can PHP PDO Statements accept the table name as parameter?," Why can't I pass the table name to a prepared PDO statement? Is there another safe way to insert a table name into a SQL query? With safe, I mean that I don't want to do <code>  $stmt = $dbh->prepare('SELECT * FROM :table WHERE 1');if ($stmt->execute(array(':table' => 'users'))) { var_dump($stmt->fetchAll());} $sql = ""SELECT * FROM $table WHERE 1""",Can PHP PDO Statements accept the table or column name as parameter?
"In PHP, ensure current working directory is same as script is at, when using CLI"," When calling php via cli, the current directory is NOT changed to the one of the script. All the scripts i have running in crontab run via the CLI, so this is an issue.I'm currently fixing the problem by doing a chdir() with the absolute path where the script is, but i REALLY dont like hardcoding paths into stuff like that.I'm looking for the most portable/reliable method for ensuring that the current working directory is the one where the script it is at. <code> ","In PHP, Best way to ensure current working directory is same as script , when using CLI"
Problem with var_dump PHPDoctrine Objects," I have a very strange problem, when I try to var_dump (or print_r) a Doctrine Object, my Apache responses with an empty blank page (200 OK header). I can var_dump a normal php var like: And it works fine. But I can't with any object from any Doctrine class, (like a result from $connection->query(), or an instance of a class from my object model with Doctrine).Anybody knows why this happens? <code>  $dummy = array(""a"" => 1, ""b"" =>2);",Why var_dump a Doctrine Objects kill my Apache?
Fastest way to determine where PHP script exits.," Say you have a large PHP project and suddenly, when attempting to run it, you just end up with a blank page. The script terminates and you want to find exactly where that is with as little effort as possible.Is there a tool/program/command/IDE that can, on PHP script termination, tell you the location of a script exit?Note: I can't mark my own post as ""accepted answer"" so look at the bottom to see my solution. If you come up with a better solution I will mark your post as the answer. <code> ",Fastest way to determine where PHP script exits
create .CSV File for user in PHP," I have data in a MySQL database. I am sending the user a URL to get their data out as a CSV file.I have the e-mailing of the link, MySQL query, etc. covered.How can I, when they click the link, have a pop-up to download a CVS with the record from MySQL? I have all the information to get the record already. I just don't see how to have PHP create the CSV file and let them download a file with a .csv extension. <code> ",Create a CSV File for a user in PHP
Setting up a PHP web project for continuous integration," How can I best set up my PHP (LAMP) development environment so that I have development, staging and production servers. One-""click"" deployment to any of those, as well as one-click rollback to any revision. Rollback should also rollback the database schema and data to how it was when that source code was current.Right now I've done all of this (except the DB rollback ability) for one application using shell scripts. I'm curious to know how others' environments are setup, and also if there are any generic tools or best-practices out there to follow as far as layout is concerned.So, how do you do this? What existing tools do you make use of?Thanks!UPDATE: Just to clarify as there is some confusion about what I'm interested in.I really want people to chime in with how their environment is set up.If you run a PHP project and you have your DB schema in version control, how do you do it? What tools do you use? Are they in-house or can we all find them on the web somewhere?If you run a PHP project and you do automated testing on commit (and/or nightly), how do you do it? What source versioning system do you use? Do you use SVN and run your tests in post-commit hooks?If you run a PHP project with multiple dev servers, a staging server and production server(s), how do you organize them and how do you deploy?What I hope to get out of this is a good idea of how others glue everything together. <code> ","Setting up a PHP web project, the infrastructure"
"Setting up a PHP web project, the infrastructure."," How can I best set up my PHP (LAMP) development environment so that I have development, staging and production servers. One-""click"" deployment to any of those, as well as one-click rollback to any revision. Rollback should also rollback the database schema and data to how it was when that source code was current.Right now I've done all of this (except the DB rollback ability) for one application using shell scripts. I'm curious to know how others' environments are setup, and also if there are any generic tools or best-practices out there to follow as far as layout is concerned.So, how do you do this? What existing tools do you make use of?Thanks!UPDATE: Just to clarify as there is some confusion about what I'm interested in.I really want people to chime in with how their environment is set up.If you run a PHP project and you have your DB schema in version control, how do you do it? What tools do you use? Are they in-house or can we all find them on the web somewhere?If you run a PHP project and you do automated testing on commit (and/or nightly), how do you do it? What source versioning system do you use? Do you use SVN and run your tests in post-commit hooks?If you run a PHP project with multiple dev servers, a staging server and production server(s), how do you organize them and how do you deploy?What I hope to get out of this is a good idea of how others glue everything together. <code> ","Setting up a PHP web project, the infrastructure"
The Difference Between Print and Echo?, Possible Duplicate: Reference: Comparing PHP's print and echo Is there any major and fundamental difference between these two functions in PHP? <code> ,How are echo and print different in PHP?
"In PHP, how do you change the key of an array element?"," I have an associative array in the form key => value where key is a numerical value, however it is not a sequential numerical value. The key is actually an ID number and the value is a count. This is fine for most instances, however I want a function that gets the human-readable name of the array and uses that for the key, without changing the value.I didn't see a function that does this, but I'm assuming I need to provide the old key and new key (both of which I have) and transform the array. Is there an efficient way of doing this? <code> ",Change all keys (numeric ids) of an array to human-readable strings
How do I check for valid (not dead) links programatically using PHP?," Given a list of urls, I would like to check that each url:Returns a 200 OK status codeReturns a response within X amount of timeThe end goal is a system that is capable of flagging urls as potentially broken so that an administrator can review them.The script will be written in PHP and will most likely run on a daily basis via cron.The script will be processing approximately 1000 urls at a go.Question has two parts:Are there any bigtime gotchas with an operation like this, what issues have you run into?What is the best method for checking the status of a url in PHP considering both accuracy and performance? <code> ",How do I check for valid (not dead) links programmatically using PHP?
a good source to learn web services ?!," I currently don't know any thing about web services, except that they are used to allow an application to share its functions.Where & how to start? Does any book on web services work with me if I use PHP as my programming language?Does anyone know any IRC channel for help? Does anyone know of a directory for tutorials for a beginner?Is it complicated?Does it take a long time to learn? <code> ",Can anyone show me a good source to learn web services?
PHP session problem *only in IE* *(??? really strange problem)," I have a site made with php which uses server side sessions throughout the site.In fact, it's a site with a user login which depends on session variables and if there were a problem with all session variables, no pages would load at all. On the site, there's an iframe that holds a feed of little messages from other users.Those little messages have clickable photos next to them that open the user's profile.Now, each page requires some formatting to open the user's profile on that specific page...there's really only a few problem pages, but those pages have to have the onclick functions formatted a little differently or they break the page.So I set a session variable on each page ($_SESSION[""current_page""]) that lets the feed know how to format the clickable photos. Now Firefox, Opera, Chrome, Safari all work as they are supposed to.But IE6 and IE7 are having problems on the pages that require special formatting.So after pulling my hair out a bit, I eventually got around to printing my session variables form the server.And lo and behold, on the special pages, ($_SESSION[""current_page""]) is always set to ""main"" instead of ""special1"" or ""special2"". I printed the same session variable in Firefox and all the other browsers I mentioned and they print out ""special1"" or ""special2"" as they're supposed to.Can anyone think of something - possibly related to the fact that the feed is in an iframe??? - that would cause IE to treat server side session variables differently or somehow launch page ""main"" silently in the background?I have checked the feed very carefully for any reference to page ""main"" - it doesn't seem like there's any ways it's loading that page. this doesn't make sense to me.  <code> ",PHP session doesn't work with IE
PHP - how to distinguish command-line and web-server invocation?," Is there a way to distinguish if a script was invoked from the command line or by the web server? (See What is the canonical way to determine commandline vs. http execution of a PHP script? for best answer and more detailed discussion - didn't find that one before posting)I have a (non-production) server with Apache 2.2.10 and PHP 5.2.6. On it, in a web-accessible directory is my PHP script, maintenance_tasks.php. I would like to invoke this script from the command line or through a HTTP request (by opening in a browser). Is there some variable that allows me to reliably determine how script is invoked?(I already tackled the issues of different views for each type of invocation and HTTP response timeout, just looking for a way of telling the two invocation types apart)I'll be trying different things and add my findings below.Duplicate: What is the canonical way to determine commandline vs. http execution of a PHP script? <code> ",How to distinguish command-line and web-server invocation?
What is the best way to convert an exsisting php class into Java?," I have been tasked with converting several php classes into java classes, which is quickly becoming a nightmare for me. I understand the basic language structure, it being similar to C. It is all of the function calls and class calls that seem to go nowhere and the fact that a var can be declared in the !middle of an expression! that is spinning my head, oh and the fact that there is zero ""0"" documentation.What is the best method (and/or) tool (and/or) reference material to convert the php into java code?edit: There is 3 reasons that I am having to convert the php to java. The usual reason, my boss told me too.The php is too slow, it is taking minutes sometimes to run a request to the server. php is a nightmare to scale and maintain.(at least for us strong typed language types) <code> ",What is the best way to convert an existing php class into Java?
How to Domain Layer Objects to Represent Multiple Objects & Single Object in Zend Framework?," I'm working on creating a domain layer in Zend Framework that is separate from the data access layer. The Data Access Layer is composed to two main objects, a Table Data Gateway and a Row Data Gateway. As per Bill Karwin's reply to this earlier question I now have the following code for my domain Person object: However, this only works with an individual row. I also need to create a domain object that can represent the entire table and (presumably) can be used to iterate through all of the Person's in the table and return the appropriate type of person (admin, buyer, etc) object for use. Basically, I envision something like the following: Is this is good/bad way to handle this particular problem? What improvements or adjustments should I make to the overall design? Thanks in advance for your comments and criticisms. <code>  class Model_Row_Person{ protected $_gateway; public function __construct(Zend_Db_Table_Row $gateway) { $this->_gateway = $gateway; } public function login($userName, $password) { } public function setPassword($password) { }} class Model_Table_Person implements SeekableIterator, Countable, ArrayAccess{ protected $_gateway; public function __construct(Model_DbTable_Person $gateway) { $this->_gateway = $gateway; } public function current() { $current = $this->_gateway->fetchRow($this->_pointer); return $this->_getUser($current); } private function _getUser(Zend_Db_Table_Row $current) { switch($current->userType) { case 'admin': return new Model_Row_Administrator($current); break; case 'associate': return new Model_Row_Associate($current); break; } }}",How to Design Domain Layer Objects to Represent Multiple Objects & Single Object in Zend Framework?
How do I determine whether its a mobile device with php?, I am writing a website with PHP. Since it will need to be accessed by anyone on the network to access the internet I have to create a mobile version. How do I best check if it's a mobile device? I don't want to have a switch statement with 50 devices at the end since I don't only want to support the iPhone.Is there a PHP class I could use? <code> ,How do I determine whether it's a mobile device with PHP?
PHP: How to set a timeout on socket_read?," I was wondering how can I set a timeout on a socket_read call? The first time it calls socket_read, it waits till data is sent, and if no data is sent within 5 secs I want to shutdown the connection. Any Help? I already tried SO_RCVTIMEO with no luck.I'm creating a socket with socket_create() and listening on it for connections, then when connected I listen for the data and then do something with it. When the timeout hits, I want to run socket_shutdown() and then socket_close(). <code> ",Set a timeout on socket_read
"How to version controll, deploy and develope php and mySQL"," I'm working in a project where we develop php on Zend using a mySQL database and the project is about to get to a point where it will be necessary to use version control not only for the actual code but also for the database. Also we are getting a good production server (and the actual production server will be a test server). So i was wondering if you guys think its a good idea to standardize the IDE the programmers use and make them have a apache/php/mySQL installed in their boxes to test the code thus having a developers environment in each computer, a test server and a production server.If so, what set up would you recommend to each part of this process, especially mysql version control (I've never done that) and how to make the deployment?I know its a very big question and most have been answered in different questions, but I would like a global answer about how is the faster, better (harder and stronger) set-up for this and how much time would we have to stop programming to actually have all this working! (and yes, hiring an expert in the subject is pretty much a no-no)Thanks! <code> ","How to version control, deploy and develop php and mySQL"
Can anyone help me how to upload YOUTUBE videos in PHP any clue / idea ?, Can anyone give me an idea how can we show or embed a YouTube video if we just have the URL or the Embed code? <code> ,How to embed YouTube videos in PHP?
How to show YouTube videos in PHP ?, Can anyone give me an idea how can we show or embed a YouTube video if we just have the URL or the Embed code? <code> ,How to embed YouTube videos in PHP?
How to embed YouTube videos in PHP ?, Can anyone give me an idea how can we show or embed a YouTube video if we just have the URL or the Embed code? <code> ,How to embed YouTube videos in PHP?
PHP: Is it better to concatinate on 1 line or multiple lines? Or is there a difference?, Is there a difference or is one better than the other of the following: Or Is there a speed difference or is there a reason why you'd pick one over the other? <code>  $var = '';...$var .= 'blah blah';$var .= $var2;$var .= 'blah blah'; $var = '';...$var .= 'blah blah' . $var2 . 'blah blah';,PHP: Is it better to concatenate on 1 line or multiple lines? Or is there a difference?
MVC with  PHP CodeIgniter: user authentication," I am writing a web application using PHP. I want to use the MVC pattern for this, and decided to go with CodeIgniter. My application will have some pages which will require authentication, and some pages won't. I want to design this in a very generic way, so that there should be no code duplication. Can any one point to some good ""design/class structure"" for this? <code> ",User authentication with CodeIgniter
Getting the MySQL table structure in PHP, What query do I need to run in PHP to get the structure of a given table in the database? And what query do I need to run to get a list of all the tables? <code> ,How do I get the MySQL table structure in PHP? Plus a list of all tables?
How can I determine a file's true extension/type programatically?," I am working on a script that will process user uploads to the server, and as an added layer of security I'd like to know:Is there a way to detect a file's true extension/file type, and ensure that it is not another file type masked with a different extension?Is there a byte stamp or some unique identifier for each type/extension?I'd like to be able to detect that someone hasn't applied a different extension onto the file they are uploading. <code> ",How can I determine a file's true extension/type programmatically?
"Calling Static Method from Class B, which extends Class A, of Class A"," There was an interesting question in a practice test that I did not understand the answer to. What is the output of the following code: Initially, I thought this was produce an error because static methods can not reference $this (atleast in PHP5). I tested this myself and it actually outputs John.I added Foo::getName(); at the end of the script and did get the error I was expecting. So, what changes when you call a static method from within a class that extends the class you're calling from?Would anyone mind explaining in detail exactly what is going on here? <code>  <?phpclass Foo { public $name = 'Andrew'; public function getName() { echo $this->name; }}class Bar extends Foo { public $name = 'John'; public function getName() { Foo::getName(); }}$a = new Bar;$a->getName();?>",Calling Static Method from Class B(which extends Class A) of Class A
Mysql injection protection and vulnerability signs," What are the best ways to protect from MySQL injection? What are weaknesses I should look out for?I know what it is, but I really have no idea how vulnerable I might be. Though I have taken (what I think to be) steps toward protecting myself and my database.Is there any sure-fire way of stopping someone?BTW...I write in PHP:) <code> ",MySQL injection protection and vulnerability signs using PHP
Mysql injection protection and vulnerability signs using PHP," What are the best ways to protect from MySQL injection? What are weaknesses I should look out for?I know what it is, but I really have no idea how vulnerable I might be. Though I have taken (what I think to be) steps toward protecting myself and my database.Is there any sure-fire way of stopping someone?BTW...I write in PHP:) <code> ",MySQL injection protection and vulnerability signs using PHP
Help with Zend ACL," I am currently working on a site that requires ACL and as I am using Zend, it makes sense for me to make use of their ACL class but I have little to zero idea of how to do this. I have read the docs but it confused me further...basically all I want to do is to set up two user groups e.g. ""normal"" and ""admin"", normal users can access all pages that have a controller that is not admin while admin can obviously access the admin controller pages.I have many questions: How do I set this up? Should I run it through a DB or the config.ini? Where do I place my ACL.php? How do I write such a script? How do I then call, is this done in the Index?.I would very much appreciate if you guide me to a website or a good tutorial. <code> ",Need guidance to start with Zend ACL
How to find a string in an array in PHP and MySQL?," I have an array: and a string variable: If I want to check whether this string ($str) exists in the array or not, I use the preg_match function, which is like this: Is it the correct way? If the array grows bigger, will it be very slow? Is there any other method? I am trying to scaling down my database traffic.And if I have two or more strings to compare, how can I do that? <code>  $array = array(""apple"", ""banana"", ""cap"", ""dog"", etc..) up to 80 values. $str = ""abc""; $isExists = preg_match(""/$str/"", $array);if ($isExists) { echo ""It exists"";} else { echo ""It does not exist"";}",How to find a string in an array in PHP?
"[PHP] How do I properly sanitize data received from a text area, when outputting it back into the text area?"," A user will input text in a textarea. It is then inserted directly into a mySQL database. I use trim, htmlentities, mysql_real_escape_string on it and I have magic quotes enabled. How should I sanitize it when outputting that data back into a textarea?Thanks for your help. I've never been too sure on the correct way of doing this... <code> ","How do I properly sanitize data received from a text area, when outputting it back into the text area?"
how to count numbers of  rows in a mysql query get total count rows, How can I count the number of rows that a MySQL query returned? <code> ,How can I count the numbers of rows that a MySQL query returned?
How can I count the numbers of rows that a mysql query returned?, How can I count the number of rows that a MySQL query returned? <code> ,How can I count the numbers of rows that a MySQL query returned?
SQL -  INSERT and catch the id auto-increment value," What is the best way to get the auto-id value in the same SQL with a SELECT? A forum said adding this ""; has Return Scope_Identity()""in the end of the SQL works in ASP.Is there a corresponding way in PHP? <code> ",SQL - INSERT and catch the id auto-increment value
Stupid n00b question: why avoid CGI for Python with LAMP hosting?," I have been using PHP for years. Lately I've come across numerous forum posts stating that PHP is outdated, that modern programming languages are easier, more secure, etc. etc.So, I decided to start learning Python. Since I'm used to using PHP, I just started building pages by uploading an .htaccess file with: Then, my sample pages look like: This works fine. But, I came across a comment in a post that said that CGI isn't the best way to use Python. Of course, it didn't mention what is the best way.Why is it that using CGI is not the best way to use Python? What is the alternative?Is there some totally other way to set up a simple Python site? Is there some completely different paradigm I should be looking at outside of .htaccess and .py files?RelatedPros and Cons of different approaches to web programming in PythonWhats a good lightweight Python MVC framework? (esp., @Kevin Dangoor's answer)How do I use python for web development without relying on a framework?Python Web Framework - Not App Framework or CMS FrameworkPython web programming <code>  addtype text/html pyaddhandler cgi-script .py #!/usr/bin/pythonprint ""content-type: text/html\n\n""print ""html tags, more stuff, etc.""",Why avoid CGI for Python with LAMP hosting?
How do we get coders to look up exisitng function before writing their own?," Why are so many people still writing crappy versions of things in standard libraries? Not to go after PHP developers, but guys go read the PHP SPL <code> ",How do we get coders to look up existing functions before writing their own?
PHP Create encrypted zip archive," I am searching for a way to encrypt a .txt file into a zip, but in a secure password protected way. My goal is to email this file to me, without anyone being able to read the content of the attachment.Does anybody know an easy, and above all, secure way to accomplish this ? I can create zip archives, but I do not know how to encrypt them, or, how secure this is. <code> ",Create an encrypted zip archive with PHP
executing php from java," I have a php script which is executed over a URL.(e.g. www.something.com/myscript?param=xy)When this script is executed in a browser it gives a coded result, a negative or positive number.I want to execute this script from Java code(J2EE) and store that result in some object.I'm trying to use httpURLConnection for that.I establish a connection but can not fetch the result. I'm not sure if I execute the script at all. <code> ",How can I execute a PHP script from Java?
Removing Non Alphanumeric Characters With PHP, I need to remove all characters from a string which aren't in a-z A-Z 0-9 set or are not spaces.Does anyone have a function to do this? <code> ,How to remove non-alphanumeric characters?
Remove non-alphanumeric characters, I need to remove all characters from a string which aren't in a-z A-Z 0-9 set or are not spaces.Does anyone have a function to do this? <code> ,How to remove non-alphanumeric characters?
PHP: Check if node exists with attribute," I can't seem to figure this one out. I have the following XML file: I need to be able to test whether or not a <building> node exists with a given name. Everything I seem to find on Google tells me to do something like the following: ... but if I understand that correctly, doesn't that only test the first <building> node? item(0)? Do I need to use XQuery for this?I'd appreciate some help! Thanks! <code>  <?xml version=""1.0"" encoding=""UTF-8""?><targets> <showcases> <building name=""Big Blue"" /> <building name=""Shiny Red"" /> <building name=""Mellow Yellow"" /> </showcases></targets> $xdoc->getElementsByTagName('building')->item(0)->getAttributeNode('name')",PHP: Check if XML node exists with attribute
How to generate a screenshot of a webpage using a server-side script?," I need a server-side script (PHP, Python) to capture a webpage to a PNG, JPG, Tiff, GIF image and resize them to a thumbnail.What is the best way to accomplish this?See also:Web Page Screenshots with PHP?How can I take a screenshot of a website with PHP and GD?How might I obtain a Snapshot or Thumbnail of a web page using PHP? <code> ",How can I generate a screenshot of a webpage using a server-side script?
How to Explode String | Search Split Point Right to Left ?," How can I make a split using the second instance of $split_point and not the first one. Can I specify somehow a right to left search?Basically how do I explode from right to left. I want to pick up only the last instance of "" - "".Result I need: and not: <code>  $split_point = ' - ';$string = 'this is my - string - and more'; $item[0]='this is my - string';$item[1]='and more'; $item[0]='this is my';$item[1]='string - and more';",How to explode only on the last occurring delimiter?
How to Explode String Right to Left ?," How can I make a split using the second instance of $split_point and not the first one. Can I specify somehow a right to left search?Basically how do I explode from right to left. I want to pick up only the last instance of "" - "".Result I need: and not: <code>  $split_point = ' - ';$string = 'this is my - string - and more'; $item[0]='this is my - string';$item[1]='and more'; $item[0]='this is my';$item[1]='string - and more';",How to explode only on the last occurring delimiter?
save image from php url using php," I need to save an image from a PHP URL to my PC.Let's say I have a page, http://example.com/image.php, holding a single ""flower"" image, nothing else. How can I save this image from the URL with a new name (using PHP)? <code> ",Saving image from PHP URL
Saving image from PHP URL using PHP," I need to save an image from a PHP URL to my PC.Let's say I have a page, http://example.com/image.php, holding a single ""flower"" image, nothing else. How can I save this image from the URL with a new name (using PHP)? <code> ",Saving image from PHP URL
PHP Coding Standards tool," I'm working on a PHP project with several developers, each who has their own style. The styles differ significantly, and can make the code really hard to read, and everyone is in agreement that we need to standardize our style.The issue I'm having is that I can't find any good program or system to help enforce standards for PHP. I've used a number of programs in the past for C++ and Java, and I'm a huge checkstyle fan, but I can't find anything so elegant for PHP.What program, tool, or system would you recommend to help developers adhere to a common set of PHP coding standards? Additionally, it would be great if the solution also handled PHP embedded in XHTML, but that is not a requirement. <code> ",What do you recommend for a PHP Coding Standards tool/system/program?
How can I properly use a PDO object for a Select query," I've tried following the PHP.net instructions for doing SELECT queries but I am not sure the best way to go about doing this.I would like to use a parameterized SELECT query, if possible, to return the ID in a table where the name field matches the parameter. This should return one ID because it will be unique.I would then like to use that ID for an INSERT into another table, so I will need to determine if it was successful or not.I also read that you can prepare the queries for reuse but I wasn't sure how this helps. <code> ",How can I properly use a PDO object for a parameterized SELECT query
How do you use IN clauses with msqli prepared statements," Im moving some old code over to the new msqli interface using prepared statements, Im having trouble with SQL statements containing the IN clause. I would just normally do this: Converting this to mysqli and prepared statements I have tried a number of solutions: The above fails and calculating the number of elements in the array and altering number of question marks in the SQL string and calling bind_parm for each element in the array also fails. Just using the comma separated string also fails.I can find no good documentation in Google on this, so how have you solved the problem? <code>  $ids = '123,535,345,567,878'$sql = ""SELECT * FROM table WHERE id IN ($ids)"";$res = mysql_query($sql); $ids = '123,535,345,567,878'$ids = implode($ids,',');$result = $msqli->prepare(""SELECT foo,blar FROM table WHERE id IN (?));$result->bind_param(""i"", $ids);$result->execute();",How do you use IN clauses with mysqli prepared statements
IE: generating pdf from php file doesn't work," Here is my issue. I am trying to call a page: foo.php?docID=bar and return a PDF to the screen which is stored as a BLOB in the DB. Here is the portion of my code which actually returns the PDF: This works perfectly fine in Firefox. However, in IE, it doesn't show anything at all. If i'm on another page (i.e. google.com), and I type in the URL to go to this page, it will say it's done, but I will still have google.com on my screen.I checked the headers for the responses from both firefox and IE. They are identical.Does anyone have any suggestions? Need more information?EDIT: If it helps at all, here's the response header and the first line of the content: EDIT: Also, the page which pulls out the pdf file actually uses HTTPS instead of HTTP.Thanks in advance,~Zack <code>  $docID = isset($_REQUEST['docID']) ? $_REQUEST['docID'] : null;if ($docID == null){ die(""Document ID was not given."");}$results = getDocumentResults($docID);if (verifyUser($user, $results['ProductId'])){ header('Content-type: application/pdf'); // this is the BLOB data from the results. print $results[1];}else{ die('You are not allowed to view this document.');} HTTP/1.1 200 OKCache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0Pragma: no-cacheContent-Length: 349930Content-Type: application/pdfExpires: Thu, 19 Nov 1981 08:52:00 GMTServer: Microsoft-IIS/6.0X-Powered-By: PHP/5.1.2Set-Cookie: PHPSESSID=cql3n3oc13crv3r46h2q04dvq4; path=/; domain=.example.comContent-Disposition: inline; filename='downloadedFile.pdf'X-Powered-By: ASP.NETDate: Tue, 21 Apr 2009 16:35:59 GMT%PDF-1.4",IE (HTTPS): generating pdf from php file doesn't work
Jquery getJSON to external PHP page," I've been trying to make an AJAX request to an external server.I've learned so far that I need to use getJSON to do this because of security reasons ?Now, I can't seem to make a simple call to an external page.I've tried to simplify it down as much as I can but it's still not working.I have 2 files, test.html & test.phpmy test.html makes a call like this, to localhost for testing : and I want my test.php to return a simple 'test' : I'm probably making some incredible rookie mistake but I can't seem to figure it out.Also, if this works, how can I send data to my test.php page, like you would do like test.php?id=15 ?The test.html page is calling the test.php page on localhost, same directoryI don't get any errors, just no alert .. <code>  $.getJSON(""http://localhost/OutVoice/services/test.php"", function(json){ alert(""JSON Data: "" + json);}); $results = ""test"";echo json_encode($results);",jQuery getJSON to external PHP page
"How to start using and developing on Linux ""Ubuntu""?"," I am a newbie Linux user who came from 10 years using windows OS, and developing in Microsoft languages.I want to have a good experience in Linux world and developing on it.First, I want to learn how to use this new OS, then how to start developing on it, I am interested in web applications, specially using Java/PHP because I have some experience in both and it will be a good start.Second, I want to learn how to develop on it.Are there any video tutorials to give me a good starting push? any recommended books or references? <code> ",How to start using and developing on Ubuntu Linux?
Suppress the default template from a view with CakePHP, I'm doing some experimenting with AJAX in CakePHP and it seems to work except that the view that gets returned includes the default template. How can I get rid of that (or even just specify a different empty template for a view)? <code> ,How can I display ajax results in a view in CakePHP without including the default template in the ajax response?
Shall I write my own CMS?," I am planning to begin working on my first personal project this June: a community about students. What I want to have is a wiki, full with information about universities, a forum where people can discuss and a blog with news, articles, etc, all three of them integrated to eachother.Now, the way to go seems like wordpress+mediawiki+some forum software but I have been having these thoughts about giving it a try and writing my own CMS. I have some RoR and PHP knowledge but certainly not to the point where I can write my own CMS, especially entirely from scratch.How much time do you think it would take me to achieve it? I think/estimate I can spend 3 to 5 hours daily working on it and I want the whole site up and running by the end of August (which gives me about 300 hours of work, as I am also planning to spend some time just...doing nothing! :P).The question is, is it worth it? Is it going to help me improve my programming skills? <code> ",Should I write my own CMS?
Accessing codeigniter models in other models," It used to be that within a CodeIgniter model you couldn't access another model. Is this still valid, or have they changed it? <code>  $this->load->model('bar');$this->bar->something();",Accessing CodeIgniter Models in Other Models
How do I make a simple PHP GET request?," I wish to make a simple GET request to another script on a different server. How do I do this?In one case, I just need to request an external script without the need for any output. In the second case, I need to get the text output. To be honest, I do not want to mess around with CURL as this isn't really the job of CURL. I also do not want to make use of http_get as I do not have the PECL extensions.Would fsockopen work? If so, how do I do this without reading in the contents of the file? Is there no other way?Thanks allUpdateI should of added, in the first case, I do not want to wait for the script to return anything. As I understand file_get_contents() will wait for the page to load fully etc? <code>  make_request('http://www.externalsite.com/script1.php?variable=45'); //example usage $output = make_request('http://www.externalsite.com/script2.php?variable=45');echo $output; //string output",How do I make an asynchronous GET request in PHP?
Pretty URLs without mod_rewrite," Without a possibility to access .htaccess I find myself in a creative impasse. There is no mod_rewriting for me. Nevertheless, I want to be able to do the nice stuff like: What are my alternatives?In respond to the answers: I'm building with php5I don't have access to .htaccesshttp://www.example.com/index.php/Blog/ is a known technique but I don't prefer it. Is shows the php so to say.How would I create extensionless PHP-files? Would this do the trick?How much would using the custom 404 technique hurt performance? <code>  http://www.example.com/Blog/2009/12/10/http://www.example.com/Title_Of_This_Page","Pretty URLs without mod_rewrite, without .htaccess"
Is there a way to get the number of records from a query with Zend?," Given my generic select below, is there a way to get the number of records returned from a query with Zend Framework? $row++ in a loop is not acceptable for my solution as I am using paging (though its not in my sample).I also DO NOT want to add another query with ""Count(*)"". <code>  $query = ""Select * from Users where active = 1"";$stmt = $db->query($query);$noOfRows = ???;while ($row = $stmt->fetch()){ // processing}",Is there a way to get the number of records from a query with Zend-framework?
Is there a way to get the number of records from a query with Zend Framework?," Given my generic select below, is there a way to get the number of records returned from a query with Zend Framework? $row++ in a loop is not acceptable for my solution as I am using paging (though its not in my sample).I also DO NOT want to add another query with ""Count(*)"". <code>  $query = ""Select * from Users where active = 1"";$stmt = $db->query($query);$noOfRows = ???;while ($row = $stmt->fetch()){ // processing}",Is there a way to get the number of records from a query with Zend-framework?
Can someone explain me the pack() function in PHP?," I would like to know more about the pack() function in PHP: https://secure.php.net/manual/en/function.pack.phpI know it packs data into binary, but I'm not sure what all those v V n N c C mean and I was wondering if someone could be so kind as to give me a practical demonstration when to use which formats?The online documentation, for a change, lacks of information, in my opinion. <code> ",Can someone explain to me the pack() function in PHP?
How do I use Microsoft AD and php single sign on web app?," I'm vaguely aware that on a computer joined to a domain IE can be asked to send some extra headers that I could use to automatically sign on to an application. I've got apache running on a windows server with mod_php. I'd like to be able to avoid the user having to log in if necessary. I've found some links talking about Kerberos and Apache modules.http://www.onlamp.com/pub/a/onlamp/2003/09/11/kerberos.html?page=lasthttps://metacpan.org/pod/Apache2::AuthenNTLMSince I'm running on Windows it's proven to be non-trivial to get Perl or Apache modules installed. But doesn't PHP already have access to HTTP headers?I found this but it doesn't do any authentication, it just shows that PHP can read the NTLM headers.http://siphon9.net/loune/2007/10/simple-lightweight-ntlm-in-php/I'd like to be able to have my users just point to the application and have them automatically authenticated. Has anyone had any experience with this or gotten it to work at all?UPDATESince originally posting this question, we've changed setups to nginx and php-fcgi still running on windows. Apache2 and php-cgi on windows is probably one of the slowest setups you could configure on windows. It's looking like Apache might still be needed (it works with php-fcgi) but I would prefer a nginx solution. I also still don't understand (and would love to be educated) why HTTP server plugins are necessary and we can't have a PHP, web server agnostic solution. <code> ",How can I implement single sign-on (SSO) using Microsoft AD for an internal PHP app?
"MSQL: Updating all rows setting a field to 0, but setting one row's field to 1"," Is there an efficient way to update a selection of rows' field to 0, but set One of these rows to 1 based on an ID.Basically, I have multiple objects in a database, and I want to toggle between which one is ""inuse"", so the query will set one of the rows (by id) to inuse=1 and the others to inuse=0.Thanks :) <code> ","MySQL: Updating all rows setting a field to 0, but setting one row's field to 1"
ImageMagick: convert png fail if executed via PHP but works via bash shell," I've got a very weird bug which I've yet to find a solution. UPDATE see solution belowWhat I am trying to do is convert a full size picture into a 160x120 thumbnail. It works great with jpg and jpeg files of any size, but not with png.ImageMagick command: PHP function (shortened) When this function runs $retval equal 1 which means the convert command failed (thumbnail isn't created).This is where it gets interesting, if I run the exact same command in my shell, it works. I've tried using different PHP function such as system, passthru but it didn't work. I thought maybe someone here knew the solution.I'm usingMAMP 1.7.2Apache/2.0.59PHP/5.2.6Thanks!UPDATEI updated the following dependencieslibpng from 1.2.35 to 1.2.37libiconv from 1.12_2 to 1.13_0ImageMagick 6.5.2-4_1 to 6.5.2-9_0However, it did not fix my problem.2nd UPDATEI finally found something that might help, when the function runs this is what gets printed in the Apache logs: 3rd UPDATElibiconv.2.dylib is version 8.0.0... 4th UPDATEProblem was related to MAMP, see solution below <code>  /opt/local/bin/convert '/WEBSERVER/images/img_0003-192-10.png' -thumbnail x320 -resize '320x<' -resize 50% -gravity center -crop 160x120+0+0 +repage -quality 91 '/WEBSERVER/thumbs/small_img_0003-192-10.png' ...$cmd = ""/opt/local/bin/convert '/WEBSERVER/images/img_0003-192-10.png' -thumbnail x320 -resize '320x<' -resize 50% -gravity center -crop 160x120+0+0 +repage -quality 91 '/WEBSERVER/thumbs/small_img_0003-192-10.png'"";exec($cmd, $output, $retval);$errors += $retval;if ($errors > 0) { die(print_r($output));} wedbook:~ wedix$ /opt/local/bin/convert '/WEBSERVER/images/img_0003-192-10.png' -thumbnail x320 -resize '320x<' -resize 50% -gravity center -crop 160x120+0+0 +repage -quality 91 '/WEBSERVER/thumbs/small_img_0003-192-10.png'wedbook:~ wedix$ dyld: Library not loaded: /opt/local/lib/libiconv.2.dylib Referenced from: /opt/local/bin/convert Reason: Incompatible library version: convert requires version 8.0.0 or later, but libiconv.2.dylib provides version 7.0.0 bash-3.2$ otool -L /opt/local/lib/libiconv.2.dylib /opt/local/lib/libiconv.2.dylib: /opt/local/lib/libiconv.2.dylib (compatibility version 8.0.0, current version 8.0.0) /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current version 1.0.0) /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 111.1.4)",ImageMagick: convert png fail via PHP and works via bash shell
"In Javascript, Convert Lat/Longs to X/Y Co-ordinates"," I have the Lat/Long value of New York City, NY; 40.7560540,-73.9869510 and a flat image of the earth, 1000px 446px.I would like to be able to convert, using Javascript, the Lat/Long to an X,Y coordinate where the point would reflect the location.So the X,Y coordinate form the Top-Left corner of the image would be; 289, 111Things to note:don't worry about issues of what projection to use, make your ownassumption or go with what you knowmight work X,Y can be form any corner of the imageBonus points forthe same solution in PHP (but Ireally need the JS) <code> ",Convert Lat/Longs to X/Y Co-ordinates
preg_replace problems," I keep getting this error: Warning: preg_match() [function.preg-match]: Unknown modifier 't' in D:\xampp\htdocs\administrator\components\com_smms\functions\plugin.php on line 235on: I do a var_dump on the $result->module_pregmatch and I get the following: Can someone please tell me what I'm doing wrong? I've been stuck on this error for way too long... <code>  $PageContent = preg_replace($result->module_pregmatch, '', $PageContent); string '/<title>(.*)</title>/Ui' (length=23)string '/<meta[^>]*name=[""|\']description[""|\'][^>]*content=[""|\'](.*)[""|\']\s*\/>/Ui' (length=77)string '/<meta[^>]*name=[""|\']keywords[""|\'][^>]*content=[""|\'](.*)[""|\']\s*\/>/Ui' (length=74)string '/<meta[^>]*name=[""|\']author[""|\'][^>]*content=[""|\'](.*)[""|\']\s*\/>/Ui' (length=72)string '/<meta[^>]*name=[""|\']copyright[""|\'][^>]*content=[""|\'](.*)[""|\']\s*\/>/Ui' (length=75)string '/<meta[^>]*name=[""|\']robots[""|\'][^>]*content=[""|\'](.*)[""|\']\s*\/>/Ui' (length=72)string '/<meta[^>]*http=equiv=[""|\']content-language[""|\'][^>]*content=[""|\'](.*)[""|\']\s*\/>/Ui' (length=88)string '/<meta[^>]*http-equiv=[""|\']content-type[""|\'][^>]*content=[""|\'](.*)[""|\']\s*\/>/Ui' (length=84)string '/<link[^>]*href=[""|\'](.*)[""|\'][^>]*rel=[""|\']shortcut[^>]*icon[""|\'][^>]*type=[""|\']image\/x-icon[""|\']\s*\/>/Ui' (length=114)string '/<link[^>]*href=[""|\'](.*)[""|\'][^>]*rel=[""|\']alternate[""|\'][^>]*type=[""|\']application\/rss\+xml[""|\'][^>]*title=[""|\'](.*)[""|\'][^>]\/>/Ui' (length=142)string '/<link[^>]*href=[""|\'](.*)[""|\'][^>]*rel=[""|\']alternate[""|\'][^>]*type=[""|\']application\/atom\+xml[""|\'][^>]*title=[""|\'](.*)[""|\'][^>]\/>/Ui' (length=143)","Why preg_replace throws me a ""Unknown modifier"" error ?"
Setup expires headers PHP & Apache, How can I setup expires headers in PHP + Apache? I'm currently using an auto_prepend to serve resources gzipped but I'd also like to maximise the HTTP cache.How can I set these up? <code> ,Setup HTTP expires headers using PHP and Apache
Blog in codeigniter : where does the model starts and the control ends ?," I'm testing CodeIgniter, and trying to create a simple blog. The video tutorial on the CodeIgniter site is nice, but very incomplete. I'm not too familiar with the MVC structure, and I am wondering exactly how a model is used. For instance, I'm currently doing the ""admin"" portion of my blog, which allows you to create, delete, and modify entries. The view only contains xhtml, and the controller takes care of the rest. What should be in the model? Does everything database related occur in the model (i.e. inserts, updates, selects, etc.)? <code> ","Blog in CodeIgniter : Where Does the Model start, and the Controller End?"
Blog in codeigniter : where does the model starts and the controller ends ?," I'm testing CodeIgniter, and trying to create a simple blog. The video tutorial on the CodeIgniter site is nice, but very incomplete. I'm not too familiar with the MVC structure, and I am wondering exactly how a model is used. For instance, I'm currently doing the ""admin"" portion of my blog, which allows you to create, delete, and modify entries. The view only contains xhtml, and the controller takes care of the rest. What should be in the model? Does everything database related occur in the model (i.e. inserts, updates, selects, etc.)? <code> ","Blog in CodeIgniter : Where Does the Model start, and the Controller End?"
Blog in CodeIgniter : Where does the Model start and the Controller end?," I'm testing CodeIgniter, and trying to create a simple blog. The video tutorial on the CodeIgniter site is nice, but very incomplete. I'm not too familiar with the MVC structure, and I am wondering exactly how a model is used. For instance, I'm currently doing the ""admin"" portion of my blog, which allows you to create, delete, and modify entries. The view only contains xhtml, and the controller takes care of the rest. What should be in the model? Does everything database related occur in the model (i.e. inserts, updates, selects, etc.)? <code> ","Blog in CodeIgniter : Where Does the Model start, and the Controller End?"
"In Php 5.3.0 what is the Function ""Use"" Identifier ? Should a sane programmer use it?"," I'm checking out some PHP 5.3.0 features and ran across some code on the site that looks quite funny: as one of the examples on anonymous functions.Does anybody know about this? Any documentation? And it looks evil, should it ever be used? <code>  public function getTotal($tax){ $total = 0.00; $callback = /* This line here: */ function ($quantity, $product) use ($tax, &$total) { $pricePerItem = constant(__CLASS__ . ""::PRICE_"" . strtoupper($product)); $total += ($pricePerItem * $quantity) * ($tax + 1.0); }; array_walk($this->products, $callback); return round($total, 2);}","In PHP, what is a closure and why does it use the ""use"" identifier?"
"In PHP 5.3.0, what is the function ""use"" identifier?"," I'm checking out some PHP 5.3.0 features and ran across some code on the site that looks quite funny: as one of the examples on anonymous functions.Does anybody know about this? Any documentation? And it looks evil, should it ever be used? <code>  public function getTotal($tax){ $total = 0.00; $callback = /* This line here: */ function ($quantity, $product) use ($tax, &$total) { $pricePerItem = constant(__CLASS__ . ""::PRICE_"" . strtoupper($product)); $total += ($pricePerItem * $quantity) * ($tax + 1.0); }; array_walk($this->products, $callback); return round($total, 2);}","In PHP, what is a closure and why does it use the ""use"" identifier?"
"In PHP, what is a closure and why does it use the the ""use"" identifier?"," I'm checking out some PHP 5.3.0 features and ran across some code on the site that looks quite funny: as one of the examples on anonymous functions.Does anybody know about this? Any documentation? And it looks evil, should it ever be used? <code>  public function getTotal($tax){ $total = 0.00; $callback = /* This line here: */ function ($quantity, $product) use ($tax, &$total) { $pricePerItem = constant(__CLASS__ . ""::PRICE_"" . strtoupper($product)); $total += ($pricePerItem * $quantity) * ($tax + 1.0); }; array_walk($this->products, $callback); return round($total, 2);}","In PHP, what is a closure and why does it use the ""use"" identifier?"
RegExp Conversion," Looking for a regexp sequence of matches and replaces (preferably PHP but doesn't matter) to change this (the start and end is just random text that needs to be preserved).IN: to this OUT: Thanks. <code>  fkdshfks khh fdsfsk <!--g1--><div class='codetop'>CODE: AutoIt</div><div class='geshimain'> <!--eg1--> <div class=""autoit"" style=""font-family:monospace;""> <span class=""kw3"">msgbox</span> </div> <!--gc2--> <!--bXNnYm94--> <!--egc2--> <!--g2--></div><!--eg2-->fdsfdskh fkdshfks khh fdsfsk <div class='codetop'>CODE: AutoIt</div><div class='geshimain'> <div class=""autoit"" style=""font-family:monospace;""> <span class=""kw3"">msgbox</span> </div></div>fdsfdskh",RegExp to strip HTML comments
How to join filesystem path strings in php?," Is there a builtin function in PHP to intelligently join path strings? The function, given abc/de/ and /fg/x.php as arguments, should return abc/de/fg/x.php; the same result should be given using abc/de and fg/x.php as arguments for that function.If not, is there an available class? It could also be valuable for splitting paths or removing parts of them. If you have written something, may you share your code here?It is ok to always use /, I am coding for Linux only.In Python there is os.path.join, which is great. <code> ",How to join filesystem path strings in PHP?
PHP Date function output in Italian," I am trying to output dates in the Italian format using date() as follows: However, it is still coming out in the English format. What else could I do? Is there something wrong?The solution has to be script specific and not server-wide. <code>  <?php setlocale(LC_ALL, 'it_IT'); echo date(""D d M Y"", $row['eventtime']); ?>",Date function output in a local language
Equivalent to String.charAt() in php," Is there any equivalent function that returns the character at position X in PHP?I went through the documentation but couldn't find any. I am looking for something like: <code>  $charAtPosition20 = strCharAt(20, $myString);",Is there any equivalent function that returns the character at position `X` in PHP?
What's faster to use MYSQL md5 FUNCTION  or  in run php function  ?," I checked the passwords for the users against the DB.What is faster, the MySQL MD5 function OR the PHP MD5 function What is the right way between the two options? <code>  ... pwd = MD5('.$pwd.') ... pwd = '.md5($pwd).'",What's faster/better to use: the MySQL or PHP md5 function?
What's faster/better to use MYSQL md5 FUNCTION  or run md5 php function  ?," I checked the passwords for the users against the DB.What is faster, the MySQL MD5 function OR the PHP MD5 function What is the right way between the two options? <code>  ... pwd = MD5('.$pwd.') ... pwd = '.md5($pwd).'",What's faster/better to use: the MySQL or PHP md5 function?
PHP: Difference include/eval," If the code is the same, there appears to be a difference between:include 'external.php';and eval('?>' . file_get_contents('external.php') . '<?php');What is the difference? Does anybody know?I know the two are different because the include works fine and the eval gives an error. When I originally asked the question, I wasn't sure whether it gave an error on all code or just on mine (and because the code was evaled, it was very hard to find out what the error meant). However, after having researched the answer, it turns out that whether or not you get the error does not depend on the code in the external.php, but does depend on your php settings (short_open_tag to be precise). <code> ",PHP: Equivalent of include using eval
Prevent XSS attack in php?," I am a bit confused, there are so many functions in PHP, and some using this, some using that. Some people use: htmlspecialchars(), htmlentities(), strip_tags() etcWhich is the correct one and what do you guys usually use?Is this correct (advise me a better one, if any): This line can prevent MySQL injection and XSS attack??Btw, is there any other things I need to pay attention besides XSS attack and MySQL injection?EDITTo conclude:If I want to insert string to the database, I do not need to use htmlentities, just use the mysql_real_escape_string. When displaying the data, use htmlentities(), is that what you all mean??Summarize:mysql_real_escape_string used when insert into databasehtmlentities() used when outputting data into webpagehtmlspecialchars() used when?strip_tags() used when?addslashes() used when?Can somebody fill in the question mark? <code>  $var = mysql_real_escape_string(htmlentities($_POST['username']));",How to prevent code injection attacks in PHP?
Des this mean I don't need htmlentities() or htmlspecialchars() in prepared statements?," In an article http://dev.mysql.com/tech-resources/articles/4.1/prepared-statements.html, it says the followings:There are numerous advantages to using prepared statements in your applications, both for security and performance reasons.Prepared statements can help increase security by separating SQL logic from the data being supplied. This separation of logic and data can help prevent a very common type of vulnerability called an SQL injection attack.Normally when you are dealing with an ad hoc query, you need to be very careful when handling the data that you received from the user. This entails using functions that escape all of the necessary trouble characters, such as the single quote, double quote, and backslash characters.This is unnecessary when dealing with prepared statements. The separation of the data allows MySQL to automatically take into account these characters and they do not need to be escaped using any special function.Does this mean I don't need htmlentities() or htmlspecialchars()?But I assume I need to add strip_tags() to user input data?Am I right? <code> ",Do I need htmlentities() or htmlspecialchars() in prepared statements?
PHP- stop people from using the F5 button," Is there anyway for me to make it work so anyone who presses F5 or any refresh button will be moved to a different page, instead of it refreshing the page the user wants? Something like : If not is there anyway for me to not allow refreshing on a certain page?I have some people that are are just refreshing non stop and it is killing my bandwidth. It is a game site so I don't want to ban the ip's.  <code>  If (refresh){ goto ""link to hopme page""}",Stop people from refreshing the page
try and catch php warning," I need to catch some warnings being thrown from some php native functions and then handle them.Specifically: It throws a warning when the DNS query fails.try/catch doesn't work because a warning is not an exception.I now have 2 options:set_error_handler seems like overkill because I have to use it to filter every warning in the page (is this true?);Adjust error reporting/display so these warnings don't get echoed to screen, then check the return value; if it's false, no records is found for hostname.What's the best practice here? <code>  array dns_get_record ( string $hostname [, int $type= DNS_ANY [, array &$authns [, array &$addtl ]]] )",Can I try/catch a warning?
try and catch a warning," I need to catch some warnings being thrown from some php native functions and then handle them.Specifically: It throws a warning when the DNS query fails.try/catch doesn't work because a warning is not an exception.I now have 2 options:set_error_handler seems like overkill because I have to use it to filter every warning in the page (is this true?);Adjust error reporting/display so these warnings don't get echoed to screen, then check the return value; if it's false, no records is found for hostname.What's the best practice here? <code>  array dns_get_record ( string $hostname [, int $type= DNS_ANY [, array &$authns [, array &$addtl ]]] )",Can I try/catch a warning?
To understand => in a line of PHP," What does the => operator mean in the following code? The code is a comment at PHP.net.The user does not specify the value of $user_list, $user or $pass.I normally see that => means equal or greater than.However, I am not sure about its purpose here because it is not assigned.I read the code as process a list of users in integerssuch that the value of each user is equal or greater than password The above does not make sense to me. <code>  foreach ($user_list as $user => $pass)","What does ""=>"" mean in PHP?"
Finiding Zip Codes in a Specific Radius," I have found this popular PHP/MySQL Script called Zip Location by SaniSoft and it works great besides one thing: It doesn't in some instances.It seems that any radius under 20 miles returns the same amount of zip codes as 20 miles. I have searched all over google, but to no avail and I was wondering if someone had some insight on this situation.I would rather figure out this problem before having to pay for a program, and I could also use the learning experience. The database is a list of zip codes and longitudes and latitudes of each zip code. The script uses a method that determines the distance around the zip code entered and returns the zip codes in that radius based on their lon/lat.Thank you!!Edit:From using the distance function that the script provides I have discovered that the distance between the Zip Codes that the program gives me and my zip code are coming up as 0 miles.MAJOR UPDATEFrom research it turns out that the database has duplicate lat/lon values. Please be aware of this when using Zip Locator. Although the PHP does its job, you will need to find a new Database of zip codes. I will post my findings at a later date. <code> ",Finding Zip Codes in a Specific Radius
Howto parse json with smarty?," In Smarty, is there a standard function or an easy way to generate json from an array, as json_encode() does in php?I could not see it in Smarty documentation, wanted to ask here. <code> ",Howto generate json with smarty?
[Web Development] - LUA vs PHP/Python/JSP/etc..., I'm about to begin my next web development project and wanted to hear about the merits of Lua within the web-development space.How does Lua compare to PHP/Python/JSP/etc.. for web development?Any reason why Lua would be a poor choice for a web application language vs the others? <code> ,[Web Development] - Lua vs PHP/Python/JSP/etc...
Zip a directory in PHP," Directory is something like: I am using the same PHP Zip class used in PHPMyAdmin http://trac.seagullproject.org/browser/branches/0.6-bugfix/lib/other/Zip.php . I'm not sure how to zip a directory rather than just a file. Here's what I have so far: but when I try to unzip the corresponding downloaded zip file I get ""operation not permitted""This error only happens when I try to unzip on my mac, when I unzip through the command line the file unzips ok. Do I need to send a specific content type on download, currently 'application/zip' <code>  home/ file1.html file2.htmlAnother_Dir/ file8.html Sub_Dir/ file19.html $aFiles = $this->da->getDirTree($target);/* $aFiles is something like, path => filetimeArray( [home] => [home/file1.html] => 1251280379 [home/file2.html] => 1251280377 etc...)*/$zip = & new Zip();foreach( $aFiles as $fileLocation => $time ){ $file = $target . ""/"" . $fileLocation; if ( is_file($file) ){ $buffer = file_get_contents($file); $zip->addFile($buffer, $fileLocation); }}THEN_SOME_PHP_CLASS::toDownloadData($zip); // this bit works ok",How to [recursively] Zip a directory in PHP?
PHP Retrieve minimum and maximum values in a 2D associative array," I have an array in this format: Is there a good way to retrieve the minimum and maximum values of the 'count' column (16 and 48 respectively)?I could do this using a few loops, but I wonder if there may be a better way. <code>  $array = [ ['id' => 117, 'name' => 'Networking', 'count' => 16], ['id' => 188, 'name' => 'FTP', 'count' => 23], ['id' => 189, 'name' => 'Internet', 'count' => 48],];",Get the minimum and maximum values in an array column
How to Enable curl in PHP, How do I enable cURL in PHP? <code> ,How to enable cURL in PHP / XAMPP
How to enable cURL in PHP, How do I enable cURL in PHP? <code> ,How to enable cURL in PHP / XAMPP
How to store a datatime as UTC in php/mysql?, Everywhere I read about converting time to a user's timezone says that the best method is to store a date and time in UTC then just add the user's timezone offset to this time.How can I store a date in UTC time? I use the MySQL DATETIME field. When adding a new record to MySQL in my PHP code I would use now() to insert into MySQL DATETIME.Would I need to use something different than now() to store UTC time? <code> ,Storing datetime as UTC in PHP/MySQL
Printing to terminal while using output buffering in CLI PHP scipts," I'm using command line PHP to build some files offline. To capture the script output I use the standard ob_start stuff: However, I also want to print some messages to the terminal (for instance, warnings) while collecting the ""main output"" into the buffer. Is there a way to do this? It doesn't seem to be possible to pause the buffering for a while to print the terminal messages, and then continue the buffering from where it was left. Is there any workaround for this? <code>  ob_start();// Echo lots of stuff$content = ob_get_contents();// Now the $content can be written to a file",Printing to terminal while using output buffering in CLI PHP scripts
How to 'insert if not exists' in MySQL?," I started by googling and found the article How to write INSERT if NOT EXISTS queries in standard SQL which talks about mutex tables.I have a table with ~14 million records. If I want to add more data in the same format, is there a way to ensure the record I want to insert does not already exist without using a pair of queries (i.e., one query to check and one to insert is the result set is empty)?Does a unique constraint on a field guarantee the insert will fail if it's already there?It seems that with merely a constraint, when I issue the insert via PHP, the script croaks. <code> ",How can I do 'insert if not exists' in MySQL?
"PHP fopen and fputcsv character encoding? UTF-8, ANSI as UTF-8 ?"," I made a PHP script that generates CSV files that were previously generated by another process.And then, the CSV files have to be imported by yet another process.The import of the old CSV files works fine, but but when importing the new CSV files there are issues with special characters.When I open old CSVs with Notepad++, it says the encoding is UTF-8, and when I open the new CSVs with it, it says their encoding is 'ANSI as UTF-8'.What's the difference of the two?And how can I make fopen and fputcsv use the 'pure?' UTF-8 encoding?Thanks! <code> ","What is ""ANSI as UTF-8"" and how can I make fputcsv() generate UTF-8 w/BOM?"
"What's the difference between ""UTF-8"" and  ""ANSI as UTF-8"" in Notepad++?"," I made a PHP script that generates CSV files that were previously generated by another process.And then, the CSV files have to be imported by yet another process.The import of the old CSV files works fine, but but when importing the new CSV files there are issues with special characters.When I open old CSVs with Notepad++, it says the encoding is UTF-8, and when I open the new CSVs with it, it says their encoding is 'ANSI as UTF-8'.What's the difference of the two?And how can I make fopen and fputcsv use the 'pure?' UTF-8 encoding?Thanks! <code> ","What is ""ANSI as UTF-8"" and how can I make fputcsv() generate UTF-8 w/BOM?"
PHP mmdir( $recursive = true ) skips last directory," I've got the following piece of code on a PHP 5.2.4 (no safe_mode) linux server: when I enter a path like: all directories are created except for the last one...when I add another directory like: again, all paths are created except for the last one...have tried both with and without trailing slashesCan any1 enlighten me here please? <code>  mkdir( $path, 0777, true ); '/path/to/create/recur/ively/' '/path/to/create/recur/ively/more/'",PHP mkdir( $recursive = true ) skips last directory
PHP: Built-in function to check whether two Array values are equal ( Ignoring the Order)," Is there a built-in function for PHP for me to check whether two arrays contain the same values ( order not important?).For example, I want a function that returns me true for the following two inputs: Edit: I could have sorted the two arrays and compare them, but as I am such a lazy guy, I would still prefer a one-liner that I can pull out and use.  <code>  array('4','5','2') array('2','4','5')",PHP: Built-in function to check whether two Array values are equal ( Ignoring the order)
How to get file name from full path with PHP?," For example, how do I get Output.mapfromF:\Program Files\SSH Communications Security\SSH Secure Shell\Output.mapwith PHP? <code> ",How do I get a file name from a full path with PHP?
what does this php error mean?," I'm getting the following error message: Warning: file_get_contents(http://localhost/sample_pie.php) [function.file-get-contents]: failed to open stream: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. in C:\xampp\htdocs\EXACT\report.php on line 206 Fatal error: Maximum execution time of 60 seconds exceeded in C:\xampp\htdocs\EXACT\report.php on line 206Here is the line 206: What do I have to do to fix this?  <code>  $url = 'http://localhost/sample_pie.php';$img = 'C:\xampp\htdocs\piechart.jpg';file_put_contents($img, file_get_contents($url));",Maximum execution time of 60 seconds exceeded error
how to generate unique id in MySQL ?," I'm programming a script using PHP and MySQL and I want to get a unique id (consisting of a string: capitals and small letters with numbers) like: gHYtUUi5b.I found many functions in PHP that can generate such numbers but I'm afraid about how to ensure the id is unique!UPDATE: uuid is long, I mean such id like: (P5Dc) an 11 alphanumeric char. <code> ",How to generate unique id in MySQL?
HELP! Dynamic ical created from database -- not working!," I built a site in PHP 5 and MySQL with a table that keeps track of scheduled photo shoots. I want to push out a feed of those scheduled ""events"" into an ical file.I originally asked this question and got a good answer from S. Gehrig. I got a sample ical file working, and updating regularly in Google Calendar whenever I manually adjusted the file in Dreamweaver. However, now that I've added dynamic PHP pulling from the database, it won't work.Here's the PHP: The output of this file is exactly the same as the manual, hard-coded version that I have working, as far as I can tell. Can anyone see why this isn't working????PS Here is the code of the file that IS working -- I just posted it on my server and subscribed via URL in Google Calendar. When I hardcoded in the 2nd event, it showed up shortly in Google Calendar on its own. HELP!A commenter suggested I test by removing the headers and echoing the $ical var. Here are the results of that test, with line breaks added for your convenience: Thanks! <code>  <?phprequire_once('../../_includes/initialize.php');$ical = "" BEGIN:VCALENDARVERSION:2.0PRODID:-//hacksw/handcal//NONSGML v1.0//EN "";$slots = Slot::find_all();foreach($slots as $slot) { $job = Job::find_by_id($slot->job_id); $start_stamp = strtotime($slot->start); $end_stamp = strtotime($slot->endtime); $dtstart = gmdate('Ymd', $start_stamp).'T'. gmdate('His', $start_stamp) . ""Z""; // converts to UTC time $dtend = gmdate('Ymd', $end_stamp).'T'. gmdate('His', $end_stamp) . ""Z""; // converts to UTC time $summary = $job->title; $ical .= "" BEGIN:VEVENT UID:"" . $slot->id . ""@homewoodphoto.jhu.edu DTSTAMP:"" . gmdate('Ymd').'T'. gmdate('His') . ""Z DTSTART:"" . $dtstart . "" DTEND:"" . $dtend . "" SUMMARY:"" . $summary . "" END:VEVENT "";}$ical .= "" END:VCALENDAR"";//set correct content-type-headerheader('Content-type: text/calendar; charset=utf-8');header('Content-Disposition: inline; filename=homewoodphoto_master.ics');echo $ical;exit;?> <?php$ical = ""BEGIN:VCALENDARVERSION:2.0PRODID:-//hacksw/handcal//NONSGML v1.0//ENBEGIN:VEVENTUID:"" . md5(uniqid(mt_rand(), true)); . ""@yourhost.testDTSTAMP:"" . gmdate('Ymd').'T'. gmdate('His') . ""ZDTSTART:20090925T170000ZDTEND:20090928T035959ZSUMMARY:Bastille Day PartyEND:VEVENTBEGIN:VEVENTUID:"" . md5(uniqid(mt_rand(), true)); . ""@yourhost.testDTSTAMP:"" . gmdate('Ymd').'T'. gmdate('His') . ""ZDTSTART:20090929T170000ZDTEND:20090930T035959ZSUMMARY:Camping TripEND:VEVENTEND:VCALENDAR"";//set correct content-type-headerheader('Content-type: text/calendar; charset=utf-8');header('Content-Disposition: inline; filename=calendar.ics');echo $ical;exit;?> BEGIN:VCALENDAR VERSION:2.0 PRODID:-//hacksw/handcal//NONSGML v1.0//EN BEGIN:VEVENT UID:21@homewoodphoto.jhu.edu DTSTAMP:20090929T212141Z DTSTART:20091001T230000Z DTEND:20091001T230000Z SUMMARY:little title END:VEVENT BEGIN:VEVENT UID:22@homewoodphoto.jhu.edu DTSTAMP:20090929T212141Z DTSTART:20090926T230000Z DTEND:20090927T010000Z SUMMARY:A big photo shoot END:VEVENT BEGIN:VEVENT UID:23@homewoodphoto.jhu.edu DTSTAMP:20090929T212141Z DTSTART:20091003T230000Z DTEND:20091004T010000Z SUMMARY:A big photo shoot END:VEVENT END:VCALENDAR",Dynamic ical created from database not working
PHP: How to sum values of the array of the same key, How can I add all the columnar values by associative key? Note that key sets are dynamic. Input array: Desired result: <code>  Array( [0] => Array ( [gozhi] => 2 [uzorong] => 1 [ngangla] => 4 [langthel] => 5 ) [1] => Array ( [gozhi] => 5 [uzorong] => 0 [ngangla] => 3 [langthel] => 2 ) [2] => Array ( [gozhi] => 3 [uzorong] => 0 [ngangla] => 1 [langthel] => 3 )) Array( [gozhi] => 10 [uzorong] => 1 [ngangla] => 8 [langthel] => 10),How to sum all column values in multi-dimensional array?
How to sum values of the array of the same key, How can I add all the columnar values by associative key? Note that key sets are dynamic. Input array: Desired result: <code>  Array( [0] => Array ( [gozhi] => 2 [uzorong] => 1 [ngangla] => 4 [langthel] => 5 ) [1] => Array ( [gozhi] => 5 [uzorong] => 0 [ngangla] => 3 [langthel] => 2 ) [2] => Array ( [gozhi] => 3 [uzorong] => 0 [ngangla] => 1 [langthel] => 3 )) Array( [gozhi] => 10 [uzorong] => 1 [ngangla] => 8 [langthel] => 10),How to sum all column values in multi-dimensional array?
How to sum values of the array of the same key?, How can I add all the columnar values by associative key? Note that key sets are dynamic. Input array: Desired result: <code>  Array( [0] => Array ( [gozhi] => 2 [uzorong] => 1 [ngangla] => 4 [langthel] => 5 ) [1] => Array ( [gozhi] => 5 [uzorong] => 0 [ngangla] => 3 [langthel] => 2 ) [2] => Array ( [gozhi] => 3 [uzorong] => 0 [ngangla] => 1 [langthel] => 3 )) Array( [gozhi] => 10 [uzorong] => 1 [ngangla] => 8 [langthel] => 10),How to sum all column values in multi-dimensional array?
Sum array values of the same key, How can I add all the columnar values by associative key? Note that key sets are dynamic. Input array: Desired result: <code>  Array( [0] => Array ( [gozhi] => 2 [uzorong] => 1 [ngangla] => 4 [langthel] => 5 ) [1] => Array ( [gozhi] => 5 [uzorong] => 0 [ngangla] => 3 [langthel] => 2 ) [2] => Array ( [gozhi] => 3 [uzorong] => 0 [ngangla] => 1 [langthel] => 3 )) Array( [gozhi] => 10 [uzorong] => 1 [ngangla] => 8 [langthel] => 10),How to sum all column values in multi-dimensional array?
How to sum all column values in a multi-dimensional array?, How can I add all the columnar values by associative key? Note that key sets are dynamic. Input array: Desired result: <code>  Array( [0] => Array ( [gozhi] => 2 [uzorong] => 1 [ngangla] => 4 [langthel] => 5 ) [1] => Array ( [gozhi] => 5 [uzorong] => 0 [ngangla] => 3 [langthel] => 2 ) [2] => Array ( [gozhi] => 3 [uzorong] => 0 [ngangla] => 1 [langthel] => 3 )) Array( [gozhi] => 10 [uzorong] => 1 [ngangla] => 8 [langthel] => 10),How to sum all column values in multi-dimensional array?
"How can I use filesystem functions in PHP, using UTF-8 strings?"," I can't use mkdir to create folders with UTF-8 characters: when I browse this folder in Windows Explorer, the folder name looks like this: What should I do?I'm using php5 <code>  <?php$dir_name = ""Depsito"";mkdir($dir_name);?> Depsito","How do I use filesystem functions in PHP, using UTF-8 strings?"
"Are SAP's BAPI APIs propritary, or just a wrapper for something else?"," I've just been dumped into the middle of a project involving SAP. Specifically, I need to use SAPs BAPI APIs to pull a bunch of information out of ""The Client's"" SAP system.Given that SAP is a closed platform, I've been having trouble finding a high-level overview of the who/what/where/when/how of SAP and BAPI. I realize you could spend a lifetime working with these ERP system and still not understand the whole thing. I just want a basic overview so I can talk intelligently with ""The Client's"" SAP folks.Specifically, my questions are:Is BAPI just a wrapper for SOAP and/or XML-RPC, or is it a completely proprietary communication format?How can these APIs be used from PHP?I've seen the acronym ABAP thrown around. What does it mean, and where does it fit into things? <code> ","Are SAP's BAPI APIs proprietary, or just a wrapper for something else?"
SPL Throwing Exceptions," Is there a way to throw exceptions from an SPL Autoloader in PHP in case it fails? It doesn't seem to work under PHP 5.2.11. When the above code is called, there is no sign of an exception, instead I get a standard ""Fatal error: Class 'foobarDomain' not found in bla"". And the execution of the script terminates. <code>  class SPLAutoLoader{ public static function autoloadDomain($className) { if(file_exists('test/'.$className.'.class.php')){ require_once('test/'.$className.'.class.php'); return true; } throw new Exception('File not found'); }} //end class//startspl_autoload_register( array('SPLAutoLoader', 'autoloadDomain') );try{ $domain = new foobarDomain();}catch(Exception $c){ echo 'File not found';}",Throwing Exceptions in an SPL autoloader?
Server connection reset. PHP MYSQL or Apache. Who's to blame?," If I do set_time_limit(50) or ini_set('max_execution_time',50), then when I echo ini_get('max_execution_time') on my localhost i get 50, but when I do this on another server it echoes the default 30 and completely ignores my request. Why is this? <code> ","ini_set, set_time_limit, (max_execution_time) - not working"
Warning:chmod() [function.chmod]: Operation not permitted ," When I use chmod() to change permissions at run time, it gives me the below message: Warning: chmod() [function.chmod]: Operation not permitted in /home/loud/public_html/readalbum.php How can I remove this error and make the chmod function work? <code> ","Changing permissions via chmod at runtime errors with ""Operation not permitted"""
PHPUnit testing for multiple exceptions," When testing for exceptions with PHPUnit, what is the best way to require that every statement or assertion must throw an exception in order for the test to pass?I basically want to do something like this: I've come up with the following, which does the job, but is quite ugly IMO. <code>  public function testExceptions(){ $this->setExpectedException('Exception'); foo(-1); //throws exception foo(1); //does not throw exception}//Test will fail because foo(1) did not throw an exception public function testExceptions(){ try { foo(-1); } catch (Exception $e) { $hit = true; } if (!isset($hit)) $this->fail('No exception thrown'); unset($hit); try { foo(1); } catch (Exception $e) { $hit = true; } if (!isset($hit)) $this->fail('No exception thrown'); unset($hit);}",How do I test for multiple exceptions with PHPUnit?
PHP static variable," I guessed it outputs 5 0 1 and it's right,but I need a better explanation? <code>  $count = 5;function get_count(){ static $count = 0; return $count++;}echo $count;++$count;echo get_count();echo get_count();",PHP Static Variables
Mysqli Prepared Statement Problem in bindParam()," Just as usual i was looking around best practices with PHP, and prepared statements seems the kind of stuff i should now how do with my eyes closed. So i started playing around with some examples i've found.I've got this error when running the script: Fatal error: Call to a member function bindParam() on a non-object in /opt/lampp/htdocs/phpSecurity/PreparedStatments/Insert-Multi-Binded-Params/Insert Simple Method.php on line 10Here it goes the code.Insert Simple Method.php config.php Not sure what i'm doing wrong here, this is similar example found at php.net, why isn't working?PS: I think the mysqli connection isn't the problem because I've used it to do some prepared statements with SELECT SQL commands. And worked pretty well.EDITThe Resolution and why.Well in the example i should use bind_param() for each value in the query. But thanks to Bart, he managed to solve the problem with my code.Where it is: It should be: Now for those who might wondering what is ""sii"".Well bind_param for what i see it binds the ""$var"" to each question mark ""?"" in order.So with one bind_param() i can bind them all at the same time, and the normal use of bind_param() requires to specify the type of data being binded.My first value to be binded is $nome a String, specified by the ""s"";And the others $telefone and $bi are Integers for that he have ""i"";For others that have a similar problem here it goes other data types (from php.net). i = Integer; s = String; d = Double; b = Blob;If someone as a better explanation please post it or comment. So i can improve my own.Thanks. <code>  <?phprequire_once '../config.php';$stmt = $db->prepare(""INSERT INTO coisas (nome, telefone, bi) VALUES (?, ?, ?)"");$nome = 'Fabio Antunes';$telefone = 916810641;$bi = 123093456;$stmt->bindParam(1, $nome);$stmt->bindParam(2, $telefone);$stmt->bindParam(3, $bi);$stmt->execute();$stmt->close();$db->close();?> <?php$server_host = 'localhost';$server_user = 'root';$server_password = '';$server_db = 'PreparedStatements';$db = new mysqli($server_host, $server_user, $server_password, $server_db);?> $stmt->bindParam(1, $nome);$stmt->bindParam(2, $telefone);$stmt->bindParam(3, $bi); $stmt->bind_param(""sii"", $nome, $telefone, $bi);",Mysqli Prepared Statement in bindParam() not working
Can I do something like this?," Suppose I've the following function: Is is possible to use the * operator as a callback function? Is there any other way? <code>  function mul(){ return array_reduce(func_get_args(), '*');}",Can I use operators as function callback in PHP?
How to prompt user to download the PDF file instead of opening?," In my project site, if I click on a link, the PDF opens in a new or parent window. Well I want a box to appear that prompts the user to download the file instead of opening it. Does anyone know of a simple JavaScript onClick event that will do this, in all browsers, with default settings?My server is PHP based. <code> ",Prompt user to download PDF file instead of opening
Prompt user to download PDF file instead of opening in PHP?," In my project site, if I click on a link, the PDF opens in a new or parent window. Well I want a box to appear that prompts the user to download the file instead of opening it. Does anyone know of a simple JavaScript onClick event that will do this, in all browsers, with default settings?My server is PHP based. <code> ",Prompt user to download PDF file instead of opening
How to access php variables in Javascipt or Jquery rather than <?php echo $variable ?>," How do I access PHP variables in JavaScript or jQuery? Do I have to write I know I can store some variables in cookies, and access these values via cookies, but values in cookies are relatively stable values. Moreover, there is a limit, you can not store many values in cookies, and the method is not that convenient. Is there a better way to do it? <code>  <?php echo $variable1 ?><?php echo $variable2 ?><?php echo $variable3 ?>...<?php echo $variablen ?>",How to access PHP variables in JavaScript or jQuery rather than <?php echo $variable ?>
CodeIgniter directory structure, Isn't having all of the files in public view a bad thing?Surely things such as /system/application/config/database.php should not be publicly visible! <code> ,Why are CodeIgniter application files in the public_html folder?
How to use XMLREADER in php?," I have the following XML file, the file is rather large and i haven't been able to get simplexml to open and read the file so i'm trying XMLReader with no success in php I've unfortunately not found a good tutorial on this for PHP and would love to see how I can get each element content to store in a database. <code>  <?xml version=""1.0"" encoding=""ISO-8859-1""?><products> <last_updated>2009-11-30 13:52:40</last_updated> <product> <element_1>foo</element_1> <element_2>foo</element_2> <element_3>foo</element_3> <element_4>foo</element_4> </product> <product> <element_1>bar</element_1> <element_2>bar</element_2> <element_3>bar</element_3> <element_4>bar</element_4> </product></products>",How to use XMLReader in PHP?
Better php symfony tutorial ? (Real Step by Step for Windows)," I have tried to follow the symfony tutorial here: http://www.symfony-project.org/book/1_2/03-Running-SymfonyIt's incoherent : It says to download the sandbox but the rest of the tutorial seems for the non-sandbox version. It's not a step by step as it seems and I can't get the same result.This is really frustrating and if I haven't a project on it, I would already give up !So is there anything better than the official tut so that I can just get started ?Thanks a lot. <code> ",Best Step by Step tutorial for Symfony - (I am running PHP on Windows)
php boolean TRUE / FALSE question?, I can't figure this out.If I type: Why can't I use it like this: Or do I have to use: Or this: <code>  function myfunction(){ ...... if ... return TRUE; if ... return FALSE;} $result = myfunction();if ($result == TRUE)...if ($result == FALSE)... $result = myfunction();if ($result == 1)...if ($result == 0)... $result = myfunction();if ($result)...if (!$result)...,PHP boolean TRUE / FALSE?
Convert Array to Object  PHP," How can I convert an array like this to an object? <code>  [128] => Array ( [status] => ""Figure A. Facebook's horizontal scrollbars showing up on a 1024x768 screen resolution."" )[129] => Array ( [status] => ""The other day at work, I had some spare time"" )",How to convert an array to object in PHP?
PHP REMOVE JAVASCRIPT," I am trying to remove JavaScript from the HTML. I can't get the regular expression to work with PHP; it's giving me an null array. Why? <code>  <?php$var = '<script type=""text/javascript""> function selectCode(a) { var e = a.parentNode.parentNode.getElementsByTagName(PRE)[0]; if (window.getSelection) { var s = window.getSelection(); if (s.setBaseAndExtent) { s.setBaseAndExtent(e, 0, e, e.innerText.length - 1); } else { var r = document.createRange(); r.selectNodeContents(e); s.removeAllRanges(); s.addRange(r); } } else if (document.getSelection) { var s = document.getSelection(); var r = document.createRange(); r.selectNodeContents(e); s.removeAllRanges(); s.addRange(r); } else if (document.selection) { var r = document.body.createTextRange(); r.moveToElementText(e); r.select(); } } </script>'; function remove_javascript($java){ echo preg_replace('/<script\b[^>]*>(.*?)<\/script>/i', """", $java); } ?>",PHP Remove JavaScript
PHP: $date + 1 year?," I'm trying to get a date that is one year from the date I specify.My code looks like this: It's returning the wrong date. Any ideas why? <code>  $futureDate=date('Y-m-d', strtotime('+one year', $startDate));",$date + 1 year?
A tool to find missing docblocks," I have several finished, older PHP projects with a lot of includes that I would like to document in javadoc/phpDocumentor style. While working through each file manually and being forced to do a code review alongside the documenting would be the best thing, I am, simply out of time constraints, interested in tools to help me automate the task as much as possible. The tool I am thinking about would ideally have the following features:Parse a PHP project tree and tell me where there are undocumented files, classes, and functions/methods (i.e. elements missing the appropriate docblock comment)Provide a method to half-way easily add the missing docblocks by creating the empty structures and, ideally, opening the file in an editor (internal or external I don't care) so I can put in the description.Optional:Automatic recognition of parameter types, return values and such. But that's not really required.The language in question is PHP, though I could imagine that a C/Java tool might be able to handle PHP files after some tweaking.Thanks for your great input! <code> ",A tool to add and complete PHP source code documentation
A tool to find and add(!) missing docblocks," I have several finished, older PHP projects with a lot of includes that I would like to document in javadoc/phpDocumentor style. While working through each file manually and being forced to do a code review alongside the documenting would be the best thing, I am, simply out of time constraints, interested in tools to help me automate the task as much as possible. The tool I am thinking about would ideally have the following features:Parse a PHP project tree and tell me where there are undocumented files, classes, and functions/methods (i.e. elements missing the appropriate docblock comment)Provide a method to half-way easily add the missing docblocks by creating the empty structures and, ideally, opening the file in an editor (internal or external I don't care) so I can put in the description.Optional:Automatic recognition of parameter types, return values and such. But that's not really required.The language in question is PHP, though I could imagine that a C/Java tool might be able to handle PHP files after some tweaking.Thanks for your great input! <code> ",A tool to add and complete PHP source code documentation
A tool to aid with the adding of missing docblocks," I have several finished, older PHP projects with a lot of includes that I would like to document in javadoc/phpDocumentor style. While working through each file manually and being forced to do a code review alongside the documenting would be the best thing, I am, simply out of time constraints, interested in tools to help me automate the task as much as possible. The tool I am thinking about would ideally have the following features:Parse a PHP project tree and tell me where there are undocumented files, classes, and functions/methods (i.e. elements missing the appropriate docblock comment)Provide a method to half-way easily add the missing docblocks by creating the empty structures and, ideally, opening the file in an editor (internal or external I don't care) so I can put in the description.Optional:Automatic recognition of parameter types, return values and such. But that's not really required.The language in question is PHP, though I could imagine that a C/Java tool might be able to handle PHP files after some tweaking.Thanks for your great input! <code> ",A tool to add and complete PHP source code documentation
A tool to aid completion of missing or incomplete source code documentation," I have several finished, older PHP projects with a lot of includes that I would like to document in javadoc/phpDocumentor style. While working through each file manually and being forced to do a code review alongside the documenting would be the best thing, I am, simply out of time constraints, interested in tools to help me automate the task as much as possible. The tool I am thinking about would ideally have the following features:Parse a PHP project tree and tell me where there are undocumented files, classes, and functions/methods (i.e. elements missing the appropriate docblock comment)Provide a method to half-way easily add the missing docblocks by creating the empty structures and, ideally, opening the file in an editor (internal or external I don't care) so I can put in the description.Optional:Automatic recognition of parameter types, return values and such. But that's not really required.The language in question is PHP, though I could imagine that a C/Java tool might be able to handle PHP files after some tweaking.Thanks for your great input! <code> ",A tool to add and complete PHP source code documentation
A tool to find and fix incomplete source code documentation," I have several finished, older PHP projects with a lot of includes that I would like to document in javadoc/phpDocumentor style. While working through each file manually and being forced to do a code review alongside the documenting would be the best thing, I am, simply out of time constraints, interested in tools to help me automate the task as much as possible. The tool I am thinking about would ideally have the following features:Parse a PHP project tree and tell me where there are undocumented files, classes, and functions/methods (i.e. elements missing the appropriate docblock comment)Provide a method to half-way easily add the missing docblocks by creating the empty structures and, ideally, opening the file in an editor (internal or external I don't care) so I can put in the description.Optional:Automatic recognition of parameter types, return values and such. But that's not really required.The language in question is PHP, though I could imagine that a C/Java tool might be able to handle PHP files after some tweaking.Thanks for your great input! <code> ",A tool to add and complete PHP source code documentation
Date Difference in php?," Is there a quick way to calculate date difference in php? For example: And then do a calculation, $date2 minus $date1I read php.net documentation, but no luck. Is there a quick way to do it? <code>  $date1 = '2009-11-12 12:09:08';$date2 = '2009-12-01 08:20:11';",Date Difference in php on days?
PHP class instantiation. To use or not to use the parenthesis?," I've always assumed that - in the absence of constructor parameters - the parentheses (curly brackets) follow the class name when creating a class instance, were optional, and that you could include or exclude them at your own personal whim.That these two statements were equal: Am I right? Or is there some significance to the brackets that I am unaware of?I know this sounds like a RTM question, but I've been searching for a while (including the entire PHP OOP section) and I can't seem to find a straight answer. <code>  $foo = new bar;$foo = new bar();",PHP class instantiation. To use or not to use the parentheses?
"How to check if an string starts with ""_"" in PHP?"," Example: I have a $variable = ""_foo"", and I want to make absolutely sure that $variable does not start with an underscore ""_"". How can I do that in PHP? Is there some access to the char array behind the string? <code> ","How to check if a string starts with ""_"" in PHP?"
How to check if an array element exists?," Example: I'm checking for the existence of an array element like this: However, I keep getting this error:Notice: Undefined index: test in /Applications/MAMP/htdocs/mysite/MyClass.php on line 16Of course, the first time I want an instance, $instances will not know the key. I guess my check for available instance is wrong? <code>  if (!self::$instances[$instanceKey]) { $instances[$instanceKey] = $theInstance;}",How can I check if an array element exists?
How to specify the parent query field from within a subquery in mySQL?," How do I specify the parent query field from within a subquery in MySQL?For Example:I have written a basic Bulletin Board type program in PHP.In the database each post contains: id(PK) and parent_id(the id of the parent post). If the post is itself a parent, then its parent_id is set to 0.I am trying to write a mySQL query that will find every parent post and the number of children that the parent has. The tricky part is that the first id doesn't know that it should be referring to the second id that is outside of the subquery. I know that I can do SELECT id AS id_tmp and then refer to it inside the subquery, but then if I want to also return the id and keep ""id"" as the column name, then I'd have to do a query that returns me 2 columns with the same data (which seems messy to me) The messy way works fine, but I feel an opportunity to learn something here so I thought I'd post the question. <code>  $query = ""SELECT id, ( SELECT COUNT(1) FROM post_table WHERE parent_id = id) as num_childrenFROM post_tableWHERE parent_id = 0""; $query = ""SELECT id, id AS id_tmp, (SELECT COUNT(1) FROM post_table WHERE parent_id = id_tmp) as num_children FROM post_table WHERE parent_id = 0"";",How to specify the parent query field from within a subquery in MySQL?
date minus 1 year?, I've got a date in this format: How do I return the same date but 1 year earlier? <code>  2009-01-01,Date minus 1 year?
"In php, how to detect the execution is from CLI mode or through browser ?"," I have a common script which Im including in my PHPcron files and the files which are accessing through the browser. Some part of the code, I need only for non cron files. How can I detect whether the execution is from CLI or through browser (I know it can be done by passing some arguments with the cron files but I dont have access to crontab). Is there any other way ? <code> ","In PHP, how to detect the execution is from CLI mode or through browser ?"
Is it possible that real number would have only two numbers after dot? Mysql," I want that real numbers would be for example 12.92, but not 12.9241. Is it possible to do like that? <code> ",How do I format numbers to have only two decimal places?
Classes. Whats the point?," I'm fairly new to OOP in PHP, I've made a couple of basic scripts but nothing impressive. All I've really taken from it is that it would probably be easier just make a collection of functions and include them. The structure of classes seems to just confuse what was otherwise a simple process. And in collating everything into a class it doesn't really add any functionality.So I'm clearly missing something. Could someone explain what functionality is added by creating classes <code> ",Classes. What's the point?
PHP: htmlspecialchar on an array?," How do I run the PHP function htmlspecialchars() on an array of array objects?I have the following code: UPDATE:Please note that even though there are quite a few answers below, none of them work for an array-of-arrays. The answers below only work for simple arrays.I've tried the following, but it doesn't work: I get the following error: htmlspecialchars() expects parameter 2 to be long, string givenUPDATE 2When I try: I get the following, undesired, output: UPDATE 3When I try: I get the following, undesired, results: <code>  $result_set = Array( [0] => Array ( [home_id] => 1 [address] => 4225 Nasmyth Dr [city] => Plano [state] => TX [zip] => 76798 ) [1] => Array ( [home_id] => 8 [address] => 4229 Nasmyth Dr [city] => Plano [state] => TX [zip] => 75093 ));// this doesn't work since $result_set is an array of arrays and htmlspecialchars is expecting a stringhtmlspecialchars($result_set, ENT_QUOTES, 'UTF-8')); array_walk_recursive($result_set, ""htmlspecialchars"", array(ENT_QUOTES,'UTF-8')) function cleanOutput(&$value) { return htmlspecialchars($value, ENT_QUOTES, 'UTF-8');}print_r($result_set);print('-------');print_r(array_walk_recursive($result_set, ""cleanOutput"")); Array( [0] => Array ( [home_id] => 1 [address] => 4225 Nasmyth Dr [city] => Plano [state] => TX [zip] => 76798 ) [1] => Array ( [home_id] => 8 [address] => 4229 Nasmyth Dr [city] => Plano [state] => TX [zip] => 75093 ))-------1 function cleanOutput(&$value) { return htmlspecialchars($value, ENT_QUOTES, 'UTF-8');}$result_set = Array ( [0] => Array ( [home_id] => 1 [address] => 4225 Nasmyth Dr [city] => Plano [state] => TX [zip] => 76798 ) [1] => Array ( [home_id] => 8 [address] => 4229 Nasmyth Dr [city] => Plano [state] => TX [zip] => 75093 ) );$cleanedOutput = array();foreach ($result_set as $rs) { $cleaned[] = array_map(""cleanOutput"", $rs);}print_r($cleanedOutput); {'homes' : []}",PHP: how to perform htmlspecialchar() on an array-of-arrays?
PHP: how to perform htmlspecialchar() on an array of arrays?," How do I run the PHP function htmlspecialchars() on an array of array objects?I have the following code: UPDATE:Please note that even though there are quite a few answers below, none of them work for an array-of-arrays. The answers below only work for simple arrays.I've tried the following, but it doesn't work: I get the following error: htmlspecialchars() expects parameter 2 to be long, string givenUPDATE 2When I try: I get the following, undesired, output: UPDATE 3When I try: I get the following, undesired, results: <code>  $result_set = Array( [0] => Array ( [home_id] => 1 [address] => 4225 Nasmyth Dr [city] => Plano [state] => TX [zip] => 76798 ) [1] => Array ( [home_id] => 8 [address] => 4229 Nasmyth Dr [city] => Plano [state] => TX [zip] => 75093 ));// this doesn't work since $result_set is an array of arrays and htmlspecialchars is expecting a stringhtmlspecialchars($result_set, ENT_QUOTES, 'UTF-8')); array_walk_recursive($result_set, ""htmlspecialchars"", array(ENT_QUOTES,'UTF-8')) function cleanOutput(&$value) { return htmlspecialchars($value, ENT_QUOTES, 'UTF-8');}print_r($result_set);print('-------');print_r(array_walk_recursive($result_set, ""cleanOutput"")); Array( [0] => Array ( [home_id] => 1 [address] => 4225 Nasmyth Dr [city] => Plano [state] => TX [zip] => 76798 ) [1] => Array ( [home_id] => 8 [address] => 4229 Nasmyth Dr [city] => Plano [state] => TX [zip] => 75093 ))-------1 function cleanOutput(&$value) { return htmlspecialchars($value, ENT_QUOTES, 'UTF-8');}$result_set = Array ( [0] => Array ( [home_id] => 1 [address] => 4225 Nasmyth Dr [city] => Plano [state] => TX [zip] => 76798 ) [1] => Array ( [home_id] => 8 [address] => 4229 Nasmyth Dr [city] => Plano [state] => TX [zip] => 75093 ) );$cleanedOutput = array();foreach ($result_set as $rs) { $cleaned[] = array_map(""cleanOutput"", $rs);}print_r($cleanedOutput); {'homes' : []}",PHP: how to perform htmlspecialchar() on an array-of-arrays?
PHP- Split records into two column," I have a ""student"" table, having around 5,000 records, in my DB. I want to display those records in two divs. How do I do that without executing the query twice; only using a single query?display example http://www.freeimagehosting.net/uploads/f1c6bb41eb.gif <code> ",Split records into two columns
PHP: Create new XML file and write data to it?," I need to create a new XML file and write that to my server. So, I am looking for the best way to create a new XML file, write some base nodes to it, save it. Then open it again and write more data.I have been using file_put_contents() to save the file. But, to create a new one and write some base nodes I am not sure of the best method.Ideas? <code> ",Create new XML file and write data to it?
Hyper PHP by Facebook," Following this rather comical interview with a Facebook ""employee""... Does anybody have any details on the Hyper PHP (now renamed to HipHop) that those smart as balls Facebook guys have developed? <code> ",HipHop PHP (was Hyper PHP by Facebook)
"How to get Controller, Action, URL informations with CodeIgniter"," I have these URLs:http://backend.domain.com/system/setting/edit/12 http://backend.domain.com/product/edit/1How to get controller name, action name from these URLs. I'm CodeIgniter newbie. Are there any helper function to get this infoEx: Where $params becomes something like  <code>  $params = helper_function( current_url() ) array ( 'controller' => 'system/settings', 'action' => 'edit', '...'=>'...')","CodeIgniter: How to get Controller, Action, URL information"
Minify / obfuscate PHP code," I use Haxe to generate PHP code. (This means you write you code in the Haxe language and get a bunch of php files after compiling.) Today a customer told me that he needs a new feature on a old project made with Haxe. He also told me that he altered some small things on the code for his own needs. Now I first have port his changes to my Haxe code and then add the new feature, because otherwise his changes will be overwritten by the next time I compile the project.To prevent that this happens again I am looking for some kind of program that minifies / obfuscates the PHP code. The goal is to make the code unreadable / uneditable as possible.The ideal tool would run under Linux and could process whole folders and all it containing files.Anybody any suggestions? <code> ",Minify / Obfuscate PHP Code
How to get phpinfo() variables from php programatically? ," I am attempting to get a list of dependable(consistent across requests) list of ""hidden"" constants in PHP(as in, the client-side won't know about it in most cases without hacking). Some of the things I am interested in is the following:./configure options.I would also like the very first System value in phpinfo. The loaded PHP modules(as shown in the Apache section)The build date of PHP.Registered PHP streamsRegistered stream socket transportsRegistered stream filtersHow can I get either just a portion of the phpinfo or get these values as a regular string? Note that it doesn't matter if there if markup included, but I don't want to parse the phpinfo as that just seems really slow and surely there is a better way..  <code> ",How to get phpinfo() variables from php programmatically?
How to know if an onbject from a relation exists in the database.," I'm using Symfony with Doctrine.I have two classes defined, Person and Student, a relation one to one. Each Student is related to a Person, but not every Person has a relation with a Student.When I call ... ... I always get and object, regardless some Person's doesn't have a Student. How can I know it doesn't (the Student) exist in the database?Thanks.  <code>  $person->getStudent();",How to know if an object from a relation exists in the database.
PHP file_get_contents() and headers," With PHP, is it possible to send HTTP headers with file_get_contents() ?I know you can send the user agent from your php.ini file. However, can you also send other information such as HTTP_ACCEPT, HTTP_ACCEPT_LANGUAGE, and HTTP_CONNECTION with file_get_contents() ?Or is there another function that will accomplish this? <code> ",PHP file_get_contents() and setting request headers
php page redirect," Can PHP make a redirect call after executing a function? I am creating a function on the completion of which I want it to redirect to a file located in the same root folder. Can it be done? <code>  if (...) { // I am using echo here.} else if ($_SESSION['qnum'] > 10) { session_destroy(); echo ""Some error occured.""; // Redirect to ""user.php"".}",PHP page redirect
How to push both value and key into array with php," Take a look at this code: I'm looking for something like this so that: Is there a function to do this? (because array_push won't work this way) <code>  $GET = array(); $key = 'one=1';$rule = explode('=', $key);/* array_push($GET, $rule[0] => $rule[1]); */ print_r($GET);/* output: $GET[one => 1, two => 2, ...] */",How to push both value and key into PHP array
How to push both value and key into array (php)," Take a look at this code: I'm looking for something like this so that: Is there a function to do this? (because array_push won't work this way) <code>  $GET = array(); $key = 'one=1';$rule = explode('=', $key);/* array_push($GET, $rule[0] => $rule[1]); */ print_r($GET);/* output: $GET[one => 1, two => 2, ...] */",How to push both value and key into PHP array
How to push both value and key into array," Take a look at this code: I'm looking for something like this so that: Is there a function to do this? (because array_push won't work this way) <code>  $GET = array(); $key = 'one=1';$rule = explode('=', $key);/* array_push($GET, $rule[0] => $rule[1]); */ print_r($GET);/* output: $GET[one => 1, two => 2, ...] */",How to push both value and key into PHP array
determine number of dimensions in PHP array, Is there a way to determine how many dimensions there are in a PHP array? <code> ,Determine number of Dimensions in a PHP Array
Better way save password in mysql which can be decryted also using php," I am currently using md5 function to encrypt my password and save to mysql db which can not be decrypted.Now my user want that when they forgot password, they should get same (old) password instead of new password.So my question is that what should i use to encrypt my password and store in mysql Database.And i can decrypt that password also.i am running on php and mysql.ThanksAvinash <code> ",Better way save password in mysql which can be decrypted also using php
"[PHP] Find common chars in array of strings, in the right order ... HEEELPPP"," I spent days working on a function to get common chars in an array of strings, in the right order, to create a wildcard.Here is an example to explain my problem. I made about 3 functions, but I always have a bug when the absolute position of each letter is different.Let's assume ""+"" is the ""wildcard char"": Should return : In this example, the tricky thing is that $array[2] as 1 char more than others.Other example : Should return : In this example, the tricky parts are : - Repeating chars, such as 1 -> 11 in the ""to delete"" part, and c -> cc in the common part - The ""2"" char in $array[2] & [3] in the ""to delete"" part is not in the same position - The ""1"" char at the end of the last string I really need help because I can't find a solution to this function and it is a main part of my application.Thanks in advance, don't hesitate to ask questions, I will answer as fast as possible.Mykeul <code>  Array(0 => '48ca135e0$5',1 => 'b8ca136a0$5',2 => 'c48ca13730$5',3 => '48ca137a0$5'); $wildcard='+8ca13+0$5'; Array(0 => ""case1b25.occHH&FmM"",1 => ""case11b25.occHH&FmM"",2 => ""case12b25.occHH&FmM"",3 => ""case20b25.occHH&FmM1""); $wildcard='case+b25.occHH&FmM+';","Find common chars in array of strings, in the right order"
"Find common chars in array of strings, in the right order."," I spent days working on a function to get common chars in an array of strings, in the right order, to create a wildcard.Here is an example to explain my problem. I made about 3 functions, but I always have a bug when the absolute position of each letter is different.Let's assume ""+"" is the ""wildcard char"": Should return : In this example, the tricky thing is that $array[2] as 1 char more than others.Other example : Should return : In this example, the tricky parts are : - Repeating chars, such as 1 -> 11 in the ""to delete"" part, and c -> cc in the common part - The ""2"" char in $array[2] & [3] in the ""to delete"" part is not in the same position - The ""1"" char at the end of the last string I really need help because I can't find a solution to this function and it is a main part of my application.Thanks in advance, don't hesitate to ask questions, I will answer as fast as possible.Mykeul <code>  Array(0 => '48ca135e0$5',1 => 'b8ca136a0$5',2 => 'c48ca13730$5',3 => '48ca137a0$5'); $wildcard='+8ca13+0$5'; Array(0 => ""case1b25.occHH&FmM"",1 => ""case11b25.occHH&FmM"",2 => ""case12b25.occHH&FmM"",3 => ""case20b25.occHH&FmM1""); $wildcard='case+b25.occHH&FmM+';","Find common chars in array of strings, in the right order"
Drupal: Exposing module data to Views2," I'm forking the filefield_stats module to provide it with the ability of exposing data into the Views module via the API.The filefield_stats schema is as follow: Well, so I implemented the hook_views_api() in filefield_stats.module & added a filefield_stats.views.inc file in the module's root directory, here it is: According to the Views2 documentations this should work as a minimum, I think. But it doesn't! Also there is no error of any kind, when I come through the views UI, there's nothing about filefield_stats data. Any idea? <code>  function filefield_stats_schema() { $schema['filefield_stats'] = array( 'fields' => array( 'fid' => array('type' => 'int', 'unsigned' => TRUE, 'not null' => TRUE, 'description' => 'Primary Key: the {files}.fid'), 'vid' => array('type' => 'int', 'unsigned' => TRUE, 'not null' => TRUE, 'description' => 'Primary Key: the {node}.vid'), 'uid' => array('type' => 'int', 'unsigned' => TRUE, 'not null' => TRUE, 'description' => 'The {users}.uid of the downloader'), 'timestamp' => array('type' => 'int', 'unsigned' => TRUE, 'not null' => TRUE, 'description' => 'The timestamp of the download'), 'hostname' => array('type' => 'varchar', 'length' => 128, 'not null' => TRUE, 'default' => '', 'description' => 'The hostname downloading the file (usually IP)'), 'referer' => array('type' => 'text', 'not null' => FALSE, 'description' => 'Referer for the download'), ), 'indexes' => array('fid_vid' => array('fid', 'vid')), ); return $schema;} // $Id$/** * @file * Provide the ability of exposing data to Views2, for filefield_stats module. */function filefield_stats_views_data() { $data = array(); $data['filefield_stats']['table']['group'] = t('FilefieldStats'); // Referencing the {node_revisions} table. $data['filefield_stats']['table']['join'] = array( 'node_revisions' => array( 'left_field' => 'vid', 'field' => 'vid', ), 'files' => array( 'left_field' => 'fid', 'field' => 'fid', ), 'users' => array( 'left_field' => 'uid', 'field' => 'uid', ), ); // Introducing filefield_stats table fields to Views2. // vid: The node's revision ID which wrapped the downloaded file $data['filefield_stats']['vid'] = array( 'title' => t('Node revision ID'), 'help' => t('The node\'s revision ID which wrapped the downloaded file'), 'relationship' => array( 'base' => 'node_revisions', 'field' => 'vid', 'handler' => 'views_handler_relationship', 'label' => t('Node Revision Reference.'), ), ); // uid: The ID of the user who downloaded the file. $data['filefield_stats']['uid'] = array( 'title' => t('User ID'), 'help' => t('The ID of the user who downloaded the file.'), 'relationship' => array( 'base' => 'users', 'field' => 'uid', 'handler' => 'views_handler_relationship', 'label' => t('User Reference.'), ), ); // fid: The ID of the downloaded file. $data['filefield_stats']['fid'] = array( 'title' => t('File ID'), 'help' => t('The ID of the downloaded file.'), 'relationship' => array( 'base' => 'files', 'field' => 'fid', 'handler' => 'views_handler_relationship', 'label' => t('File Reference.'), ), ); // hostname: The hostname which the file has been downloaded from. $data['filefield_stats']['hostname'] = array( 'title' => t('The Hostname'), 'help' => t('The hostname which the file has been downloaded from.'), 'field' => array( 'handler' => 'views_handler_field', 'click sortable' => TRUE, ), 'sort' => array( 'handler' => 'views_handler_sort', ), 'filter' => array( 'handler' => 'views_handler_filter_string', ), 'argument' => array( 'handler' => 'views_handler_argument_string', ), ); // referer: The referer address which the file download link has been triggered from. $data['filefield_stats']['referer'] = array( 'title' => t('The Referer'), 'help' => t('The referer which the file download link has been triggered from.'), 'field' => array( 'handler' => 'views_handler_field', 'click sortable' => TRUE, ), 'sort' => array( 'handler' => 'views_handler_sort', ), 'filter' => array( 'handler' => 'views_handler_filter_string', ), 'argument' => array( 'handler' => 'views_handler_argument_string', ), ); // timestamp: The time of the download. $data['filefield_stats']['timestamp'] = array( 'title' => t('Download Time'), 'help' => t('The time of the download.'), 'field' => array( 'handler' => 'views_handler_field_date', 'click sortable' => TRUE, ), 'sort' => array( 'handler' => 'views_handler_sort_date', ), 'filter' => array( 'handler' => 'views_handler_filter_date', ), ); return $data;} // filefield_stats_views_data()",Exposing a module's data to Views2 using its API
Drupal: Exposing a module's data to Views2 using its API," I'm forking the filefield_stats module to provide it with the ability of exposing data into the Views module via the API.The filefield_stats schema is as follow: Well, so I implemented the hook_views_api() in filefield_stats.module & added a filefield_stats.views.inc file in the module's root directory, here it is: According to the Views2 documentations this should work as a minimum, I think. But it doesn't! Also there is no error of any kind, when I come through the views UI, there's nothing about filefield_stats data. Any idea? <code>  function filefield_stats_schema() { $schema['filefield_stats'] = array( 'fields' => array( 'fid' => array('type' => 'int', 'unsigned' => TRUE, 'not null' => TRUE, 'description' => 'Primary Key: the {files}.fid'), 'vid' => array('type' => 'int', 'unsigned' => TRUE, 'not null' => TRUE, 'description' => 'Primary Key: the {node}.vid'), 'uid' => array('type' => 'int', 'unsigned' => TRUE, 'not null' => TRUE, 'description' => 'The {users}.uid of the downloader'), 'timestamp' => array('type' => 'int', 'unsigned' => TRUE, 'not null' => TRUE, 'description' => 'The timestamp of the download'), 'hostname' => array('type' => 'varchar', 'length' => 128, 'not null' => TRUE, 'default' => '', 'description' => 'The hostname downloading the file (usually IP)'), 'referer' => array('type' => 'text', 'not null' => FALSE, 'description' => 'Referer for the download'), ), 'indexes' => array('fid_vid' => array('fid', 'vid')), ); return $schema;} // $Id$/** * @file * Provide the ability of exposing data to Views2, for filefield_stats module. */function filefield_stats_views_data() { $data = array(); $data['filefield_stats']['table']['group'] = t('FilefieldStats'); // Referencing the {node_revisions} table. $data['filefield_stats']['table']['join'] = array( 'node_revisions' => array( 'left_field' => 'vid', 'field' => 'vid', ), 'files' => array( 'left_field' => 'fid', 'field' => 'fid', ), 'users' => array( 'left_field' => 'uid', 'field' => 'uid', ), ); // Introducing filefield_stats table fields to Views2. // vid: The node's revision ID which wrapped the downloaded file $data['filefield_stats']['vid'] = array( 'title' => t('Node revision ID'), 'help' => t('The node\'s revision ID which wrapped the downloaded file'), 'relationship' => array( 'base' => 'node_revisions', 'field' => 'vid', 'handler' => 'views_handler_relationship', 'label' => t('Node Revision Reference.'), ), ); // uid: The ID of the user who downloaded the file. $data['filefield_stats']['uid'] = array( 'title' => t('User ID'), 'help' => t('The ID of the user who downloaded the file.'), 'relationship' => array( 'base' => 'users', 'field' => 'uid', 'handler' => 'views_handler_relationship', 'label' => t('User Reference.'), ), ); // fid: The ID of the downloaded file. $data['filefield_stats']['fid'] = array( 'title' => t('File ID'), 'help' => t('The ID of the downloaded file.'), 'relationship' => array( 'base' => 'files', 'field' => 'fid', 'handler' => 'views_handler_relationship', 'label' => t('File Reference.'), ), ); // hostname: The hostname which the file has been downloaded from. $data['filefield_stats']['hostname'] = array( 'title' => t('The Hostname'), 'help' => t('The hostname which the file has been downloaded from.'), 'field' => array( 'handler' => 'views_handler_field', 'click sortable' => TRUE, ), 'sort' => array( 'handler' => 'views_handler_sort', ), 'filter' => array( 'handler' => 'views_handler_filter_string', ), 'argument' => array( 'handler' => 'views_handler_argument_string', ), ); // referer: The referer address which the file download link has been triggered from. $data['filefield_stats']['referer'] = array( 'title' => t('The Referer'), 'help' => t('The referer which the file download link has been triggered from.'), 'field' => array( 'handler' => 'views_handler_field', 'click sortable' => TRUE, ), 'sort' => array( 'handler' => 'views_handler_sort', ), 'filter' => array( 'handler' => 'views_handler_filter_string', ), 'argument' => array( 'handler' => 'views_handler_argument_string', ), ); // timestamp: The time of the download. $data['filefield_stats']['timestamp'] = array( 'title' => t('Download Time'), 'help' => t('The time of the download.'), 'field' => array( 'handler' => 'views_handler_field_date', 'click sortable' => TRUE, ), 'sort' => array( 'handler' => 'views_handler_sort_date', ), 'filter' => array( 'handler' => 'views_handler_filter_date', ), ); return $data;} // filefield_stats_views_data()",Exposing a module's data to Views2 using its API
What is the equivalent of print_r in python?, Or is there a better way to quickly output the contents of an array (multidimensional or what not). Thanks. <code> ,What is the equivalent of php's print_r() in python?
How would I translate this C# code into PHP?  Solve the mystery of someone's crappy API doc!!," I need a PHP version of the following C# code: ... this code snippet appears to be incomplete. But here's what I think is going on:concatenating dateSince, siteID, and sharedSecret. Stealing underpants.???converting that string into a ascii encoded byte array.taking the MD5 hash of that array.This mysterious BitConverter object appears to be converting that MD5 hashed array, into a string of hexadecimal numbers. According to the aforementioned doc, the value of result should look something like: ""6D-E9-9A-B6-73-D8-10-79-BC-4F-EE-51-A4-84-15-D8""Any help is greatly appreciated!!Forgot to include this earlier. Here's the PHP version of what I've written so far: <code>  string dateSince = ""2010-02-01"";string siteID = ""bash.org"";string sharedSecret = ""12345""; // the same combination on my luggage!using System.Security.Cryptography;MD5CryptoServiceProvider x = new MD5CryptoServiceProvider();byte[] dataBytes = System.Text.Encoding.ASCII.GetBytes(string.Format(""{0}{1}{2}"", dateSince, siteID, sharedSecret));string result = BitConverter.ToString(x.ComputeHash(dataBytes)); $date_since = ""2010-02-01"";$site_id = ""bash.org"";$shared_secret = ""12345"";$initial_token = $date_since.$site_id.$shared_secret;$ascii_version = array();foreach($i=0; $i < strlen($initial_token); $i++) { $ascii_version[] = ord(substr($initial_token,$i,1));}$md5_version = md5(join("""", $ascii_version));$hexadecimal_bits = array();foreach($i=0; $i < strlen($md5_version); $i++) { // @todo convert to hexadecimal here? $hexadecimal_bits[] = bin2hex(substr($md5_version,$i,1));}$result = join(""-"", $hexadecimal_bits);",How would I translate this C# code into PHP?
Question about PHP classes, I am wondering what is the difference between $this->name and $this->$name? Also does $this have to be strictly named this or can it be anything? <code> ,What is the difference between `$this->name` and `$this->$name`?
PHP Determine if the character is an alphabet., Having problems with this.Let's say I have a parameter composed of a single character and I only want to accept alphabetic characters. How will I determine that the parameter passed is a member of the latin alphabet (az)?By the way Im using PHP Kohana 3.Thanks. <code> ,Determine if a character is alphabetic
[PHP] Unset Class, I have a complete Form Creation System. There are many different Question Types and I have to check if the answer which the person had made is correct.All types of Questions has its own class will is always called ItemClass and this Class is in its own File.Everytime a Question is asked I include the File and there is the problem: I have to check different types of Questions in one PHP-File. And then there comes the error - ItemClass already declared.Is there any method to unset a Class? <code> ,"How can i ""unset"" a class that has been declared"
Is there a way to get `true`/`false` values from a Boolean in PHP," When I cast to Boolean (using (bool)), is there a built in way to get PHP to actually return the constants true or false. At the moment I'm getting 1 or blank, which evaluate to true and false respectively.I want the value returned for clearer semantics. However, if I can't get it, I'll just settle with 1 and blank. <code> ","Is there a way to get ""true""/""false"" string values from a Boolean in PHP?"
Check if an include (or requre) exisits.," How do you check if an include / require_once exists before you call it, I tried putting it in an error block, but PHP didn't like that.I think file_exists() would work with some effort, however that would require the whole file path, and a relative include could not be passed into it easily.Are there any other ways? <code> ",Check if an include (or require) exists.
Check if an include (or require) exisits.," How do you check if an include / require_once exists before you call it, I tried putting it in an error block, but PHP didn't like that.I think file_exists() would work with some effort, however that would require the whole file path, and a relative include could not be passed into it easily.Are there any other ways? <code> ",Check if an include (or require) exists.
Why does php has $ sign in front of variables., In PHP and some other scripting languages have the $var syntax while Java and other languages we can do just var. Is there any theory behind it? Does it help them to parse. If not why would they choose to tack on an extra character in front? <code> ,Why does PHP have a $ sign in front of variables?
Why does php has $ sign in front of variables?, In PHP and some other scripting languages have the $var syntax while Java and other languages we can do just var. Is there any theory behind it? Does it help them to parse. If not why would they choose to tack on an extra character in front? <code> ,Why does PHP have a $ sign in front of variables?
Why does php have a $ sign in front of variables?, In PHP and some other scripting languages have the $var syntax while Java and other languages we can do just var. Is there any theory behind it? Does it help them to parse. If not why would they choose to tack on an extra character in front? <code> ,Why does PHP have a $ sign in front of variables?
adding attributes to soapVar," I'd like to create soapVars with attributes like this: Is this possible with the SoapVar constructor, but without using XSD_ANYXML and raw xml strings? <code>  <tag attr=""xxx"">yyy</tag>",How to add attributes to soapVars
PHP checkbox input, How do I check in PHP whether a checkbox is checked or not? <code> ,How do I see which checkbox is checked?
What is the purpose of abstract class?," I am trying to learn OOP in PHP, and I have some confusion about interfaces and abstract classes. They both contain no implementations, only definitions, and should be implemented through their sub-classes. What part of abstract classes clearly distinguishes them from interfaces? Also, due to their apparent similarities, based on what reasons should I decide to use one over the other? <code> ",What is the purpose of abstract classes?
New Database Design," I am currently planning a new system in PHP/MySQL and want to make sure my database can handle the amount of data that I am planning to store. One of the features of my new project is a ""messages"" feature like Facebook. I want to make sure I create the best possible experience for the end user. The website will eventually handle 1000's of users with potentially millions of messages collectively. What would be the best approach for the database design? Is MySQL even the right database to use? <code> ",Database Design for Facebook-like messages
PHP create a folder if it doesn't already exist," I've run into a few cases with WordPress installs with Bluehost where I've encountered errors with my WordPress theme because the uploads folder wp-content/uploads was not present.Apparently the Bluehost cPanel WordPress installer does not create this folder, though HostGator does.So I need to add code to my theme that checks for the folder and creates it otherwise. <code> ",Create a folder if it doesn't already exist
php surround string with quotes," Is there a function in PHP that adds quotes to a string?like ""'"".str.""'""This is for a sql query with varchars. I searched a little, without result...I do the following: <code>  $id = ""NULL"";$company_name = $_POST['company_name']; $country = $_POST['country'];$chat_language = $_POST['chat_language'];$contact_firstname = $_POST['contact_firstname'];$contact_lastname = $_POST['contact_lastname'];$email = $_POST['email'];$tel_fix = $_POST['tel_fix'];$tel_mob = $_POST['tel_mob']; $address = $_POST['address']; $rating = $_POST['rating'];$company_name = ""'"".mysql_real_escape_string(stripslashes($company_name)).""'"";$country = ""'"".mysql_real_escape_string(stripslashes($country)).""'"";$chat_language = ""'"".mysql_real_escape_string(stripslashes($chat_language)).""'"";$contact_firstname = ""'"".mysql_real_escape_string(stripslashes($contact_firstname)).""'"";$contact_lastname = ""'"".mysql_real_escape_string(stripslashes($contact_lastname)).""'"";$email = ""'"".mysql_real_escape_string(stripslashes($email)).""'"";$tel_fix = ""'"".mysql_real_escape_string(stripslashes($tel_fix)).""'"";$tel_mob = ""'"".mysql_real_escape_string(stripslashes($tel_mob)).""'"";$address = ""'"".mysql_real_escape_string(stripslashes($address)).""'"";$rating = mysql_real_escape_string(stripslashes($rating));$array = array($id, $company_name, $country, $chat_language, $contact_firstname, $contact_lastname, $email, $tel_fix, $tel_mob, $address, $rating);$values = implode("", "", $array);$query = ""insert into COMPANIES values("".$values."");"";",Surround string with quotes
Problem with jQuery AJAX requests: relative vs. absolute urls," I'm having a hard time getting my AJAX requests to work on a staging server. It all worked fine on my development machine, but as soon as I uploaded it, all my AJAX requests stopped working. I found out that, if I change the relative urls (eg. ""index.php"") to absolute urls (""http://example.com/index.php"") the requests work again, but I do not understand why.Example request: This does not work, I does not even show up in the firebug console. The success handler is called though, which is very confusing.This works just fine: Can anybody explain why AJAX requests behave in this way? x_X <code>  jQuery.post('index.php', {id: 1234, action: 1, step: 1}, function(data) { /* something */ }); jQuery.post('http://example.com/index.php', {id: 1234, action: 1, step: 1}, function(data) { /* something */ });",Relative vs. absolute urls in jQuery AJAX requests
End my urls with trailing slash (/) or not? And how do I go about it doing this with codeigniter..," I am trying to figure out which is most appropriate. From the articles I have read, it seems best to end url's with a trailing slash.So instead of:http://example.url/articleIt would read:http://example.url/article/First I adjusted my htaccess to force a trailing slash. Then I started implementing this in my links and I thought if I did anchor('article/','article') it would work, but it seems that this function strips the trailing slash.To get around this I changed the config file to have $config['url_suffix'] = '/'. Which worked mostly fine - except I have a document area on my site with pdf's and such. So the links created there would turn out like http://example.url/documents/doc1.pdf/ . This of course does not work.What do you think my solution is here? I guess I could go back to any page I referenced documents or files in and adjust them to not use the anchor function, but I feel like there should be an easier way. <code>  RewriteCond %{REQUEST_FILENAME} !-fRewriteCond %{REQUEST_URI} ^.+[^/]$RewriteRule ^(.+)$ $1/ ",End my urls with trailing slash (/) or not? And how do I go about it doing this with codeigniter
How to use stdin and stdout stream wrappers via the command line from PHP," I am trying to write a PHP script that uses the pdftk app to merge an XFDF with a PDF form and output the merged PDF to the user. According to the pdftk documentation, I can pass the form data in via stdin and have the PDF output to the stdout stream. The normal, file-not-stream way to use pdftk from the command line is: to use streams on the command line, you'd enter: I have a couple of problems:1) I have gotten pdftk to return output via stdout using an xfdf file (instead of stdin) like so: But the pdf that it creates is corrupt, according to Adobe Reader and a quick peek at the file with a text editor shows that, at the very least, it is not setting the line endings where they should be. I have an identical PDF created by pdftk where it output to a file, and the pdf looks fine in the text editor, so I know that it's not pdftk that's outputting bad data.2) I can not for the life of me figure out how to set the stdin stream in PHP so that I can use that stream as my input for pdftk. From what I'm reading on the PHP documentation, stdin is read-only, so how does anything ever get into that stream?Ideally, I would like to keep this really simple and avoid using proc_open(). I attempted to use that function and wasn't very sucessful, which is probably my fault, not the function's, but really my goals are simple enough I'd rather avoid using robust functions I don't need.Ideally my code would look something like: Just a heads up, it is possible to put the actual xml string in the command line, but I've had very unreliable results with this.EditWith much help, I now understand that my real question was ""how can pipe a variable to a command line execution in PHP"". Apparently proc_open is the best way to go, or at least the most straightforward. Since it took me forever to figure this out and since my research on Google suggests others may be struggling, I'll post the code that specifically worked for my problem: <code>  pdftk blankform.pdf fill_form formdata.xfdf output filledform.pdf pdftk blankform.pdf fill_form - output - exec(""pdftk blankform.pdf fill_form formdata.xfdf output -"", $pdf_output); file_put_contents(""filledform.pdf"",$pdf_output); $form_data_raw = $_POST; $form_data_xfdf = raw2xfdf($form_data_raw); //some function that turns HTML-form data to XFDF $blank_pdf_form = ""blankform.pdf""; header('Content-type: application/pdf'); header('Content-Disposition: attachment; filename=""output.pdf""'); passthru(""pdftk $blank_pdf_form fill_form $form_data_xfdf output -); $blank_pdf_form = ""blankform.pdf"";$cmd = ""pdftk $blank_pdf_form fill_form - output -"";$descriptorspec = array( 0 => array(""pipe"", ""r""), 1 => array(""pipe"", ""w""));$process = proc_open($cmd, $descriptorspec, $pipes);if (is_resource($process)) { //row2xfdf is made-up function that turns HTML-form data to XFDF fwrite($pipes[0], raw2xfdf($_POST)); fclose($pipes[0]); $pdf_content = stream_get_contents($pipes[1]); fclose($pipes[1]); $return_value = proc_close($process); header('Content-type: application/pdf'); header('Content-Disposition: attachment; filename=""output.pdf""'); echo $pdf_content;}",How to pass variables as stdin into command line from PHP
Which PHP files are used and which are not," I got a large PHP website which I'm now about to take care of. It contains hundreds of separate PHP files, but I suspect only less than a half is really being used. Most of them probably can be deleted.But the last thing I really want to do is going through the code of each file and check whether its linked, included, required...etc. to others or whether it can be safely deleted.Do you know whether there's any tool which is capable of doing this? <code> ",How to tell which PHP files are actually used and which are not?
What does the & sign mean in PHP?," I was trying to find this answer on Google, but I guess the symbol & works as some operator, or is just not generally a searchable term for any reason.. anyhow. I saw this code snippet while learning how to create WordPress plugins, so I just need to know what the & means when it precedes a variable that holds a class object. <code>  //Actions and Filtersif (isset($dl_pluginSeries)) { //Actions add_action('wp_head', array(&$dl_pluginSeries, 'addHeaderCode'), 1); //Filters add_filter('the_content', array(&$dl_pluginSeries, 'addContent'));}","What does the ""&"" sign mean in PHP?"
PHP copy problem with uploaded file," how can I copy two times the same file? I'm trying to do something like this: And how many time does temp files has before it's destroyed by the server?I try using move_uploaded_file also, but I can't make it work. I want to generate 2 thumbs from an uploaded file. Some help?Thanks,  <code>  copy($file['tmp_name'], $folder.""1.jpg""); copy($file['tmp_name'], $folder.""2.jpg""); copy($file['tmp_name'], $folder.""3.jpg"");",PHP: how do I copy a temp file upload to multiple places?
Codeigniter Routes regex, I'm looking for a one line route to route dashed controller and method names to the actual underscored controller and method names.For example the URL would route to see: http://codeigniter.com/forums/viewreply/696690/ which gave me the idea to ask :) <code>  /controller-name/method-name-which-is-long/ /controller_name/method_name_which_is_long/,Codeigniter Routes regex - using dashes in controller/method names
PHP How to create comma separated list from array?," I know how to loop through items of an array using foreach and append a comma, but it's always a pain having to take off the final comma. Is there an easy PHP way of doing it? Ultimately I want <code>  $fruit = array('apple', 'banana', 'pear', 'grape'); $result = ""apple, banana, pear, grape""",How do I create a comma-separated list from an array in PHP?
How to create comma separated list from array in PHP?," I know how to loop through items of an array using foreach and append a comma, but it's always a pain having to take off the final comma. Is there an easy PHP way of doing it? Ultimately I want <code>  $fruit = array('apple', 'banana', 'pear', 'grape'); $result = ""apple, banana, pear, grape""",How do I create a comma-separated list from an array in PHP?
PHP: Count values of array," I know the function count() of php,but what's the function for counting how often a value appear in an array?Example: Now I want to count how often ""Test"" appears. <code>  $array = array( [0] => 'Test', [1] => 'Tutorial', [2] => 'Video', [3] => 'Test', [4] => 'Test');",Count how often a particular value appears in an array
how can i call php script from perl, How can I call a PHP script from a Perl script and get its output as a variable? <code> ,How can I invoke a PHP script from Perl?
How does PHP PDO works internally ?," I want to use pdo in my application, but before that I want to understand how internally PDOStatement->fetch and PDOStatement->fetchAll. For my application, I want to do something like ""SELECT * FROM myTable"" and insert into csv file and it has around 90000 rows of data. My question is, if I use PDOStatement->fetch as I am using it here: Will after every fetch from database, result for that fetch would be store in memory ?Meaning when I do second fetch, memory would have data of first fetch as well as data for second fetch.And so if I have 90000 rows of data and if am doing fetch every time than memory is being updated to take new fetch result without removing results from previous fetch and so for the last fetch memory would already have 89999 rows of data. Is this how PDOStatement::fetchworks ?Performance wise how does this stackup against PDOStatement::fetchAll ?Update: Something about fetch and fetchAll from memory usage point of viewJust wanted to added some thing to this question as recently found something regarding fetch and fetchAll, hope this would make this question worthwhile for people would visit this question in future to get some understanding on fetch and fetchAll parameters. fetch does not store information in memory and it works on row to row basis, so it would go through the result set and return row 1, than again would go to the result set and than again return row 2 mind here that it will not return row 1 as well as 2 but would only return row 2, so fetch will not store anything into memory but fetchAll will store details into the memories. So fetch is better option compared to fetchAll if we are dealing with an resultant set of around 100K in size.  <code>  // First, prepare the statement, using placeholders$query = ""SELECT * FROM tableName"";$stmt = $this->connection->prepare($query);// Execute the statement$stmt->execute();var_dump($stmt->fetch(PDO::FETCH_ASSOC));while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {echo ""Hi"";// Export every row to a filefputcsv($data, $row);}",How does PHP PDO work internally ?
PostGres - run a query in batches?," Is it possible to loop through a query so that if (for example) 500,000 rows are found, it'll return results for the first 10,000 and then rerun the query again?So, what I want to do is run a query and build an array, like this: But, I know that there will be several hundred thousand rows, so I wanted to do it in batches of like 10,000... 1- 9,999 and then 10,000 - 10,999 etc... The reason why is because I keep getting this error: Which, incidentally, I don't understand how 3 bytes could exhaust 512M... So, if that's something that I can just change, that'd be great, although, still might be better to do this in batches?  <code>  $result = pg_query(""SELECT * FROM myTable"");$i = 0;while($row = pg_fetch_array($result) ) { $myArray[$i]['id'] = $row['id']; $myArray[$i]['name'] = $row['name']; $i++;} Fatal error: Allowed memory size of 536870912 bytes exhausted (tried to allocate 3 bytes)",Postgres - run a query in batches?
Sanitize a string from ascii art," I need to sanitize article titles when (creative) users try to ""attract attention"" with some non-alphanum repetition.Exemples:Buy my product !!!!!!!!!!!!!!!!!!!!!!!!Buy my product !? !? !? !? !? !?Buy my product !!!!!!!!!.......!!!!!!!!Buy my product <-----------Some acceptable solution would be to reduce the repetition of non-alphanum to 2.So I would get:Buy my product !!Buy my product !? !?Buy my product !!..!!Buy my product <--This solution did not work that well: Any idea how to do it in PHP with regex?Other better solution is also welcomed (I cannot strip all the non-alphanum characters as they can make sense).Edit: the objective is only to avoid most common issues. The other creative cases will be sanitized manually or sanitized with an other regex. <code>  preg_replace('/(\W{2,})(?=\1+)/', '', $title)",Sanitize a string with non-alphanum repetition
nested foreach in PHP problem," I'm having problems to iterate twice on the same array: The above code prints:And I'm expecting to see something like this (labels of the combos in the images are not the same, but I think the idea is clear): Thanks in advance <code>  <? $indice=0 ?><?php foreach ($comisiones as $comision1):?> <tr> <td><?php echo ++$indice ?></td> <td><?php echo tag('select',array('name'=>'comision_'.$indice),true)?> <?php foreach ($comisiones as $comision2):?> <option value=""<?php echo $comision2->getId()?>""> <?php echo $comision2->getNombre()."" - "".$comision2->getDescripcion()?> </option> <?php endforeach?> </select> </td> </tr><?php endforeach?> ",Nested foreach in PHP produces different results than I expect
php object : get value of attribute by computed name ," How do I access an attribute of an object by name, if I compute the name at runtime?For instance. I loop over keys and want to get each value of the attributes ""field_"" . $key. In python there is getattribute(myobject, attrname).It works, of course, with eval(""$val=$myobject->"".$myattr."";"");but IMO this is ugly - is there a cleaner way to do it? <code> ",php object : get value of attribute by computed name
should i put a semi-colon after a single php statement?," e.g. ? <code>  some html....<p class=""date""><?php echo $date; ?></p>more html...",should I put a semi-colon after a single PHP statement?
PHP file that should run once and delit itself. Is it possible?, Is it possible to create a PHP file that runs once with no errors and deletes itself? <code> ,PHP file that should run once and delete itself. Is it possible?
Using SQlite3 in PHP how to count the number of rows? ," currently I am using: but the result is 1 when it should be 6 (the number of rows I created using firefox sqlite3 addon)Can anybody help please? <code>  $result = new SQLite3(sprintf(""users/USERIDS_DB.sqlite""));$numRows = $result->exec (""SELECT count(*) FROM USERIDS"");echo sprintf(""the number of rows are: %d"", $numRows);",Using SQlite3 in PHP how to count the number of rows in a result set? 
PHP include once.," Is it more efficient to use PHP's include_once or require_once instead of using a C-like include with a header guard?I.e, versus  <code>  include_once 'init.php'; include 'init.php';//contents of init.phpif (!defined('MY_INIT_PHP')) { define('MY_INIT_PHP', true); ...}",PHP include once
How do you convert a hexadecimal representation of data to binary data in PHP?," I'm familiar with php's function bin2hex() for converting binary data to its hexadecimal representation.However, what is the complement function to convert the hexadecimal representation of the data back to binary data?For example: How do I turn it back to ""hello""? There is no hex2bin() function. <code>  $foo = ""hello"";$foo = bin2hex($foo);echo $foo; // Displays 68656c6c6f $foo = ""68656c6c6f"";// Now what?",How to convert hexadecimal representation of data to binary data in PHP?
PHP Load variables from external file," How can I import a variable from an external file? What I want to do is to have a configuration file in which I can write all my website settings and then to import these settings to every file, so I can set the website skin and things like that.How can I do this? <code> ",Load variables from external file in PHP
How to search a  'near word' in MySQL? ," For example, I want to search a word 'marple', this should return row with near or exact word like 'marble','maple','marple', etc...How to do it in mysql query? or better give word suggestion if any? <code> ",How to search a 'near word' in MySQL?
gravatar: force dispaying identicon, Is there any way to force gravatar to always return the identicon URL?The only way I found so far is: ?forcedefault=1&default=myCustomGeneratedImageUrlHere. However I don't want to generate an identicon myself.Any ?forceIdenticon param? <code> ,How do you force Gravatar into displaying identicon
[PHP] Invalid argument supplied for foreach()," It often happens to me to handle data that can be either an array or a null variable and to feed some foreach with these data. When you feed a foreach with data that are not an array, you get a warning: Warning: Invalid argument supplied for foreach() in [...]Assuming it's not possible to refactor the get_values() function to always return an array (backward compatibility, not available source code, whatever other reason), I'm wondering which is the cleanest and most efficient way to avoid these warnings:Casting $values to arrayInitializing $values to arrayWrapping the foreach with an ifOther (please suggest) <code>  $values = get_values();foreach ($values as $value){ ...}",Invalid argument supplied for foreach()
PHP - What are the best/popular libraries for developing CLI apps/scripts?," Many of the component libraries and toolkits I'm familiar with lack CLI-specific libraries (zend, kohana, etc..). Are there any libraries/tools that are designed specifically for developing CLI application (such as an abstraction of php's multi-threading library, pcntl/posix)? <code> ",What are the best/popular libraries for developing CLI apps/scripts?
Can str_replace mangle a UTF-8 encoded string if it's only given valid UTF-8 encoded strings as arguments?," PHP's str_replace() was intended only for ANSI strings and as such can mangle UTF-8 strings. However, given that it's binary-safe would it work properly if it was only given valid UTF-8 strings as arguments?Edit: I'm not looking for a replacement function, I would just like to know if this hypothesis is correct. <code> ",Can str_replace be safely used on a UTF-8 encoded string if it's only given valid UTF-8 encoded strings as arguments?
PHP - Convert to date format dd/mm/yyyy, I have the following date: 2010-04-19 18:31:27. I would like to convert this date to the dd/mm/yyyy format. <code> ,Convert to date format dd/mm/yyyy
I have some basic questions setting up a PHP daemon," I will be writing my first daemon in php and I have a couple really basic questions that I need help with. What packages need to beinstalled on my linux server andDoes anything in PHP need to beenabled? So far I have gotten this -http://pear.php.net/package/System_Daemon/downloadWhere on server do I save mydaemon files? I have a number offiles that need to be includedwithin the daemon that containclasses and functions for gatheringemails and attachments through IMAP.All of these files are currently inmy web public directory, how do Iinclude these files within my daemon?I think that is everything I need to get started. Thanks so much! <code> ",How to set up a PHP daemon ?
PDO::PARAM for type decimal?," I have 2 database fields I have 2 pdo queries that update them. The one that updates the int works ok but I can't update the decimal field. I've tried the 3 ways below, but nothing works It seems the problem is with the database type decimal? Is there a PDO::PARAM for a field of type decimal? If not, what do I use as a workaround? <code>  `decval` decimal(5,2)`intval` int(3) $update_intval->bindParam(':intval', $intval, PDO::PARAM_INT); $update_decval->bindParam(':decval', $decval, PDO::PARAM_STR);$update_decval->bindParam(':decval', $decval, PDO::PARAM_INT);$update_decval->bindParam(':decval', $decval);",PARAM for type decimal?
PHP exec - check if enabled disabled, Is there a way to check in a php script if exec() is enabled or disabled on a server? <code> ,PHP exec - check if enabled or disabled
Function taking undefined number of argument, Is it possible to have a function in PHP which takes 1 or more numbers and returns their sum ? <code> ,Can a function take an undefined number of arguments?
How to assert redirect in Selenium?, I am writing a selenium test and I need to assert that the page is redirected. How should I verify this? What would be the best way?I am using PHPUnit and the PHPUnit_Extensions_SeleniumTestCase. <code> ,What is the best way to assert redirections in Selenium?
php vs bash for CLI scripting?," I have never used PHP with CLI, but I have seen scripts running with PHP code.I was wondering:Why should we use BASH, when PHP is so popular and is able to run in CLI?What are the pros and cons with each one?Should I use PHP for all CLI scripting in the future? <code> ",PHP vs BASH for CLI scripting?
"Is it bad to throw exceptions to trigger server errors, eg. 404 Page Not Found?"," I am working on a PHP framework and am currently designing error handling. Based on what I have read on SO, I should only use exceptions for, well, exceptional situations. Therefore throwing an exception when an incorrect password is entered is wrong.Should I avoid using exceptions when I want to return a server error code to the user (eg. 404 Page Not Found)? If so, should I write my own error handling class? <code> ","Is it bad to throw exceptions to return server errors, eg. 404 Page Not Found?"
Convert Dashes to CamelCase in PHP," I want to take a string like this: 'this-is-a-string' and convert it to this: 'thisIsAString': I need to convert ""kebab-case"" to ""camelCase"". <code>  function dashesToCamelCase($string, $capitalizeFirstCharacter = false) { // Do stuff return $string;}",Convert string with dashes to camelCase
What is better for PHP developer - Unicode or UTF-8?, What is better for PHP developers - Unicode or UTF-8? I am going to create an international CMS. So I am going to have clients all over the world. They will speak all possible languages. What encoding format is better for browser recognition and for DB data storage? <code> ,What is better for PHP developers - Unicode or UTF-8?
Turn off depreciated errors php 5.3," My server is running PHP 5.3 and my WordPress install is spitting these errors out on me, causing my session_start() to break. This is annoying, but I do not want to turn off on screen error reporting. How do I disable these bothersome deprecated warnings?I am running WordPress 2.9.2. <code>  Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 647Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 662Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 669Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 676Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 712",Turn off deprecated errors in PHP 5.3
Turn off deprecated errors php 5.3," My server is running PHP 5.3 and my WordPress install is spitting these errors out on me, causing my session_start() to break. This is annoying, but I do not want to turn off on screen error reporting. How do I disable these bothersome deprecated warnings?I am running WordPress 2.9.2. <code>  Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 647Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 662Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 669Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 676Deprecated: Assigning the return value of new by reference is deprecated in /home//public_html/hub/wp-settings.php on line 712",Turn off deprecated errors in PHP 5.3
"Asked in PHP interview, Is it possible to insert Object in database?", Is it possible to insert Object in a database? (Asked in PHP interview.) <code> ,Is it possible to insert Object in a database?
increase and decrease row value by 1 in sql," Hi I have a MySQL database table ""points"" the user can click a button and a point should be removed from their account, the button they pressed has an ID of another user, therefore their account must increase by one.I have it working in jQuery and checked the varibles/posts in Firebug, and it does send the correct data, such as: I think the problem is with my PHP page: Any ideas? Thanks :) <code>  userid= 1 posterid = 4 <?phpinclude ('../functions.php');$userid=mysql_real_escape_string($_POST['user_id']);$posterid=mysql_real_escape_string($_POST['poster_id']);if (loggedin()) {include ('../connection.php');$query1 = ""UPDATE `points` SET `points` = `points` - 1 WHERE `userID` = '$userid'"";$result1=mysql_query($query1);$query2 = ""UPDATE `points` SET `points` = `points` + 1 WHERE `userID` = '$posterid'"";$result2=mysql_query($query2);if ($result1 && result2){ echo ""Successful""; return 1;}else{ echo mysql_error(); return 0; }}?>",Increase and decrease row value by 1 in MySQL
Assignment in conditional operator," I've seen a lot this kind of code recently: Is this considered good or bad practice?For example, the NetBeans IDE give a notice if you use this kind of code:Possible accidental assignment,assignments in conditions should beavoidedWhat do you think? <code>  if ($foo = $bar->getFoo()){ baz($foo);}",Assignment in conditionals
ob_start() -> ob_flush() doesn't work," I am using ob_start()/ob_flush() to, hopefully, give me some progress during a long import operation.Here is a simple outline of what I'm doing: However, nothing is being output to the screen at all.I know the data file is getting downloaded because I watch the directory where it is being placed.I also know that the import is happening, meaning that it is in the while loop, because I can monitor the DB and records are being inserted.Any ideas as to why I am not getting output to the screen? <code>  <?phpob_start ();echo ""Connecting to download Inventory file.<br>"";$conn = ftp_connect($ftp_site) or die(""Could not connect"");echo ""Logging into site download Inventory file.<br>"";ftp_login($conn,$ftp_username,$ftp_password) or die(""Bad login credentials for "". $ftp_site);echo ""Changing directory on download Inventory file.<br>"";ftp_chdir($conn,""INV"") or die(""could not change directory to INV"");// connection, local, remote, type, resume$localname = ""INV"".""_"".date(""m"").""_"".date('d')."".csv"";echo ""Downloading Inventory file to:"".$localname.""<br>"";ob_flush();flush();sleep(5);if (ftp_get($conn,$localname,""INV.csv"",FTP_ASCII)) { echo ""New Inventory File Downloaded<br>""; $datapath = $localname; ftp_close($conn);} else { ftp_close($conn); die(""There was a problem downloading the Inventory file.""); }ob_flush();flush();sleep(5);$csvfile = fopen($datapath, ""r""); // open csv file$x = 1;// skip the header line$line = fgetcsv($csvfile);$y = (feof($csvfile) ? 2 : 5);while ((!$debug) ? (!feof($csvfile)) : $x <= $y) { $x++; $line = fgetcsv($csvfile); // do a lot of import stuff here with $line ob_flush(); flush(); sleep(1);}fclose($csvfile); // important: close the fileob_end_clean();","Methods ob_start and ob_flush don't work, why?"
ob_start() and ob_flush() doesn't work," I am using ob_start()/ob_flush() to, hopefully, give me some progress during a long import operation.Here is a simple outline of what I'm doing: However, nothing is being output to the screen at all.I know the data file is getting downloaded because I watch the directory where it is being placed.I also know that the import is happening, meaning that it is in the while loop, because I can monitor the DB and records are being inserted.Any ideas as to why I am not getting output to the screen? <code>  <?phpob_start ();echo ""Connecting to download Inventory file.<br>"";$conn = ftp_connect($ftp_site) or die(""Could not connect"");echo ""Logging into site download Inventory file.<br>"";ftp_login($conn,$ftp_username,$ftp_password) or die(""Bad login credentials for "". $ftp_site);echo ""Changing directory on download Inventory file.<br>"";ftp_chdir($conn,""INV"") or die(""could not change directory to INV"");// connection, local, remote, type, resume$localname = ""INV"".""_"".date(""m"").""_"".date('d')."".csv"";echo ""Downloading Inventory file to:"".$localname.""<br>"";ob_flush();flush();sleep(5);if (ftp_get($conn,$localname,""INV.csv"",FTP_ASCII)) { echo ""New Inventory File Downloaded<br>""; $datapath = $localname; ftp_close($conn);} else { ftp_close($conn); die(""There was a problem downloading the Inventory file.""); }ob_flush();flush();sleep(5);$csvfile = fopen($datapath, ""r""); // open csv file$x = 1;// skip the header line$line = fgetcsv($csvfile);$y = (feof($csvfile) ? 2 : 5);while ((!$debug) ? (!feof($csvfile)) : $x <= $y) { $x++; $line = fgetcsv($csvfile); // do a lot of import stuff here with $line ob_flush(); flush(); sleep(1);}fclose($csvfile); // important: close the fileob_end_clean();","Methods ob_start and ob_flush don't work, why?"
PHP - static DB class vs DB singleton object," I don't want to create a discussion about singleton better than static or better than global, etc. I read dozens of questions about similar subjects on SO, but I couldn't come up with an answer to this SPECIFIC question, so I hope someone could now illuminate me by answering this question with one (or more) real simple EXAMPLES, and not just theoretical discussions.In my app I have the typical DB class to abstract the DB layer and to perform tasks on DB without having to write everywhere in code mysql_connect / mysql_select_db / mysql...I could write the class either as a STATIC CLASS: OR as a SINGLETON: Then after in my app if I want to query the DB i could do To me Singleton has got the only advantage to avoid declaring as static each method of the class. I'm sure some of you could give me an EXAMPLE of real advantage of singleton in this specific case. Thanks in advance. <code>  class DB{ private static $connection = FALSE; //connection to be opened //DB connection values private static $server = NULL; private static $usr = NULL; private static $psw = NULL; private static $name = NULL; public static function init($db_server, $db_usr, $db_psw, $db_name) { //simply stores connections values, without opening connection } public static function query($query_string) { //performs query over alerady opened connection, if not open, it opens connection 1st } ...} class DBSingleton{ private $inst = NULL; private $connection = FALSE; //connection to be opened //DB connection values private $server = NULL; private $usr = NULL; private $psw = NULL; private $name = NULL; public static function getInstance($db_server, $db_usr, $db_psw, $db_name) { //simply stores connections values, without opening connection if($inst === NULL) $this->inst = new DBSingleton(); return $this->inst; } private __construct()... public function query($query_string) { //performs query over already opened connection, if connection is not open, it opens connection 1st } ...} //Performing query using static DB objectDB:init(HOST, USR, PSW, DB_NAME);DB::query(""SELECT..."");//Performing query using DB singleton$temp = DBSingleton::getInstance(HOST, USR, PSW, DB_NAME);$temp->query(""SELECT..."");",PHP - a DB abstraction layer use static class vs singleton object?
Un-readable files uploaded via PHP FTP functions," I just setup a LAMP development server and am still trouble-shooting some things. The server is installed on one computer and I use a Windows laptop to write my code and test the site via the web browser.My file uploading script works in that JPEG image files are successfully uploaded to the server, but when I try to view the images in the web browser, permission is denied. I check the permissions on the file via the server and they are 600. I can fix the issue by chmod 777 theimage.jpg, but this doesn't seem like a good solution at all.Does the solution have something to do with Apache configuration? Or is there something else I should be doing.Thank-you,MikeUpdateTo clarify, I am able to upload a JPEG file to /var/www/test/images, but am unable to view the image in the web browser after it has been uploaded. My script works on the production server (I am using Dreamhost). This leads me to believe that the issue is with the development server that I have just setup. Any feedback is greatly appreciated, even if it is just resources that I should read for better understanding the server setup. <code> ",PHP/Apache: Permission settings for uploaded JPEG image files not correct.
How would i stop this foreach loop after 3 iterations?," Here is the loop. <code>  foreach($results->results as $result){ echo '<div id=""twitter_status"">'; echo '<img src=""'.$result->profile_image_url.'"" class=""twitter_image"">'; $text_n = $result->text; echo ""<div id='text_twit'>"".$text_n.""</div>""; echo '<div id=""twitter_small"">'; echo ""<span id='link_user'"".'<a href=""http://www.twitter.com/'.$result->from_user.'"">'.$result->from_user.'</a></span>'; $date = $result->created_at; $dateFormat = new DateIntervalFormat(); $time = strtotime($result->created_at); echo ""<div class='time'>""; print sprintf('Submitted %s ago', $dateFormat->getInterval($time)); echo '</div>'; echo ""</div>""; echo ""</div>"";",How would I stop this foreach loop after 3 iterations?
PHP Associative Array Duplicate Key?," I have an associative array, however when I add values to it using the below function it seems to overwrite the same keys. Is there a way to have multiple of the same keys with different values? Or is there another form of array that has the same format?I want to have: Code: <code>  42=>5642=>8642=>9751=>6451=>52etc etc function array_push_associative(&$arr) { $args = func_get_args(); foreach ($args as $arg) { if (is_array($arg)) { foreach ($arg as $key => $value) { $arr[$key] = $value; $ret++; } }else{ $arr[$arg] = """"; } } return $ret; }",PHP Associative Array Duplicate Keys
allow only [a-z][A-Z][0-9] in string using php," How can I get a string that only contains a to z, A to Z, 0 to 9 and some symbols? <code> ",Allow only [a-z][A-Z][0-9] in string using PHP
PHP / SimpleXML - Why does Simplexml_load_string() fail to parse Google Weather API xml in Chinese (zh-CN)," I'm trying to load parse a Google Weather API response (Chinese response).Here is the API call. ( ! ) Warning: simplexml_load_string() [function.simplexml-load-string]: Entity: line 1: parser error : Input is not proper UTF-8, indicate encoding ! Bytes: 0xB6 0xE0 0xD4 0xC6 in C:\htdocs\weather.php on line 11Why does loading this response fail?How do I encode/decode the response so that simplexml loads it properly?Edit: Here is the code and output. ( ! ) Warning: simplexml_load_string() [function.simplexml-load-string]: Entity: line 1: parser error : Input is not proper UTF-8, indicate encoding ! Bytes: 0xB6 0xE0 0xD4 0xC6 in C:\htdocs\test4.php on line 3 Call Stack Time Memory Function Location 1 0.0020 314264 {main}( ) ..\test4.php:0 2 0.1535 317520 simplexml_load_string ( string(1364) ) ..\test4.php:3 ( ! ) Warning: simplexml_load_string() [function.simplexml-load-string]: t_system data=""SI""/> ( ! ) Warning: simplexml_load_string() [function.simplexml-load-string]: ^ in C:\htdocs\test4.php on line 3 Call Stack Time Memory Function Location 1 0.0020 314264 {main}( ) ..\test4.php:0 2 0.1535 317520 simplexml_load_string ( string(1364) ) ..\test4.php:3 <code>  // This code fails with the following error$xml = simplexml_load_file('http://www.google.com/ig/api?weather=11791&hl=zh-CN'); <?php$googleData = file_get_contents('http://www.google.com/ig/api?weather=11102&hl=zh-CN');$xml = simplexml_load_string($googleData);",Simplexml_load_string() fail to parse error
zend framework forum module ?, Are there any good Forum modules? <code> ,Forum module for Zend Framework?
Can somebody explain the difference between exceptions and errors (specific to PHP)?," What is the difference between an error and an exception?I have read numerous resources online and in a couple of books, but the explanations provided are not very thorough. As such, I am still confused. Thanks!Edit:It looks like I asked two questions which was probably confusing. The main question that I wanted an answer to is the difference between errors and exceptions. So, I have edited the above to be more specific. Thanks everybody for your answers. <code> ",[PHP] Difference between exceptions and errors?
Best way to get array KEY from VALUE?, You can easily get an array value by its key like so: $value = array[$key] but what if I have the value and I want its key. What's the best way to get it? <code> ,How to get array key from corresponding array value?
How to get array KEY from VALUE?, You can easily get an array value by its key like so: $value = array[$key] but what if I have the value and I want its key. What's the best way to get it? <code> ,How to get array key from corresponding array value?
How to plan mine web based project before starting code ?," Me and my friend started working together as partners , we have decided to make Kick-as* website after website.We have the ideas written down like 100's of them (yes we are choosing best and easy among them first). My friend does the layout design and arranging things , and my part is coding and server management.The little problem i am facing is lack of experience in planing a project. What i do is, I just start the code straight away and along with code I make DB, like when i need a table i make it.I know this is very bad approach for a medium sized project.Here at stackoverflow i saw lots of experienced coders. Need to learn a lot from you guys :) .So can you plese help me on how to plan a project and what coding standard/structure/frameworks to be used (I do PHP code).Thanks in advance. <code> ",How to plan my web based project before starting code ?
"PHP (A few questions)  OO, refractoring, eclipse "," I am using PHP in eclipse. It works ok, I can connect to my remote site, there is colour coding of code elements and some code hints.I realise this may be too long to answer all questions, if you have a good answer for one part, answering just that is ok.Firstly General CodingI have found that it is easy toloose track of included files andtheir variables. For example ifthere was a database $cursor it isdifficult to remember or even knowthat it was declared in the includedfile (this becomes much worse themore files you include). How arepeople dealing with this?How are people documenting theircode - in particular the requiredGET and POST data?Secondly OO Development: Should I be going full OO in mydevelopment. Currently I have afunctions library which I caninclude and have separated each""task"" into a separate file. It is abit nasty but it works.If I go OO how do I structure thedirectories in PHP, java usespackages - what about php?How should I name my files, should Iuse all lower case with _ for spaces""hello_world.php""? Should I nameclasses with Uppercase like Java""HelloWorld.php""? Is there adifferent naming convention forClasses and regular function files?Thirdly RefactoringI must say this is a real pain. IfI change the name of a variable inone place I have to go through wholedocument and each file that includedthis file and change the name theirtoo. Of course, errors everywhereis what results. How are peopledealing with this problem? In Javaif you change the name in one placeit changes everywhere.Are there any plugins to improve phprefactoring? I am using theofficial PHP version of Eclipse fromtheir website.thanks <code> ","PHP (A few questions)  OO, refactoring, eclipse "
what is gd image and gd2 images? what are the difference between them?," Reading the documentation for imagegd2(), and imagegd(), I noticed the functions are described, respectively as:Output GD2 image to browser or fileOutput GD image to browser or fileWhat are a GD2, and a GD image? What are the difference between those image types? <code> ",What are the differences between a GD and a GD2 image?
How to install imagemagick on windows 7," How to install image magic in Windows 7. I followed these instructionTo install IMagick on Windows XP (php 5.2.x)download and install ImageMagick-6.5.8-7 Q16-windows-dll.exehttp://www.imagemagick.org/download/binaries/ ImageMagick-6.5.8-7-Q16-windows-dll.exedownload php_imagick_dyn-Q16.dll from:http://valokuva.org/outside-blog-content/ imagick-windows-builds/080709/copy dll to [PHP]/extension dir and rename it to php_imagick.dllYou have to edit your php.ini file and add new extension Save ini file and restart apache server.(If necessary, restart your windows)phpinfo() should show imagick enabled.after that I execute a sample script but its not working. It shows the Imagic class missing error. Fatal error: Class 'Imagick' not found in C:...\imgborder.php on line XXXPlease help me to install Imagick. :-( <code>  extension=php_imagick.dll",How to install Imagick/imagemagick PHP extension on windows 7
How to install Imagick/imagemagick on windows 7," How to install image magic in Windows 7. I followed these instructionTo install IMagick on Windows XP (php 5.2.x)download and install ImageMagick-6.5.8-7 Q16-windows-dll.exehttp://www.imagemagick.org/download/binaries/ ImageMagick-6.5.8-7-Q16-windows-dll.exedownload php_imagick_dyn-Q16.dll from:http://valokuva.org/outside-blog-content/ imagick-windows-builds/080709/copy dll to [PHP]/extension dir and rename it to php_imagick.dllYou have to edit your php.ini file and add new extension Save ini file and restart apache server.(If necessary, restart your windows)phpinfo() should show imagick enabled.after that I execute a sample script but its not working. It shows the Imagic class missing error. Fatal error: Class 'Imagick' not found in C:...\imgborder.php on line XXXPlease help me to install Imagick. :-( <code>  extension=php_imagick.dll",How to install Imagick/imagemagick PHP extension on windows 7
Why are  interfaces unusable in PHP?," Why is it possible to create an interface without specifying a return type? Why doesn't this make this interface unusable?This makes it more clear: In Java every Interface has a return type like Integer, String or VoidI know that PHP is unfortunately a loosely typed language but isn't there a solution to that problem?Is it possible to define an Interface with a return type like Integer? <code>  Interface run{ public function getInteger();}class MyString implements run{ public function myNumber() { } public function getInteger() { return ""Not a number""; } }",Why is it possible to have an interface without a return type in PHP?
PHP Excel - Correct format for strings / numbers beginning with zero?," I'm trying to use PHP to create a file containing a list of phone numbers.It's working OK however if the phone number begins with zero, the digit is dropped from the Excel file.Does anyone know how to set the formatting correctly so that it remains in place? <code> ",Correct format for strings / numbers beginning with zero?
How to catch a division by zero?," I have a large mathematical expression that has to be created dynamically. For example, once I have parsed ""something"" the result will be a string like: ""$foo+$bar/$baz"";.So, for calculating the result of that expression I'm using the eval function... something like this: The problem here is that sometimes I get errors that says there was a division by zero, and I don't know how to catch that Exception. I have tried things like: Or: But it does not work. So, how can I avoid that my application crashes when there is a division by zero?Edit:First, I want to clarify something: the expression is built dynamically, so I can't just eval if the denominator is zero. So... with regards to the Mark Baker's comment, let me give you an example. My parser could build something like this: The parser build the string step by step without worrying about the value of the vars... so in this case if $foz == $bak there's in fact a division by zero: $baz / ( 0 ).On the other hand as Pete suggested, I tried: But it does not print anything. <code>  eval(""\$result = $expresion;"");echo ""The result is: $result""; eval(""try{\$result = $expresion;}catch(Exception \$e){\$result = 0;}"");echo ""The result is: $result""; try{ eval(""\$result = $expresion;"");}catch(Exception $e){ $result = 0;}echo ""The result is: $result""; ""$foo + $bar * ( $baz / ( $foz - $bak ) )"" <?php$a = 5;$b = 0;if(@eval("" try{ \$res = $a/$b; } catch(Exception \$e){}"") === FALSE) $res = 0;echo ""$res\n"";?> ","PHP, How to catch a division by zero?"
How to protect cookies in PHP?," I'm creating a login system in PHP, and I want to know how to best protect the user information string in my cookie. I was thinking of encrypting the string with a key somehow? Is this the best way? I'm kinda new to this.Thanks in advance. <code> ",What's the best method to protect login cookie data in PHP?
WHat's the best method to protect logon cookie data in PHP?," I'm creating a login system in PHP, and I want to know how to best protect the user information string in my cookie. I was thinking of encrypting the string with a key somehow? Is this the best way? I'm kinda new to this.Thanks in advance. <code> ",What's the best method to protect login cookie data in PHP?
Regex/ code to fix corrupt serialized PHP data., I have a massive multidimensional array that has been serialised by PHP. It has been stored in MySQL and the data field wasn't large enough... the end has been cut off... I need to extract the data... unserialize wont work... does anyone know of a code that can close all the arrays... recalculate string lengths... it's too much data to do by hand.Many thanks. <code> ,Is it possible to mend a serialize string that has become corrupted due to truncation?
PHP : Convert seconds to Hour:Minute:Second," I need to convert seconds to ""Hour:Minute:Second"".For example: ""685"" converted to ""00:11:25""How can I achieve this? <code> ",Convert seconds to Hour:Minute:Second
Convert seconds to Hour:Minute:Second," I need to convert seconds to ""Hour:Minute:Second"".For example: ""685"" converted to ""00:11:25""How can I achieve this? <code> ",Convert seconds to Hour:Minute:Second
PHP - Convert seconds to Hour:Minute:Second," I need to convert seconds to ""Hour:Minute:Second"".For example: ""685"" converted to ""00:11:25""How can I achieve this? <code> ",Convert seconds to Hour:Minute:Second
Programatically installing & activating Wordpress plugins ," Is it possible, somehow to programmatically install plugins? So I can send my client one file they unpack, go to some installplugins.php file and that installs + activates them? Only way I found for doing that is really rancid lowlevel; I'm hoping someone here knows better methods. <code> ",Programmatically installing & activating Wordpress plugins
Which web technology to learn for an experienced C++ developer? JSP PHP," Friends, I've got some exp in c++ and now kind of starting my way to J2EE (to survive:))). Meanwhile, I've got a plan to venture in to a web portal my own. But with very little experience in web technology, I'd need to start from scratch. I'm little confused on which way to go and I'm here. PHP, Python or JSP, considering the fact that, anyway I've got to learn J2EE at my work.Would that be worth to learn PHP or Python to develop a portal which I expect to get 80-100K hits per day ""IF"" everything goes well OR jsp would be sufficient? Many thanks <code> ",Which web technology to learn for an experienced C++ developer?
Is it bad practise to write to $_POST ?," If this is file_1.php and this is file_2.php the output is Test message is not setWhich makes me wonder if one can even write to $_POST and, having wondered that, I wonder if it is bad practice to do so. Should I just let forms with submit buttons and method=post write to $_POST for me, or is it legitimate to write to $_POST to pass data between files? <code>  <?php $_POST[""test_message""] = ""Hello, world""; header(""Location: http://localhost/file_2.php"");?> <html><head></head><body><?php if (!(isset($_POST[""test_message""]))) echo ""Test message is not set""; else echo $_POST[""test_message""];?></body></html>",Is it bad practice to write to $_POST?
How do I sort a mukti-dimensional array by value?," I have an array as following and I want to order that array by the value of the key ""attack"". First keys of the arrays (15, 13, 18) are ID of some certain item from database, so I don't want these keys to be changed when the array is sorted. Any help would be greatly appreciated.This is the array: <code>  $data = array( '15' => array( 'attack' => '45', 'defence' => '15', 'total' => '10' ), '13' => array( 'attack' => '25', 'defence' => '15', 'total' => '10' ), '18' => array( 'attack' => '35', 'defence' => '15', 'total' => '10' ));",How do I sort a multi-dimensional array by value?
Using or die() to stop on errors in PHP," Often in PHP, I see: Coming from python, I know why this should work, because or returns the first value if it is true in a boolean context, and the second value otherwise (see this).But when I try the above technique in PHP in another context, for example something like: The or doesn't return the first value (""John Doe""), it returns 1.Why does this work in the mysql_query() result case, but not in other cases? Is it bad to use in a mysql_query() case (ignore the fact that I am not returning a useful error to the user)? <code>  $result = mysql_query($query) or die(); $name = ""John Doe"";echo $name or ""Anonymous"";",Using 'or die()' to stop on errors in PHP
Help Using RegexIterator in PHP," I have yet to find a good example of how to use the php RegexIterator to recursively traverse a directory. The end result would be I want to specify a directory and find all files in it with some given extensions. Say for example only html/php extensions. Furthermore, I want to filter out folders such of the type .Trash-0, .Trash-500 etc. Is what I have so far but result in : Fatal error: Uncaught exception 'UnexpectedValueException' with message 'RecursiveDirectoryIterator::__construct(/media/hdmovies1/.Trash-0)Any suggestions?  <code>  <?php $Directory = new RecursiveDirectoryIterator(""/var/www/dev/"");$It = new RecursiveIteratorIterator($Directory);$Regex = new RegexIterator($It,'/^.+\.php$/i',RecursiveRegexIterator::GET_MATCH);foreach($Regex as $v){ echo $value.""<br/>"";}?>",How to use RegexIterator in PHP
insert two tables at once ?," my problem is , i have a database design from this link is my database overdesigned?edit* ok maybe useing transaction ? but where should i put the rollback if it fails ? where should i put the rollback ?Thanks <code>  $dbConnect->beginTransaction(); $RegisterInsert = $dbConnect->prepare(""INSERT INTO companies ( `name`, `address`, `email`, `phone`, `link`, `verified`) VALUES ( :name, :address, :email, :phone, :link, :verified)""); $RegisterInsert->execute($RegisterData); $RegisterData2['CID'] = $dbConnect->lastInsertId(); $RegisterInsert = $dbConnect->prepare(""INSERT INTO users_companies ( `UID`, `CID`, `role`) VALUES ( :UID, :CID, :role)""); $RegisterInsert->execute($RegisterData2); $dbConnect->commit();",Where to rollback a transaction in PDO ?
Where to Roll back a transaction in PDO ?," my problem is , i have a database design from this link is my database overdesigned?edit* ok maybe useing transaction ? but where should i put the rollback if it fails ? where should i put the rollback ?Thanks <code>  $dbConnect->beginTransaction(); $RegisterInsert = $dbConnect->prepare(""INSERT INTO companies ( `name`, `address`, `email`, `phone`, `link`, `verified`) VALUES ( :name, :address, :email, :phone, :link, :verified)""); $RegisterInsert->execute($RegisterData); $RegisterData2['CID'] = $dbConnect->lastInsertId(); $RegisterInsert = $dbConnect->prepare(""INSERT INTO users_companies ( `UID`, `CID`, `role`) VALUES ( :UID, :CID, :role)""); $RegisterInsert->execute($RegisterData2); $dbConnect->commit();",Where to rollback a transaction in PDO ?
Strip bad window's filename characters," I found this function that tests whether a string is Windows filename and folder friendly: What I'd rather have is a function that strips all the bad stuff from the string. I tried to basically replace preg_match with preg_replace but no cigar.  <code>  function is_valid_filename($name) { $parts=preg_split(""/(\/|"".preg_quote(""\\"")."")/"",$name); if (preg_match(""/[a-z]:/i"",$parts[0])) { unset($parts[0]); } foreach ($parts as $part) { print ""part = '$part'<br>""; if (preg_match(""/["".preg_quote(""^|?*<\"":>"",""/"").""\a\b\c\e\x\v\s]/"",$part)||preg_match(""/^(PRN|CON|AUX|CLOCK$|NUL|COMd|LPTd)$/im"",str_replace(""."",""\n"",$part))) { return false; } } return true; }",Strip bad Windows filename characters
PHP framework for social networking," I'm an intermediate PHP developer with no experience building a large scale web application in this language (though I have in others, mainly Rails)...say I wanted to build a social networking site using PHP and MYSQL (preferably) with all the web 2.0 trimmings. Where should I start? What sort of frameworks should I be looking at? Any up to date modern books that would outline something like this? Really anything for building a modern web app in PHP. <code> ",PHP framework for Social Networking
need updation for my sql query for choosing date range for reservation of a hotel room or any thing," i had a situation in my project that is as follows.while checking for the available rooms The first query retrives the list of room numbers from the booking table which satisfies the daterangesimilarly the second one dos same from the table reservationthe last query uses the list provided by the above two queries and gets the list of room which are not in the generated list.works fine for 10-08-2010 / 15-08-2010works fine for 20-08-2010 / 25-08-2010when i give the dates between 10 and 15 it works fine similarly for 20 and 25 and also works fine for the dates 14-08-2010 and 21-08-2010 but not working for 16-08-2010 to 19-08-2010need any clarification please ask me.Thanks. <code>  $sel_from_bookings=""SELECT room_no FROM `booking` WHERE (('"".$_POST['req_tdate'].""' BETWEEN check_indate AND check_outdate) OR ('"".$_POST['req_fdate'].""' BETWEEN check_indate AND check_outdate)"";$sel_from_reserv=""SELECT room_no FROM `reservation` WHERE (('"".$_POST['req_tdate'].""' BETWEEN check_indate AND check_outdate) OR ('"".$_POST['req_fdate'].""' BETWEEN check_indate AND check_outdate))""; $sel_rooms=""SELECT room_no FROM rooms WHERE room_no NOT IN ("".$sel_from_bookings."") AND room_no NOT IN ("".$sel_from_reserv."")"";",need updation for mysql query for choosing date range for reservation of a hotel room or any thing
PHP - Send cookie with file_get_contents," The example on PHP manual shows how you can use stream contexts to send a cookie. Here is the excerpt: How do you send more than one cookie? Like #1 or #2, or what?#1 #2 <code>  // Create a stream$opts = array( 'http'=>array( 'method'=>""GET"", 'header'=>""Accept-language: en\r\n"" . ""Cookie: foo=bar\r\n"" ));$context = stream_context_create($opts);// Open the file using the HTTP headers set above$file = file_get_contents('http://www.example.com/', false, $context); ""Cookie: user=3345&pass=abcd\r\n"" ""Cookie: user=3345\r\n"" . ""Cookie: pass=abcd\r\n""",Send cookie with file_get_contents
PHP developer looking for solutions equivalent to j2ee architecture," I am a PHP developer, I read about Java EE technologies and I want to implement such technologies( n-tier, EJB, JPA...) with PHP and all what coming with (MySQL, Apache...). <code> ",PHP developer looking for solutions equivalent to Java EE architecture
Figerprint authentication for php web app.," I need to implement authentication in a php app but using fingerprint as part of credentials.So, sincerely I'm kind of lost here.1) Do I need a product (reader) with javascript SDK? I've seen some using ActiveX but obviously this will work just for IE. I would like a cross-browser solution here. 2) On server side, I suppose I'll natively call some C/C++/Java libs from my php code. Is it right?As you can see, any paper/orientation you could give me would be appreciated.  <code> ",Fingerprint authentication for php web app.
Should I Git for deployment of web apps?," I use Git to track local changes in my PHP web applications, and I was wondering if it would be a good idea to use Git on the server as well, so that I could just use git push to deploy my changes. Would there be any pitfalls with this approach? <code> ",Should I use Git for deployment of web apps?
"how to capture complete words using substr() in php, limit by word?"," When I use substr($string,0,100), it gives first 100 characters. Sometimes it left the last word incomplete. That looks odd. Can I do limit by word rather than char? <code> ","How to capture complete words using substr() in PHP, limit by word?"
PHP remove accents without iconv," What is the best way to remove accents eg.u"" becomes ""Eaun""Without using iconv <code> ",Remove accents without using iconv
php - Should I call exit() after calling header?," After calling the redirect function header, should I call exit or not? Thank you <code>  <?php // fileA$urlFailToGoTo = '/formerror.php';if (sth){ header(sprintf(""Location: %s"", $urlFailToGoTo)); exit(); //should I call exit() here? or return?}?>",php - Should I call exit() after calling Location: header?
php: using DomDocument whenever I try to write UTF-8 it writes the hexadecimal notation of it., When I try to write UTF-8 Strings into an XML file using DOMDocument it actually writes the hexadecimal notation of the string instead of the string itself.for example: instead of: Any ideas how to resolve the issue? <code>  &#x5D9;&#x5E8;&#x5D5;&#x5E9;&#x5DC;&#x5D9;&#x5DD; ,PHP: using DOMDocument whenever I try to write UTF-8 it writes the hexadecimal notation of it
php: using DomDocument whenever I try to write UTF-8 it writes the hexadecimal notation of it, When I try to write UTF-8 Strings into an XML file using DOMDocument it actually writes the hexadecimal notation of the string instead of the string itself.for example: instead of: Any ideas how to resolve the issue? <code>  &#x5D9;&#x5E8;&#x5D5;&#x5E9;&#x5DC;&#x5D9;&#x5DD; ,PHP: using DOMDocument whenever I try to write UTF-8 it writes the hexadecimal notation of it
PHP file rename.," I have a form where an admin will upload three pictures with different dimensions to three different designated directories. now to make sure that i don't get into the problem of duplicate file names i implemented something like the php will compare the uploaded file name and it will check if that file name exist in the designated directory if yes then it will echo an error and stop the script execution.Now one of my friend suggested me that it is very bad asking the admin to manually rename the picture file and asking them to take care of the file duplication problem. the solution he suggested was to rename the file automatically and then store it in the database and then direct it to directory.I am confused about what combination should i give to the renamed file and also make sure it will remain unique file name to be more precise i would like you to understand my directory structureas i said there will be three pictures files the admin will be uploading namely a) Title Picture b) Brief Picture c) Detail Pictureand all the three picture files will be moved to the different respective directory, like title picture goes to title directory and so on. i am using to script below currently just to move and store the file name with path using varchar in the database. that is just the sample code i havent included the validation function which i am using. i was thinking like i want to rename all the files likea) In title directory the file should be stored as.title_1.jpgtitle_2.jpgtitle_3.jpgtitle_4.jpgand so onand the same way to rest of the pictures. how do i do that? what function do i use to achieve my target. and if this is not the good way to rename the file i would appreciate any suggestion followed to rename the file.thanks in advance <code>  $ns_pic_title_loc= $_FILES[""ns_pic_title""][""tmp_name""];$ns_pic_title_name = $_FILES[""ns_pic_title""][""name""];move_uploaded_file($ns_pic_title_loc, $ns_title_target.$ns_pic_title_name) or die(mysql_error());",PHP file rename
Not hacking CurlException: 60," The error that alot of people get with Facebook authentication is: And the only information I can find about it suggest to add the following lines of code to curl: I know this works, but what is going on here?Isn't there any server settings/configuraton that can be changed instead of hacking up facebook.php. <code>  CurlException: 60: SSL certificate problem, verify that the CA cert is OK. Details: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed $opts[CURLOPT_SSL_VERIFYPEER] = false;$opts[CURLOPT_SSL_VERIFYHOST] = 2;",Not hacking CurlException: 60 (cURL SSL Certificate Verification)
Not hacking CurlException: 60 (cURL SSL Certificate Verification Problem)," The error that alot of people get with Facebook authentication is: And the only information I can find about it suggest to add the following lines of code to curl: I know this works, but what is going on here?Isn't there any server settings/configuraton that can be changed instead of hacking up facebook.php. <code>  CurlException: 60: SSL certificate problem, verify that the CA cert is OK. Details: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed $opts[CURLOPT_SSL_VERIFYPEER] = false;$opts[CURLOPT_SSL_VERIFYHOST] = 2;",Not hacking CurlException: 60 (cURL SSL Certificate Verification)
What do I secure a hardcoded login/password in PHP?," I'm writing a simple PHP script to access the Foursquare API. The PHP will always access the same Foursquare account. For the time being, I have this login information hardcoded in my script. What is the best way to secure this information?If I follow the advice from this thread, I should just place the login information in a config file outside the website's root directory:How to secure database passwords in PHP?Is this the best advice? Or is there a better way to secure the login information? <code> ",How do I secure a hardcoded login/password in PHP?
What is PHP track_errors ?," I was just glancing through my Cpanel's php.ini EZConfig (basically php.ini; it just allows me to change some settings in php.ini through Cpanel) and noticed track_errors.Can someone tell me what this means, I have searched the php website and Google and cannot find out what it means exactly? <code> ",What is PHP track_errors?
code for back button," I have a php code here and I would like to create a ""back"" href to get me back to where I was before. Here's what I have: <code>  <input type=""submit"" <a href=""#"" onclick=""history.back();"">""Back""</a> <html> <head></head>",How to write the code for the back button?
"Is a free website to store code (php,javascript,css) online? ", I am looking for website to store my code and then reused if may I need it. Would be great something like Delicious but for coding or something like Snippely. <code> ,"Is there a free website to store code (php, javascript, css) online?"
"Is there a free website to store code (php, javascript, css) online? ", I am looking for website to store my code and then reused if may I need it. Would be great something like Delicious but for coding or something like Snippely. <code> ,"Is there a free website to store code (php, javascript, css) online?"
PHP: fastest hash for non-cryptographic uses?," I'm essentially preparing phrases to be put into the database, they may be malformed so I want to store a short hash of them instead (I will be simply comparing if they exist or not, so hash is ideal).I assume MD5 is fairly slow on 100,000+ requests so I wanted to know what would be the best method to hash the phrases, maybe rolling out my own hash function or using hash('md4', '...' would be faster in the end?I know MySQL has MD5(), so that would complement a bit of speed on the query end, but maybe there's further a faster hashing function in MySQL I don't know about that would work with PHP.. <code> ",Fastest hash for non-cryptographic uses?
How to fix the session_register() DEPRECATED problem?, How to fix the session_register() deprecated problem in PHP 5.3 <code> ,How to fix the session_register() deprecated issue?
php remove first last char from string," I have this: which outputs: How do I strip the fist and last * in the string before exploding? <code>  $dataList = ""*one*two*three*"";$list = explode(""*"", $dataList);echo""<pre>"";print_r($list);echo""</pre>""; > Array (> [0] => > [1] => one> [2] => two> [3] => three> [4] => )",Remove first and last char from string
Functions that can be called once only, I've been using the following approach: I've been wondering if a better / different approaches existed. <code>  $foo_called = false;function foo(){ if($foo_called) { return; } $foo_called = true; // do something.},Functions that can be called only once
SimpleXML::addChild() can't add line break when output to a xml ," There is no line break between each node element when using asXML() to output?How to make output the file well-structured by adding a line break after each XML elements opening and closing tag that contains child element nodes: <code>  <?xml version=""1.0"" encoding=""utf-8""?><items><item><title>title3</title><desc>This is some desc3</desc></item></items> <?xml version=""1.0"" encoding=""utf-8""?><items><item><title>title3</title><desc>This is some desc3</desc></item></items>",SimpleXML::addChild() can't add line break when output to a xml
JqGrid Custom Edit Dialog," I am working to an application that uses jqGrid. The problem is that the edit dialog that should appear at row edit must have a specific layout. So I would prefer to load it via ajax and then send the data back to jqGrid manually. I searched a lot on the forums but I could not find an example of how to do it. So, I just need jqGrid to fill the edit dialog pop-up with custom content from a PHP script.UPDATE: THe idea is that I have a form generator, where the user sets the position/width/heigh/visibility of the edit fields... and this must be used in the edit dialog. <code> ",jqGrid Custom Edit Dialog
how do i access static member of a class?, I am trying to access static member of a class.my class is: I am getting error while printing. How can I print 'A is my name' <code>  class A{ public static $strName = 'A is my name' public function xyz() { .. } ..}//Since I have bunch of classes stored in an array$x = array('A');echo $x::$strName;,How do I access static member of a class?
How to convert .PDF file to .PNG using Imagemagick PHP api, I want to convert .pdf file to .png file using Imagemagick php API.we can do this from shell using this:$convert sample.pdf sample_image.pngwe can issue this command using php exec() function but due to some reason (security) I disabled the execution of shell commands using php.so now tell me the solution that how can i convert my .pdf file to .png file without using the php exec() function?There is another discussion about this here but it's not very clear. <code> ,How to convert .pdf file to .png using Imagemagick PHP API
PHP Replace Last Occurence of a String in a String?," Anyone know of a very fast way to replace the last occurrence of a string with another string in a string?Note, the last occurrence of the string might not be the last characters in the string.Example: Expected Output: <code>  $search = 'The';$replace = 'A';$subject = 'The Quick Brown Fox Jumps Over The Lazy Dog'; The Quick Brown Fox Jumps Over A Lazy Dog",Replace last occurrence of a string in a string
PHP Replace last occurrence of a String in a String?," Anyone know of a very fast way to replace the last occurrence of a string with another string in a string?Note, the last occurrence of the string might not be the last characters in the string.Example: Expected Output: <code>  $search = 'The';$replace = 'A';$subject = 'The Quick Brown Fox Jumps Over The Lazy Dog'; The Quick Brown Fox Jumps Over A Lazy Dog",Replace last occurrence of a string in a string
comparing two dates," How can I compare two dates in PHP?The date is stored in the database in the following format 2011-10-2If I wanted to compare today's date against the date in the database to see which one is greater, how would I do it?I tried this, but it doesn't really work that way. What's another way of doing it? <code>  $today = date(""Y-m-d"");$expire = $row->expireDate //from dbif($today < $expireDate) { //do something; }",How can I compare two dates in PHP?
Comparing two dates," How can I compare two dates in PHP?The date is stored in the database in the following format 2011-10-2If I wanted to compare today's date against the date in the database to see which one is greater, how would I do it?I tried this, but it doesn't really work that way. What's another way of doing it? <code>  $today = date(""Y-m-d"");$expire = $row->expireDate //from dbif($today < $expireDate) { //do something; }",How can I compare two dates in PHP?
how to convert seconds to time format ?," For some reason I convert a time format like: 03:30 to seconds 3*3600 + 30*60, now. I wanna convert it back to its first (same) format up there. How could that be?My attempt: Now, what about the minutes? Considering the value can be like 19:00 or 02:51. I think you got the picture.And by the way, how to convert 2:0 for example to 02:00 using RegEx? <code>  3*3600 + 30*60 = 12600 12600 / 60 = 210 / 60 = 3.5, floor(3.5) = 3 = hour",How to convert seconds to time format?
match url pattern in php using regular expression," I want to match a URL link in a wall post and replace this link with anchor tag. For this I use the regular expression below.I would like the match four types of URL:http://example.comhttps://example.comwww.example.comexample.com This expression matches only first two types of URL.If I use this expression for matching a URL pattern,'@(www?([-\w\.]+)+(:\d+)?(/([\w/_\.]*(\?\S+)?)?)?)@', it only matches the third type of URL pattern.How can I match all four typeS of URL patternS with a single regular expression? <code>  preg_replace('@(https?://([-\w\.]+)+(:\d+)?(/([\w/_\.]*(\?\S+)?)?)?)@', '<a href=""$1"">$1</a>', $subject);",Match URL pattern in PHP using a regular expression
PHP Netbans: xdebug stops on every include() or require()," I've just discovered PHP debugging using xdebug integrated in netbeans IDE and I think it's great! how did I live without it? :)But there's one problem: if I set a breakpoint deep in my code, I have to press ""Continue"" (F5) several times before I get to a breakpoint, because script stops at every include() and require() functions.My includes look like that: Is it a bug, or I can disable this behavior, so my I don't have to press ""Continue"" several times?I'm using NetBeans 6.9.1 on ubuntu 9.10 <code>  <?php require_once('include/config.inc.php'); require_once('include/forms.inc.php');?> ",PHP Netbeans: xdebug stops on every include() or require()
difference double colon and arrow operators  in PHP," In the sidebar of the php web manual, link text the addChild method uses the :: scope resolution operator, but in the example it uses the Arrow operator. Can anyone tell me why that is? <code> ",Difference between double colon and arrow operators in PHP?
difference between double colon and arrow operators in PHP," In the sidebar of the php web manual, link text the addChild method uses the :: scope resolution operator, but in the example it uses the Arrow operator. Can anyone tell me why that is? <code> ",Difference between double colon and arrow operators in PHP?
"codeigniter session library and ""remember me"" checkbox, How to?"," in Codeigniter I am building an Authentication system for my web site and to achieve that I use session library this will save the session -I believe- for some timeI want to provide a ""remember me"" checkbox in the login form so the user can save the session forever - could not find a way to save the session forever!?Note:$sess_expiration will not work because it sets expiration date for all users and what I want to do is setting the expiration date based on his preferences is that possible? and how to do it?Thanks <code>  session->set_userdata('username')"," How to create  ""remember me checkbox"" using Codeigniter session library?"
is a cookie secure in a HTTPS conection?, Is a cookie secure in a HTTPS connection? <code> ,Is a cookie secure in a HTTPS connection?
is a cookie secure in a HTTPS connection?, Is a cookie secure in a HTTPS connection? <code> ,Is a cookie secure in a HTTPS connection?
how to test if PHP system() function is allowed? and not turned of for security reasons," I would like to know how to test if system() or exec() is allowed on a server. I keep getting this error ""Warning: exec() has been disabled for security reasons in ...""I understand that the safe_mode function is depreciated in the php version my provider runs (5.3.3) so i cant use a get_ini('safe_mode') check.What else to do?I use this for a backup script. if the provider allows system, the script makes a tar file and mails it to me whenever a user logs in.Thanks in advance. <code> ",how to test if PHP system() function is allowed? and not turned off for security reasons
validate array structure?," Is there a function out there to make sure that any given array conforms to a particular structure? What I mean is that is has particular key names, perhaps particular types for values, and whatever nested structure. Right now I have a place where I want to make sure that the array getting past has certain keys, a couple holding a certain data type, and one sub-array with particular key names. I've done a lot of run-around because I was passing malformed arrays to it, and finally I'm at the point where I have a bunch of I would have saved a lot of time and consternation if I could have checked that the array conformed to a particular structure beforehand. Ideally something like So, the question I'm asking is, does this already exists, or do I write this myself?  <code>  if ( ! isset($arr['key1']) ) { .... }if ( ! isset($arr['key2']) ) { .... }if ( ! isset($arr['key3']) ) { .... } $arrModel = array( 'key1' => NULL , 'key2' => int , 'key3' => array( 'key1' => NULL , 'key2' => NULL , ),);if ( ! validate_array( $arrModel, $arrCandidate ) ) { ... }",How can I validate the structure of my PHP arrays?
How do targeted adds work with web bugs?," We got pitched this idea yesterday. A user visits our site and are marked. Then when they visit other sites like CNN they are targeted with adds for our site. So once they are exposed to us, they start to see us everywhere, creating the illusion we are bigger than we are. The person pitching it said it was done by cookies. I was very skeptical since I don't believe there to be anyway to see what cookies a different domain has set. So I wanted to try an figure out how it was accomplished. The salesman called this technology pixel tracking. I have never heard of pixel tracking but from my research I have found that it is placing a 1 pixel image that references a script on another domain with parameters to be executed. My first thought was, OK maybe its possible this way.. But I still don't know how?Can anyone explain how they are able to mark you as visited our site, and then see this mark on another site? Is it from your IP? <code> ",How to track users across domains?
can i use simpleXML & xpath to directly select an elements attribute?," i.e. - i want to return a string ""yellow"" using something like xpath expression ""//banana/@color"" and the following example xml... produces whereas i would prefer something like... ...so that i don't need to write a special case into the application i'm writing.thanks very much! :) <code>  <fruits> <kiwi color=""green"" texture=""hairy""/> <banana color=""yellow"" texture=""waxy""/></fruits>$fruits = simplexml_load_string('<fruits> <kiwi color=""green"" texture=""hairy""/> <banana color=""yellow"" texture=""waxy""/></fruits>');print_r($fruits->xpath('//banana/@color')); Array( [0] => SimpleXMLElement Object ( [@attributes] => Array ( [color] => yellow ) )) Array( [0] => SimpleXMLElement Object ( [0] => yellow ))",Can I use SimpleXML & Xpath to directly select an Elements Attribute?
paralel donwloads in php, I want to download (or simply file_get_contents) for 5 places. I wait say 1.2 sec for each that means in total 1.2X5=6 seconds. I want to save waiting time. I thought I could wait 1.3 sec is enough. How can I approach? <code> ,parallel downloads in PHP
Can MySQL be seamplessly replaced with MariaDB in today applications or there are things to change in this case?," If I replace a MySQL 5.1 server with a MariaDB Server (Maria & XtraDB storages) instead of MySQL (MyISAM & InnoDB), will most of MySQL client software (incl. applications made with PHP 5.2 and Java SE 1.6) ...just remain working without any changes (with minor regressions maybe)?Or will I have to replace/reconfigure client drivers (like use another JDBC driver class and connection string)? Or will I have even to change application code? <code> ",Can MySQL seamlessly be replaced with MariaDB or are there things to change in this case?
How to generate an unsigned 128-bit token?," Basically, I'm looking for a function to perform the following which will return a 128-bit string consisting of integers or alphabet characters.Clarification: From the comments, I had to change the question. Apparently, I am looking for a string that is 16 characters long if it needs to be 128 bits. <code>  generateToken(128)",How to generate a 128-bit long string?
Two Ampersands Seperating Function Calls, What do two ampersands separating function calls do? Note: this is OUTSIDE any if statement or case statementLike so: <code>  functionCallOne() && functionCallTwo();,Two Ampersands Between Function Calls
Why use closures/anonymous function?," Possible Duplicate: How do you use anonymous functions in PHP? Why should i use an anonymous function? I mean, what's the real deal using it?I just don't really get this. I mean, you use function to make the code more clean or to use it more than once. But Anonymous functions just don't do neither the first nor the second.I googled them and i couldn't find anyone asking the same problem. <code> ",Why use anonymous function?
PHP RecursiveIterator children," I have a structure representing a form and I want to iterate it using RecursiveIterator.The problem is this only returns the top-level questions. What am I doing wrong?Whole form: Question: Iteration: <code>  class Form implements RecursiveIterator{ private $id; private $caption; private $other_text; private $questions = array(); private $current; private function __construct(DibiRow $row){ $this->id = $row->id; $this->caption = $row->caption; $this->other_text = $row->other_text; $this->loadQuestions(); } private function loadQuestions(){ $questions = dibi::query('SELECT * FROM cyp_questions WHERE form_id = %i AND parent_id IS NULL', $this->id); while($question = $questions->fetch()) $this->questions[] = new Question($question->question_id, $question->type, $question->caption, $question->other_text, $question->triggers_unique == 1); } /** * @throws InvalidArgumentException * @param $id * @return Form */ public static function loadById($id){ $form = dibi::query('SELECT * FROM cyp_forms WHERE id = %i', $id)->fetch(); if($form === false) throw new InvalidArgumentException('Form with id '.$id.' was not found.'); return new Form($form); } /** * @throws FormFieldException * @return bool */ public function validate($postfields){ } public function getQuestions(){ return $this->questions; } public function getChildren(){ return $this->questions[$this->current]; } public function hasChildren(){ return count($this->questions) > 0; } public function current(){ return $this->questions[$this->current]; } public function key(){ return $this->current; } public function next(){ $this->current++; } public function rewind(){ $this->current = 0; } public function valid(){ return isset($this->questions[$this->current]); }} class Question implements RecursiveIterator{ private $id; private $type; private $answers = array(); private $subquestions = array(); private $other_text; private $triggers_unique; private $caption; private $current = 0; public function __construct($id, $type, $caption, $other_text = null, $triggers_unique = false){ $this->id = $id; $this->type = $type; $this->caption = $caption; $this->other_text = $other_text; $this->triggers_unique = $triggers_unique; $this->setSubQuestions(); } private function setSubQuestions(){ $questions = dibi::query('SELECT * FROM cyp_questions WHERE parent_id = %i', $this->id); while($question = $questions->fetch()) $this->subquestions[] = new Question($question->question_id, $question->type, $question->caption, $question->other_text, $question->triggers_unique == 1); } public function getOtherText(){ return $this->other_text; } public function getCaption(){ return $this->caption; } public function addAnswer($answer){ $this->answers[] = $answer; } public function getChildren(){ return $this->subquestions[$this->current]; } public function hasChildren(){ return count($this->subquestions) > 0; } public function current(){ return $this->subquestions[$this->current]; } public function key(){ return $this->id; } public function next(){ ++$this->current; } public function rewind(){ $this->current = 0; } public function valid(){ return isset($this->subquestions[$this->current]); } public function getAnswers(){ return $this->answers; }} $form = Form::loadById(1);foreach($form as $question){ echo $question->getCaption().'<br />'; }",PHP RecursiveIterator traversing
include file to buil header," I'm trying to make the whole <head> section its own include file. One drawback is the title and description and keyword will be the same; I can't figure out how to pass arguments to the include file.So here is the code:index.php header.php Obviously this doesn't work; how can I pass arguments to an included file? <code>  <?php include(""header.php?header=aaaaaaaaaaaaaaaaaaaaa""); ?><body>........ <!DOCTYPE html PUBLIC ""-//W3C//DTD XHTML 1.0 Transitional//EN"" ""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd""><html xmlns=""http://www.w3.org/1999/xhtml""><link rel=""shortcut icon"" href=""favicon.ico""><head><meta http-equiv=""Content-Type"" content=""text/html; charset=UTF-8"" /><meta name=""Keywords"" content="" <?php $_GET[""header""]?> "" ><meta name=""Description"" content="" <?php $_GET[""header""]?> "" ><title> <?php $_GET[""header""]?> </title><link rel=""stylesheet"" type=""text/css"" href=""reset.css"" /><script type=""text/javascript"" src=""http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js""></script></head>",How to pass arguments to an included file?
recommendation? for our specific HTML -> PDF project," I have a question which I see from googling has been discussed at length.. but I want to know what you would recommend based on our particular needs. I want to be on the right track before I find out a-week-of-work later that I chose the wrong tool (a tool which works, but whose peculiarity, in the end, would rule it out for our project).I read some good threads on Stack Overflow already on this topic.. but they have people making recommendations all over the map.. as I would expect - generally, our needs and experiences are all over the map. And again, here I want to know what you would recommend given our specific situation.We have a dynamic HTML page that displays 30 ""address labels"" within the dimensions of one single US-letter-size document. We want the user to be able to print the single letter-sized page and have the content line up perfectly (as it does in the browser) for the Avery address label (printed) sticker paper which they will use to then peel the 30 stickers and affix to physical product. The HTML page is ~ 200k worth of HTML (divs and tables), text, gifs, jpgs, a barcode PNG graphic, and heavy use of exacting CSS - CSS2 as well as a touch of CSS3 (CSS3 property transform), i.e. this: ...which I use to rotate (90 degrees) a barcode which I grab off of this site/service: http://www.barcodesinc.com/generator/index.phpWe could drop that barcode PNG/service only if I could easily replace it with another... and the barcode must be rotated 90 degrees - to thus fit in its tiny (vertically-oriented) alloted slot on each of the 30 ""address label cells"".I wish we had budget for the server version of PrinceXML ;-) ... but no luck. I have never used any PHP libraries like FPDF or TCPDF, but am concerned about speed; corporate users (on various browsers) will need the pdf in real time. They may be patient and wait for the final PDF if keep the solution free.. but if it takes minutes to generate, that is a minus point.Also I am not sure how good these are for HTML -> PDF (as opposed to straight PDF from scratch).. plus not sure how good is the CSS support. Our page is a bit of an HTML/CSS kludge.I have used the command-line tools HTMLDOC and wkpdf, but the former lacked the CSS I need now, and the latter introduces margin that kills it for exact address-label formatting (plus this project is on Linux).My PHP skills are not super strong yet.. but I am willing to do whatever it takes to pull any solution together.In case you have any familiarity with any PDF generation tools that you feel would fit the need here, then please advise! <code>  /* --- for firefox, safari, chrome, etc. --- */-webkit-transform: rotate(90deg);-moz-transform: rotate(90deg);/* --- for ie --- */filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=1);",Recommendation? for our specific HTML -> PDF project
"PHP: Public, Private, Protected "," When and why should I use public, private, and protected functions and variables inside a class? What is the difference between them?Examples: <code>  // Publicpublic $variable;public function doSomething() { // ...}// Privateprivate $variable;private function doSomething() { // ...}// Protectedprotected $variable;protected function doSomething() { // ...}","What is the difference between public, private, and protected?"
"PHP: Public, Private, Protected"," When and why should I use public, private, and protected functions and variables inside a class? What is the difference between them?Examples: <code>  // Publicpublic $variable;public function doSomething() { // ...}// Privateprivate $variable;private function doSomething() { // ...}// Protectedprotected $variable;protected function doSomething() { // ...}","What is the difference between public, private, and protected?"
"What is the difference between ublic, private, and protected?"," When and why should I use public, private, and protected functions and variables inside a class? What is the difference between them?Examples: <code>  // Publicpublic $variable;public function doSomething() { // ...}// Privateprivate $variable;private function doSomething() { // ...}// Protectedprotected $variable;protected function doSomething() { // ...}","What is the difference between public, private, and protected?"
how to get single value from php array," Example print_r($myarray) Question, how to get the $myarray in single value like: <code>  Array( [0] => Array ( [id] => 6578765 [name] => John Smith [first_name] => John [last_name] => Smith [link] => http://www.example.com [gender] => male [email] => email@domain.com [timezone] => 8 [updated_time] => 2010-12-07T21:02:21+0000 )) echo $myarray['email']; will show email@domain.com",How to get single value from this multi-dimensional PHP array
How to get single value from PHP array," Example print_r($myarray) Question, how to get the $myarray in single value like: <code>  Array( [0] => Array ( [id] => 6578765 [name] => John Smith [first_name] => John [last_name] => Smith [link] => http://www.example.com [gender] => male [email] => email@domain.com [timezone] => 8 [updated_time] => 2010-12-07T21:02:21+0000 )) echo $myarray['email']; will show email@domain.com",How to get single value from this multi-dimensional PHP array
What are the differences between Doctrine 1 and Doctrine 2?," I have only started discovering Doctrine and noticed the official documentation points to 1.2 as this seems to be the current stable version. I also noticed that a lot of people seem to mention Doctrine 2 is a ""world of difference"" compared to Doctrine 1, but when looking at the What's new page, I don't really see an extensive changelog. I am guessing this list only shows the newest additions compared to the previous 2.x build. I expected to find a nice roundup of differences after Googling this same question, but I can not seem it.I am currently plowing through the Doctrine 1 manual, and will do the same for Doctrine 2 as soon as I finish reading it, but a proper overview of the big changes would be really appreciated, so my question is:What are the differences between Doctrine1 and Doctrine2? <code> ",What are the differences between Doctrine1 and Doctrine2?
"MySQL, NoSQL: help me to use the right one"," There is a big database, 1,000,000,000 rows, called threads (these threads actually exist, I'm not making things harder just because of I enjoy it). Threads has only a few stuff in it, to make things faster: (int id, string hash, int replycount, int dateline (timestamp), int forumid, string title)Query:select * from thread where forumid = 100 and replycount > 1 order by dateline desc limit 10000, 100Since that there are 1G of records it's quite a slow query. So I thought, let's split this 1G of records in as many tables as many forums(category) I have! That is almost perfect. Having many tables I have less record to search around and it's really faster. The query now becomes:select * from thread_{forum_id} where replycount > 1 order by dateline desc limit 10000, 100This is really faster with 99% of the forums (category) since that most of those have only a few of topics (100k-1M). However because there are some with about 10M of records, some query are still to slow (0.1/.2 seconds, to much for my app!, I'm already using indexes!).I don't know how to improve this using MySQL. Is there a way?For this project I will use 10 Servers (12GB ram, 4x7200rpm hard disk on software raid 10, quad core)The idea was to simply split the databases among the servers, but with the problem explained above that is still not enought.If I install cassandra on these 10 servers (by supposing I find the time to make it works as it is supposed to) should I be suppose to have a performance boost?What should I do? Keep working with MySQL with distributed database on multiple machines or build a cassandra cluster?I was asked to post what are the indexes, here they are: Select explain: <code>  mysql> show index in thread;PRIMARY idforumiddatelinereplycount mysql> explain SELECT * FROM thread WHERE forumid = 655 AND visible = 1 AND open <> 10 ORDER BY dateline ASC LIMIT 268000, 250;+----+-------------+--------+------+---------------+---------+---------+-------------+--------+-----------------------------+| id | select_type | table | type | possible_keys | key | key_len | ref | rows | Extra |+----+-------------+--------+------+---------------+---------+---------+-------------+--------+-----------------------------+| 1 | SIMPLE | thread | ref | forumid | forumid | 4 | const,const | 221575 | Using where; Using filesort | +----+-------------+--------+------+---------------+---------+---------+-------------+--------+-----------------------------+",MySQL and NoSQL: Help me to choose the right one
"MySQL, NoSQL: help me to choose the right one! (on a )"," There is a big database, 1,000,000,000 rows, called threads (these threads actually exist, I'm not making things harder just because of I enjoy it). Threads has only a few stuff in it, to make things faster: (int id, string hash, int replycount, int dateline (timestamp), int forumid, string title)Query:select * from thread where forumid = 100 and replycount > 1 order by dateline desc limit 10000, 100Since that there are 1G of records it's quite a slow query. So I thought, let's split this 1G of records in as many tables as many forums(category) I have! That is almost perfect. Having many tables I have less record to search around and it's really faster. The query now becomes:select * from thread_{forum_id} where replycount > 1 order by dateline desc limit 10000, 100This is really faster with 99% of the forums (category) since that most of those have only a few of topics (100k-1M). However because there are some with about 10M of records, some query are still to slow (0.1/.2 seconds, to much for my app!, I'm already using indexes!).I don't know how to improve this using MySQL. Is there a way?For this project I will use 10 Servers (12GB ram, 4x7200rpm hard disk on software raid 10, quad core)The idea was to simply split the databases among the servers, but with the problem explained above that is still not enought.If I install cassandra on these 10 servers (by supposing I find the time to make it works as it is supposed to) should I be suppose to have a performance boost?What should I do? Keep working with MySQL with distributed database on multiple machines or build a cassandra cluster?I was asked to post what are the indexes, here they are: Select explain: <code>  mysql> show index in thread;PRIMARY idforumiddatelinereplycount mysql> explain SELECT * FROM thread WHERE forumid = 655 AND visible = 1 AND open <> 10 ORDER BY dateline ASC LIMIT 268000, 250;+----+-------------+--------+------+---------------+---------+---------+-------------+--------+-----------------------------+| id | select_type | table | type | possible_keys | key | key_len | ref | rows | Extra |+----+-------------+--------+------+---------------+---------+---------+-------------+--------+-----------------------------+| 1 | SIMPLE | thread | ref | forumid | forumid | 4 | const,const | 221575 | Using where; Using filesort | +----+-------------+--------+------+---------------+---------+---------+-------------+--------+-----------------------------+",MySQL and NoSQL: Help me to choose the right one
what is the best way to check if a Url exists in PHP ?`, What is the best way to see a URL exists and the response is not a 404 ? <code> ,What is the best way to check if a URL exists in PHP?
Replace all relative URLs to absolute ones using PHP," How to, using php, transform relative path to absolute URL? <code> ",Transform relative path into absolute URL using PHP
Transfrom relative path into absolute one using PHP," How to, using php, transform relative path to absolute URL? <code> ",Transform relative path into absolute URL using PHP
Transfrom relative path into absolute URL using PHP," How to, using php, transform relative path to absolute URL? <code> ",Transform relative path into absolute URL using PHP
Zend Guard VS ionCube," I've developped a php script and I want to protect my files, so what do you think is the best choice for doing this.ionCube starting from 199$Zend Guard 800$Is there any other cheaper tools or even free ? <code> ",Zend Guard vs. ionCube
What's fast ? if()return;else return; OR if()return; return;," While coding, i just asked myself this question :Is this faster : Than this ? Of course, IF there is a difference it is ridiculous, but my curiosity won't leave until i know that :D <code>  if(false) return true; else return false; if(false) return true;return false;",What's faster ? if()return;else return; OR if()return; return;
PHP MySQL - Compare Datetime," I have a datetime field in my MySql table where the date and time are recorded in the following format:2010-12-17 18:06:59I would like to select records where the datetime is in the last 15 minutes. How do I construct my query to do this?I tried the following but it doesn't work: Thanks! <code>  // check in last 15 minutes$time_duration = (15 * 60);""SELECT COUNT(CounterId) AS Count FROM visitors_counter WHERE TimeStamp > NOW() - $time_duration""",deleted by poster
deleted by poster," I have a datetime field in my MySql table where the date and time are recorded in the following format:2010-12-17 18:06:59I would like to select records where the datetime is in the last 15 minutes. How do I construct my query to do this?I tried the following but it doesn't work: Thanks! <code>  // check in last 15 minutes$time_duration = (15 * 60);""SELECT COUNT(CounterId) AS Count FROM visitors_counter WHERE TimeStamp > NOW() - $time_duration""",deleted by poster
How does PHP Array HashTable handle collisions?," I once trying adding two values with the same key, but it didn't work. It overrode the old value. Isn't it possible to add more than one value with the same key, and when retrieving by key, I get a linked list which I can iterate to get all the different values? <code> ",array: store multiple values per key
Fleury algorthm in PHP or C or Javascript!, I'm looking for an code example of the Fleury or Hierholzer algorithm. I couldn't find any in my language? <code> ,Code example of the fleury or hierholzer algorithm?
Fleury algorithm in PHP or C or Javascript?, I'm looking for an code example of the Fleury or Hierholzer algorithm. I couldn't find any in my language? <code> ,Code example of the fleury or hierholzer algorithm?
Code example for fleury or hierholzer algorithm?, I'm looking for an code example of the Fleury or Hierholzer algorithm. I couldn't find any in my language? <code> ,Code example of the fleury or hierholzer algorithm?
Javascript Equivalent to Explode," I have this string: 0000000020C90037:TEMP:dataI need this string: TEMP:data.With PHP I would do this: How do I effectively explode a string in JavaScript the way it works in PHP? <code>  $str = '0000000020C90037:TEMP:data';$arr = explode(':', $str);$var = $arr[1].':'.$arr[2];",Javascript Equivalent to PHP Explode()
Javascript Equivalent to PHP's function Explode()," I have this string: 0000000020C90037:TEMP:dataI need this string: TEMP:data.With PHP I would do this: How do I effectively explode a string in JavaScript the way it works in PHP? <code>  $str = '0000000020C90037:TEMP:data';$arr = explode(':', $str);$var = $arr[1].':'.$arr[2];",Javascript Equivalent to PHP Explode()
How to catch all php error," I need a solution to catch all PHP fatal errors, exceptions, warnings, etc. and have a callback.I want to display a friendly version of the error to the user and log that error.I'm thinking about using a text file per day for logging error.Any suggestion or PHP class (library)? <code> ",How to catch all PHP errors?
Convert any title to url and back from url to title," I want to convert any title e.g. of a blog entry to a user friendly url. I used rawurlencode() to do that but it gives me a lot of strange strings like %s.The algorithm should consider german chars like , , etc. I want to make a url from title and be able to get the title by decoding the url.I tried some of this code: http://pastebin.com/L1SwESBn that is provided in some other questions but it seems to be one way.E.g. HRZU.de -> hoerzu-de -> HRZU.de Any ideas? <code> ",Convert any title to url slug and back from url slug to title
 SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax  PHP  PDO," I've looked through all the other StackOverflow (and google) posts with the same problem, but none seemed to address my problem.I am using PDO and PHP.My code: and the first print_r gives which is expected (none are null)but it outputs the error SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from, to, name, subject, message) VALUES ('abc@gmail.com', 'lala@me.com' at line 1No idea how to fix this. any ideas? <code>  $vals = array( ':from' => $email, ':to' => $recipient, ':name' => $name, ':subject' => $subject, ':message' = >$message);print_r($vals);try { $pdo = new PDOConfig(); $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); $sql = ""SELECT * FROM messages WHERE `message` LIKE :message""; $q = $pdo->prepare($sql); $q->execute(array(':message' => $vals[':message'])); $resp = $q->fetchAll(); foreach ($resp as $row) { throw new Exception('Please do not post the same message twice!'); } $sql = ""INSERT INTO messages (from, to, name, subject, message) VALUES (:from, :to, :name, :subject, :message)""; $q = $pdo->prepare($sql); $q->execute($vals);} catch(PDOException $e) { echo $e->getMessage();} Array ( [:from] => abc@gmail.com [:to] => lala@me.com [:name] => abc [:subject] => abc [:message] => abc )",SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax  PHP  PDO
What does /[\S\s]*/ mean in regex in PHP?, What is meant by [\s\S]* in regex in PHP? Does [\s\S]* actually match every string the same as .*? <code> ,What does [\S\s]* mean in regex in PHP?
Is there a way to read out the names of worksheets in PHPExcel?," I am using PHPExcel to read data out of Excel files.With the following code, I am able to read one particular worksheet out of a 3MB Excel file in just a couple seconds. Works nicely.However, I now have 27MB and 88MB Excel files which I need to get data out of. They are so large that even OpenOffice cannot open them.I have found that I can use an index number instead of a name when I load a sheet, but this seems inconsistent, e.g. in one particular Excel file setLoadSheetsOnly(0) gave me the third sheet while setLoadSheetsOnly(1) gave me an error even though there were four worksheets in the file. So that seems unreliable for some reason.Is there a way I can read out the names of the worksheets from a large file so that I can access only one of its worksheets at a time? ADDENDUM:I found some code that gets close, but it doesn't seem to always be accurate, e.g. here it missed the second worksheet in a 27MB file:and here it only got the third worksheet and missed 3 others: <code>  $objReader = PHPExcel_IOFactory::createReaderForFile(""data/"" . $file_name); $objReader->setLoadSheetsOnly(array($sheet_name)); $objReader->setReadDataOnly(true); $objPHPExcel = $objReader->load(""data/"" . $file_name); echo '<table border=""1"">'; for ($row = 1; $row < $number_of_rows; $row++) { echo '<tr>'; for ($column = 0; $column < $number_of_columns; $column++) { $value = $objPHPExcel->setActiveSheetIndex(0)->getCellByColumnAndRow($column, $row)->getValue(); echo '<td>'; echo $value . '&nbsp;'; echo '</td>'; } echo '</tr>'; } echo '</table>'; die; $objReader = PHPExcel_IOFactory::createReaderForFile(""data/"" . $file_name);$objReader->setLoadSheetsOnly(0);$objReader->setReadDataOnly(true);$objPHPExcel = $objReader->load(""data/"" . $file_name);echo $objPHPExcel->getSheetCount(), ' worksheets<hr/>';$loadedSheetNames = $objPHPExcel->getSheetNames();foreach ($loadedSheetNames as $sheetIndex => $loadedSheetName) { echo $sheetIndex, ' -> ', $loadedSheetName, '<br />';}die;",Is there a way to get the worksheet names from 20MB+ Excel files with PHPExcel?
PHP Function to get First 5 Values of java, How can I get an array with the first 5 elements? <code>  Array( [university] => 57 [iit] => 57 [jee] => 44 [application] => 28 [study] => 26 [college] => 23 [exam] => 19 [colleges] => 19 [view] => 19 [amp] => 18),PHP Function to get First 5 Values of array
How can I fix the Permission error when I call session_start() ?," when I uploaded the script to the server I got this error The error appeared when I call session_start(), although I set the permission of /tmp folder to 777. <code>  Warning: Unknown: open(/tmp/sess_58f54ee6a828f04116c2ed97664497b2, O_RDWR) failed: Permission denied (13) in Unknown on line 0Warning: Unknown: Failed to write session data (files). Please verify that the current setting of session.save_path is correct (/tmp) in Unknown on line 0",How can I fix the Permission error when I call session_start()?
How to pass extra variables in URL with Wordpress ," I am having trouble trying to pass an extra variable in the url to my WordPress installation. For example /news?c=123For some reason, it works only on the website root www.example.com?c=123 but it does not work if the url contains any more information www.example.com/news?c=123. I have the following code in my functions.php file in the theme directory. Any Ideas? <code>  if (isset($_GET['c'])) { setcookie(""cCookie"", $_GET['c']); }if (isset($_SERVER['HTTP_REFERER'])){ setcookie(""rCookie"", $_SERVER['HTTP_REFERER']);}",How to pass extra variables in URL with WordPress
How to remove the first character in php, I have a input string like: How can I remove the first occurring : with PHP?Desired output: this is a applepie :)  <code>  $str = ':this is a applepie :) ';,How to remove the leading character from a string?
How to remove the first character of string in PHP?, I have a input string like: How can I remove the first occurring : with PHP?Desired output: this is a applepie :)  <code>  $str = ':this is a applepie :) ';,How to remove the leading character from a string?
How to remove the leading colon from a string?, I have a input string like: How can I remove the first occurring : with PHP?Desired output: this is a applepie :)  <code>  $str = ':this is a applepie :) ';,How to remove the leading character from a string?
"I need to debug php, what is my best choice?"," I'm working on a web site under a Linux environment (Debian). I'm not an expert at Linux but I can handle it, and the website is made using PHP, MySQL, HTML, etc.The thing is, I'm using PHP for the server side. Right now, for testing, I installed Apache on my PC so I can test everything. But, it would be great if I could debug the PHP code. So far, I didn't need it, but now the code is getting larger, it's a must.So far, I'm using vim and everything is fine, but, how can I debug PHP in my case? What tools should I install? Are they free?Basically, I need to know what would be the best choice in my situation. <code> ",I need to debug PHP. What is my best choice?
how can i find out what version of php is running on a ditinct domain name?," How can I find the version of php that is running on a distinct server with distinct domain name? (like www.abc.com) It is not my server, no ftp access for making a php file with this code: <code>  <?php echo PHP_VERSION;?>",How can I find the version of php that is running on a distinct domain name?
Is this too many dependenies to inject into an object through the constructor?," I am working on a social network type project in OO PHP and I do not want to use an existing framework. The main point of doing this project is to help me learn about more stuff. This question is more about dependency injection. Let's say I have these classes: core class - some core methods to do stuff in the appconfig class - loads site config stuffdatabase class - connects to mysql and does all database related stufflogger class - used to log errors and debug infocaptcha class - for captcha on formssession class - initiates a session start and adds, removes, gets session variables to use in the appcache class - similar to session class but for caches items (files cache, memcache, apc cache. I may even add my session stuff to this class someday since all these cache's can use the same type of methods)All the classes above will most likely be used on every page load in my app (I probably missed some more classes that will be added later on)Now in addition to the above classes which will need to be injected into most other classes, I will have many many more classes. I will have a secion called modules which will have stuff like...account class - creates new users, authenticates users, logs users in and out of the app, update user settings, and much more.users class - shows users profiles, shows users online, new users, all stuff to show users of the siteforums class - will be for the forums sectionblogs class - for the blogs sectionphotos class - all photo related stuffcomments class - handles comments for photos and profiles There will be many more of these type of classes for different sections of the site.This second set of classes listed above for sections will most likely require most of the classes from the first set to be injected into them. So should I use a registry to store the objects from the first set of classes and just inject the registry into all the class objects in the second set of classes? Or should I use the constructor to load them? In this example there would be like 7 objects to inject into the other classes, that seems like a lot. Am I going about this wrong? ---EDIT---I am aware of the singleton pattern but I don't think it is my best option here---EDIT 2---As some have mention, needing to pass in as much as 7 objects does seem like a LOT and that is why I am looking for suggestions. Luckily for me this project is at the beginning stages so now is the time for changes to the structure. An example would be a class in my forums section. The forums class would need access to session data, possible cached data, the configs object, database object. AM I going about this the wrong way? <code> ",Is this too many dependencies to inject into an object through the constructor?
Is foreach guarenteed to iterate in the array order in php?," When an array is passed to foreach is the output order guaranteed to be the same as the input? I know in some languages that the output order is not guaranteed since each element is processed at the same time.For example, I'm passing a sorted array to foreach to write to a file. I want to be sure that the array will be sorted in the output file. <code> ",Is foreach guaranteed to iterate in the array order in php?
php split to preg_split," I wanted to convert the following split function, which I have been using to preg_split.. it's a little confusing, because the value will change from time to time...Current code: Output of the split function: <code>  $root_dir = 'www';$current_dir = 'D:/Projects/job.com/www/www/path/source';$array = split('www', 'D:/Projects/job.com/www/www/path/source', 2);print_r($array); Array ( [0] => D:/Projects/job.com/ [1] => /www/path/source )",PHP split to preg_split()
[SQL] Protect against SQL injection ," I'm developing a website and I'm trying to secure the connection part.I used the addslashes function on $login to stop SQL injection but some friends told me that's not enough security. However, they didn't show me how to exploit this vulnerability.How can I / could you break this code?How can I secure it? <code>  <?php if ( isset($_POST) && (!empty($_POST['login'])) && (!empty($_POST['password'])) ) { extract($_POST); $sql = ""SELECT pseudo, sex, city, pwd FROM auth WHERE pseudo = '"".addslashes($login).""'""; $req = mysql_query($sql) or die('Erreur SQL'); if (mysql_num_rows($req) > 0) { $data = mysql_fetch_assoc($req); if ($password == $data['pwd']) { $loginOK = true; } } } ?>",Protect against SQL injection 
Are all PHP equality comparisons associative?," Is $a == $b always equivalent to $b == $a?I think in JavaScript there are a few weird cases where that's not true, due to casting.I think ide is correct. I'll ask another question. <code> ",Are all PHP equality comparisons symmetric?
Are all PHP equality comparisons reflexive?," Is $a == $b always equivalent to $b == $a?I think in JavaScript there are a few weird cases where that's not true, due to casting.I think ide is correct. I'll ask another question. <code> ",Are all PHP equality comparisons symmetric?
How do I extract query parameters from an URL string in PHP?," Users can input URLs using a HTML form on my website, so they might enter something like this: http://www.example.com?test=123&random=abc, it can be anything. I need to extract the value of a certain query parameter, in this case 'test' (the value 123). Is there a way to do this? <code> ",How do I extract query parameters from a URL string in PHP?
PHP array_splice keep previous keys," I have the array with specific keys. I want to get the first 5 array elements. I use array_splice(). All OK, but keys in the new array is 0, 1, 2, 3 ,4. And I want to keep the previous array keys. I can do it with foreach, but i am finding the elegant method.My code: Thank you in advance. Sorry for my english. <code>  $levels = array('a' => 1, 'b' =>2, 'c' => 3, 'd' => 4, 'f' => 5, 'g' => 6);$levels = array_splice($levels, 5);",PHP extract part from array keeping previous keys
PHP CodeIgniter 404 on deploy," Oooops I did it again.My site worked perfectly locallyMy development machine is a windows WAMP2 setupMy server is a CentOS 5.5 APACHE 2.2 PHP5 seupI'm getting a 404 on the codeigniter site that I've deployed, and I really can't make out what's wrong, so please help me find the error.It's the root url. I haven't set up dns so it's just the ip address of the server. It was showing the standard apache page before I uploaded codeigniter. I've looked over the config file, and it looks ok. Could it be a file permissions error? i have set chmod o+rw in the whole /var/www/html dir. the error_log in the httpd shows nothingI've tried testing if it was the mod_rewrite module, but I created a test directory with a .htaccess file with RewriteEngine ON that didn't give me an error, so that can't be it.In codeigniter I've set the log_threshold to 4 in the config, but I don't get any log messages, so I can't really make out if it's a pre-> codeigniter error, but I really don't think it is, as it's loading my Error view, still Why isn't there any log being written, what's it about?Any help would be extremely appreciated as I'm running on fumes to get this working...UpdateThanks to @jondavidjohn I have discovered that hitting the controller directly IE:http://addr/index.php/GeoController/markers/Will provide me with a controller specific error saying:unable to locate your model ""modelname""SOLVEDThanks to @jondavidjohn, and @timdream for giving me the clues to solve this one. It was a naming problem, I had filenames that were camelcased, and they can only be small from what I understand now, so the ROUTE was innefective in that it lead to Site, but should've lead to site although I had a Site.php I had to change it and the route to site.php <code> ",PHP CodeIgniter 404 on deploy
[SOLVED] PHP CodeIgniter 404 on deploy," Oooops I did it again.My site worked perfectly locallyMy development machine is a windows WAMP2 setupMy server is a CentOS 5.5 APACHE 2.2 PHP5 seupI'm getting a 404 on the codeigniter site that I've deployed, and I really can't make out what's wrong, so please help me find the error.It's the root url. I haven't set up dns so it's just the ip address of the server. It was showing the standard apache page before I uploaded codeigniter. I've looked over the config file, and it looks ok. Could it be a file permissions error? i have set chmod o+rw in the whole /var/www/html dir. the error_log in the httpd shows nothingI've tried testing if it was the mod_rewrite module, but I created a test directory with a .htaccess file with RewriteEngine ON that didn't give me an error, so that can't be it.In codeigniter I've set the log_threshold to 4 in the config, but I don't get any log messages, so I can't really make out if it's a pre-> codeigniter error, but I really don't think it is, as it's loading my Error view, still Why isn't there any log being written, what's it about?Any help would be extremely appreciated as I'm running on fumes to get this working...UpdateThanks to @jondavidjohn I have discovered that hitting the controller directly IE:http://addr/index.php/GeoController/markers/Will provide me with a controller specific error saying:unable to locate your model ""modelname""SOLVEDThanks to @jondavidjohn, and @timdream for giving me the clues to solve this one. It was a naming problem, I had filenames that were camelcased, and they can only be small from what I understand now, so the ROUTE was innefective in that it lead to Site, but should've lead to site although I had a Site.php I had to change it and the route to site.php <code> ",PHP CodeIgniter 404 on deploy
Convert SVG image to PNG with PHP ," I'm working on a web project that involves a dynamically generated map of the US coloring different states based on a set of data. This SVG file gives me a good blank map of the US and is very easy to change the color of each state. The difficulty is that IE browsers don't support SVG so in order for me to use the handy syntax the svg offers, I'll need to convert it to a JPG. Ideally, I'd like to do this with only the GD2 library but could also use ImageMagick. I have absolutely no clue how to do this. Any solution that would allow me to dynamically change the colors of states on a map of the US will be considered. The key is that it is easy to change the colors on the fly and that it is cross browser. PHP/Apache solutions only, please. <code> ",Convert SVG image to PNG with PHP
Difference btw OBJECT and CLASS in PHP?," What is the difference between Object and Class in PHP? I ask because, I don't really see the point to both of them.Can you tell me the difference with a good example? <code> ",Difference between object and class in PHP?
"How to get video duration, dimension and size in php "," I want to know how to get the duration, dimension and size of uploaded video file in PHP. The file can be in any video format. <code> ","How to get video duration, dimension and size in PHP?"
Save Accents in MySQL Database [PHP]," I'm trying to save French accents in my database, but they aren't saved like they should in the DB.For example, a """" is saved as """".I've tried to set my files to ""Unicode (utf-8)"", the fields in the DB are ""utf8_general_ci"" as well as the DB itself.When I look at my data posted through AJAX with Firebug, I see the accent passed as """", so it's correct.Thanks and let me know you need more info! <code> ",Save Accents in MySQL Database
PHP execute code on page close," I am trying to find a method to execute some PHP code once a user closes the page. In my application, once the user closes or navigates away from the page the server will state the user as 'Offline' in the database. This requires the code to know when the user has navigated away from the page. My application also has an endless load (i.e. it will sleep until the user closes the page). <code> ",How can I execute PHP code on page close?
codeigniter : Getting data posted in between two dates, How can I retrieve data from the database by querying records between two dates using CodeIgniter's activerecord? <code> ,Getting data posted in between two dates
"Ajax returns ""parsererror"" for json data"," I have this function for getting a server id from a list. The function always returns ""parsererror"". I have looked at the JSON data returned but I cant seem to get it working, since jQuery have rewritten the ajax in v1.5. server_list.php In firebug Net >> XHR it reads it as JSON as it brings up the tab and the Response tab shows what is below. I have also tried setting the content type header like below but having no luck. UPDATEDI only get ""parsererror"" if the validation plugin is loaded from http://bassistance.de/jquery-plugins/jquery-plugin-validation docs.jquery.com/Plugins/Validation v1.7.If you add the plug jquery automatically adds the jsonp callback to the query string even when you set to false or dont include the parms for jsonp. Very StrangeAny ideas on how to fix?Thanks <code>  function server_id(){ $.ajax({ type: ""GET"", url: ""http://localhost/server_list.php"", dataType: ""json"", success: function(data, status) { alert(status + ""\n\n"" + data.server_id); }, complete: function(data, status){ alert(status); } });} header('Content-type: application/json'); $output['server_id'] = '123'; print json_encode($output); {""server_id"":""123""} Content-type: application/json","jQuery.ajax() v1.5 returns ""parsererror"" for json data"
use of header in php, What are some possible uses of the header function in PHP?Could someone provide me with some links for reading about this function?Thank you. <code> ,Use of header in PHP
"difference in  behaviour of func_num_args,func_get_arg and func_get_args from php 5.2 to 5.3"," I have seen the PHP manual. But I don't understand the difference in behaviour between the earlier version and the later versions of PHP. I don't understand this statement: Because this function depends on the current scope to determine parameter details, it cannot be used as a function parameter in versions prior to 5.3.0. If this value must be passed, the results should be assigned to a variable, and that variable should be passed. <code> ","Difference in behaviour of func_num_args,func_get_arg and func_get_args from php 5.2 to 5.3"
"Difference in  behaviour of func_num_args,func_get_arg and func_get_args from php 5.2 to 5.3"," I have seen the PHP manual. But I don't understand the difference in behaviour between the earlier version and the later versions of PHP. I don't understand this statement: Because this function depends on the current scope to determine parameter details, it cannot be used as a function parameter in versions prior to 5.3.0. If this value must be passed, the results should be assigned to a variable, and that variable should be passed. <code> ","Difference in behaviour of func_num_args,func_get_arg and func_get_args from php 5.2 to 5.3"
PHP MYSQLI num rows returning 0," I've been having trouble getting the number of rows to return using mysqli. I just get 0 back every time even though there are definitely some results. Why doesn't it show the correct number? <code>  if($stmt = $mysqli->prepare(""SELECT id, title, visible, parent_id FROM content WHERE parent_id = ? ORDER BY page_order ASC;"")){ $stmt->bind_param('s', $data->id); $stmt->execute(); $num_of_rows = $stmt->num_rows; $stmt->bind_result($child_id, $child_title, $child_visible, $child_parent); while($stmt->fetch()){ //code } echo($num_of_rows); $stmt->close();}",Why does mysqli num_rows always return 0?
Why translit dones't work?," makes error...should print: myresume <code>  setlocale(LC_ALL, 'en_US.UTF8');$string= '';echo iconv('UTF-8', 'ASCII//TRANSLIT', $string);",Why doesn't translit work?
"Get variabels from the outside, inside a function in PHP"," I'm trying to figure out how I can use a variable that has been set outside a function, inside a function. Is there any way of doing this? I've tried to set the variable to ""global"" but it doesn't seems to work out as expected.A simple example of my code I want this to return the value of 2. <code>  $var = '1';function() { $var + 1; return $var;}","Get variables from the outside, inside a function in PHP"
Remove header information from response," I have a php script that returns just plain text without any html. Now I want to make a cURL request to that script and I get the following response: The actuall response is just 6.8320 as text without any html. I want to retrieve it from the response above by just removing the header information.I already minified the script a bit: Any idea what I need to change to remove the header information from the response? <code>  HTTP/1.1 200 OKDate: Mon, 28 Feb 2011 14:21:51 GMTServer: Apache/2.2.14 (Ubuntu)X-Powered-By: PHP/5.2.12-nmm2Vary: Accept-EncodingContent-Length: 6Content-Type: text/html6.8320 $url = $_GET['url'];if ( !$url ) { // Passed url not specified. $contents = 'ERROR: url not specified'; $status = array( 'http_code' => 'ERROR' );} else if ( !preg_match( $valid_url_regex, $url ) ) { // Passed url doesn't match $valid_url_regex. $contents = 'ERROR: invalid url'; $status = array( 'http_code' => 'ERROR' );} else { $ch = curl_init( $url ); if ( strtolower($_SERVER['REQUEST_METHOD']) == 'post' ) { curl_setopt( $ch, CURLOPT_POST, true ); curl_setopt( $ch, CURLOPT_POSTFIELDS, $_POST ); } curl_setopt( $ch, CURLOPT_FOLLOWLOCATION, true ); curl_setopt( $ch, CURLOPT_HEADER, true ); curl_setopt( $ch, CURLOPT_RETURNTRANSFER, true ); curl_setopt( $ch, CURLOPT_USERAGENT, $_GET['user_agent'] ? $_GET['user_agent'] : $_SERVER['HTTP_USER_AGENT'] ); list( $header, $contents ) = preg_split( '/([\r\n][\r\n])\\1/', curl_exec( $ch ), 2 ); $status = curl_getinfo( $ch ); curl_close( $ch );}// Split header text into an array.$header_text = preg_split( '/[\r\n]+/', $header );if ( true ) { if ( !$enable_native ) { $contents = 'ERROR: invalid mode'; $status = array( 'http_code' => 'ERROR' ); } // Propagate headers to response. foreach ( $header_text as $header ) { if ( preg_match( '/^(?:Content-Type|Content-Language|Set-Cookie):/i', $header ) ) { header( $header ); } } print $contents;}",How to remove HTTP headers from CURL response?
php to C# Convertor," I need this PHP code converted to C#. Is there a tool or a website that would make this possible? <code>  public function call($method, array $params) { // Add the format parameter, only 'json' is supported at the moment if (!array_key_exists('format', $params)) { $params['format'] = 'json'; } $url = ""{$this->_url}/{$method}""; $ch = $this->_getCurlHandle($url); if (!$ch) { throw new Fuze_Client_Exception(""Unable to create a cURL handle""); } // Set the request parameters $queryString = http_build_query($params); curl_setopt($ch, CURLOPT_POSTFIELDS, $queryString); // Fire! $result = $this->_executeCurl($ch); // All API response payloads should be valid json with 'code' and // 'message' members $json = json_decode($result); if ( !($json instanceof stdClass) || !isset($json->code) || !isset($json->message) ) { throw new Fuze_Client_ServerException( ""Invalid JSON payload received"", $result, $info['http_code']); } if ( $json->code >= 500 && $json->code < 600) { throw new Fuze_Client_FaultException($json); } return $json;}",php to C# converter
delete link with confirm in Yii," How can I create a link with a confirmation dialog in Yii framework?Let's say I have how do I convert that code snippet above, into a delete link with a confirm alert before deleting the data?  <code>  CHtml::link('Delete',array('wsrecruiteducation/delete','id'=>$model->EducID));",How to create a link with confirmation dialog using Yii?
PHP => function.fopen: failed to open stream: Permission denied," I'm trying to create XML sitemaps for my website from my PHP application. The idea is to either create a new file or overwrite an existing file. When I call fopen, I get the following error: I'm trying to write to the webroot and its permissions are: 755. This means that the owner has write permission, right? What do I need to do to make my script be able to write to this folder? 777 would be a bad thing, right? Can I run my script as owner somehow?Thanks. <code>  [function.fopen]: failed to open stream: Permission denied",function.fopen: failed to open stream: Permission denied in PHP
PHP: Update multiple MySQL fields in single query.," I am basically just trying to update multiple values in my table. What would be the best way to go about this? Here is the current code: The other update I want to include is: Thanks! <code>  $postsPerPage = $_POST['postsPerPage'];$style = $_POST['style'];mysql_connect (""localhost"", ""user"", ""pass"") or die ('Error: ' . mysql_error());mysql_select_db (""db"");mysql_query(""UPDATE settings SET postsPerPage = $postsPerPage WHERE id = '1'"") or die(mysql_error()); mysql_query(""UPDATE settings SET style = $style WHERE id = '1'"") or die(mysql_error());",PHP: Update multiple MySQL fields in single query
PHP: Cannot redifine class on 'require_once'.," UPDATE: I've abandoned CodeIgniter, and the desire to build a web interface around my database application from PHP, as there was no way of getting rid of this bug...The ExceptionI get this exception: I am using Doctrine 2.0, with the Symfony UniversalClassLoader, as can be seen above, to implement a data-analysis script. To view the results, I have set up a CodeIgniter project.Here's what has me baffled with this exception: I have eliminated almost all reasonably causes, and found nothing. Tell me if I did something wrong in the elemination rounds here.If anyone has any clue whatsoever about what might be going wrong here, please help. Should you think there is any information I've left out, also, please tell me.Thank you.Eliminating duplicate declarationsIt tells me I cannot redefine a class. I have grepped all my files, and this class is defined only in its specific file ""Doctrine/ORM/AbstractQuery.php"".Note that initially the error was reported at the call to require at line 190 of the Symfony UniversalClassLoader.php, and I have changed this to require_once to make sure the file isn't loaded twice.Eliminating the case-sensitive filesystemBecause of the note I found here, I think it's I should share that I'm running PHP 5.3.5 on Windows 7. This should mean the bug/feature described below is of no influence. This behaviour changed in PHP 5, so for example with Windows the path is normalized first so that C:\PROGRA~1\A.php is realized the same as C:\Program Files\a.php and the file is included just once.Eliminating require duplicationI've now gone so far as to replace every single call in every library (and my own code) to the function require to one to require_once, and the error persists unchanged. This means that I can now safely say that no call to require is responsible. My question remains: what is?Debugger OutputRunning a debugger brings me absolutely nothing: Some additional inspection tells me that the file it's loading while it crashes is lib\Doctrine\ORM\Query\Exec\AbstractSqlExecutor.php, or the AbstractSqlExecutor class... thus, something completely unrelated. <code>  Fatal error: require_once(): Cannot redeclare class doctrine\orm\abstractquery in Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php on line 190Call Stack: 0.0007 330016 1. {main}() Q:\Digest\index.php:0 0.0058 330800 2. require_once('Q:\Digest\lib\CodeIgniter\core\CodeIgniter.php') Q:\Digest\index.php:163 0.2207 935856 3. call_user_func_array() Q:\Digest\lib\CodeIgniter\core\CodeIgniter.php:297 0.2207 935904 4. Crud->index() Q:\Digest\lib\CodeIgniter\core\CodeIgniter.php:0 0.2574 1065064 5. Crud->__getEntities() Q:\Digest\Application\controllers\crud.php:19 0.2649 1121824 6. Doctrine\ORM\AbstractQuery->getResult() Q:\Digest\Application\controllers\crud.php:49 0.2649 1121976 7. Doctrine\ORM\AbstractQuery->execute() Q:\Digest\lib\Doctrine\ORM\AbstractQuery.php:366 0.2651 1121976 8. Doctrine\ORM\Query->_doExecute() Q:\Digest\lib\Doctrine\ORM\AbstractQuery.php:528 0.2651 1121976 9. Doctrine\ORM\Query->_parse() Q:\Digest\lib\Doctrine\ORM\Query.php:223 0.2848 1185896 10. Doctrine\ORM\Query\Parser->parse() Q:\Digest\lib\Doctrine\ORM\Query.php:203 0.3089 1238704 11. Doctrine\ORM\Query\SqlWalker->getExecutor() Q:\Digest\lib\Doctrine\ORM\Query\Parser.php:311 0.3090 1239104 12. Symfony\Component\HttpFoundation\UniversalClassLoader->loadClass() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:0 0.3107 1241104 13. require_once('Q:\Digest\lib\Doctrine\ORM\Query\Exec\SingleSelectExecutor.php') Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:190 0.3108 1241440 14. Symfony\Component\HttpFoundation\UniversalClassLoader->loadClass() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:0 ... 0.4658 1274904 -> Doctrine\ORM\Query\SqlWalker->getExecutor() Q:\Digest\lib\Doctrine\ORM\Query\Parser.php:311 0.4660 1275304 -> Logger::autoload() Q:\Digest\lib\Log4PHP\Logger.php:0 0.4662 1275304 -> Symfony\Component\HttpFoundation\UniversalClassLoader->loadClass() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:0 0.4663 1275384 -> strripos() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:183 0.4665 1275400 -> substr() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:185 0.4666 1275488 -> strpos() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:187 0.4667 1275520 -> substr() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:188 0.4668 1275672 -> str_replace() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:189 0.4669 1275696 -> str_replace() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:189 0.4671 1275656 -> file_exists() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:190 0.4700 1277304 -> require_once(Q:\Digest\lib\Doctrine\ORM\Query\Exec\SingleSelectExecutor.php) Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:192 0.4702 1277640 -> Logger::autoload() Q:\Digest\lib\Log4PHP\Logger.php:0 0.4703 1277640 -> Symfony\Component\HttpFoundation\UniversalClassLoader->loadClass() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:0 0.4704 1277720 -> strripos() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:183 0.4706 1277736 -> substr() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:185 0.4707 1278280 -> strpos() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:187 0.4708 1278312 -> substr() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:188 0.4709 1278464 -> str_replace() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:189 0.4711 1278488 -> str_replace() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:189 0.4712 1278448 -> file_exists() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:190 0.5259 zuTRACE END [2011-03-28 11:28:00]",Cannot redefine class on 'require_once'.
Cannot redifine class on 'require_once'.," UPDATE: I've abandoned CodeIgniter, and the desire to build a web interface around my database application from PHP, as there was no way of getting rid of this bug...The ExceptionI get this exception: I am using Doctrine 2.0, with the Symfony UniversalClassLoader, as can be seen above, to implement a data-analysis script. To view the results, I have set up a CodeIgniter project.Here's what has me baffled with this exception: I have eliminated almost all reasonably causes, and found nothing. Tell me if I did something wrong in the elemination rounds here.If anyone has any clue whatsoever about what might be going wrong here, please help. Should you think there is any information I've left out, also, please tell me.Thank you.Eliminating duplicate declarationsIt tells me I cannot redefine a class. I have grepped all my files, and this class is defined only in its specific file ""Doctrine/ORM/AbstractQuery.php"".Note that initially the error was reported at the call to require at line 190 of the Symfony UniversalClassLoader.php, and I have changed this to require_once to make sure the file isn't loaded twice.Eliminating the case-sensitive filesystemBecause of the note I found here, I think it's I should share that I'm running PHP 5.3.5 on Windows 7. This should mean the bug/feature described below is of no influence. This behaviour changed in PHP 5, so for example with Windows the path is normalized first so that C:\PROGRA~1\A.php is realized the same as C:\Program Files\a.php and the file is included just once.Eliminating require duplicationI've now gone so far as to replace every single call in every library (and my own code) to the function require to one to require_once, and the error persists unchanged. This means that I can now safely say that no call to require is responsible. My question remains: what is?Debugger OutputRunning a debugger brings me absolutely nothing: Some additional inspection tells me that the file it's loading while it crashes is lib\Doctrine\ORM\Query\Exec\AbstractSqlExecutor.php, or the AbstractSqlExecutor class... thus, something completely unrelated. <code>  Fatal error: require_once(): Cannot redeclare class doctrine\orm\abstractquery in Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php on line 190Call Stack: 0.0007 330016 1. {main}() Q:\Digest\index.php:0 0.0058 330800 2. require_once('Q:\Digest\lib\CodeIgniter\core\CodeIgniter.php') Q:\Digest\index.php:163 0.2207 935856 3. call_user_func_array() Q:\Digest\lib\CodeIgniter\core\CodeIgniter.php:297 0.2207 935904 4. Crud->index() Q:\Digest\lib\CodeIgniter\core\CodeIgniter.php:0 0.2574 1065064 5. Crud->__getEntities() Q:\Digest\Application\controllers\crud.php:19 0.2649 1121824 6. Doctrine\ORM\AbstractQuery->getResult() Q:\Digest\Application\controllers\crud.php:49 0.2649 1121976 7. Doctrine\ORM\AbstractQuery->execute() Q:\Digest\lib\Doctrine\ORM\AbstractQuery.php:366 0.2651 1121976 8. Doctrine\ORM\Query->_doExecute() Q:\Digest\lib\Doctrine\ORM\AbstractQuery.php:528 0.2651 1121976 9. Doctrine\ORM\Query->_parse() Q:\Digest\lib\Doctrine\ORM\Query.php:223 0.2848 1185896 10. Doctrine\ORM\Query\Parser->parse() Q:\Digest\lib\Doctrine\ORM\Query.php:203 0.3089 1238704 11. Doctrine\ORM\Query\SqlWalker->getExecutor() Q:\Digest\lib\Doctrine\ORM\Query\Parser.php:311 0.3090 1239104 12. Symfony\Component\HttpFoundation\UniversalClassLoader->loadClass() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:0 0.3107 1241104 13. require_once('Q:\Digest\lib\Doctrine\ORM\Query\Exec\SingleSelectExecutor.php') Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:190 0.3108 1241440 14. Symfony\Component\HttpFoundation\UniversalClassLoader->loadClass() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:0 ... 0.4658 1274904 -> Doctrine\ORM\Query\SqlWalker->getExecutor() Q:\Digest\lib\Doctrine\ORM\Query\Parser.php:311 0.4660 1275304 -> Logger::autoload() Q:\Digest\lib\Log4PHP\Logger.php:0 0.4662 1275304 -> Symfony\Component\HttpFoundation\UniversalClassLoader->loadClass() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:0 0.4663 1275384 -> strripos() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:183 0.4665 1275400 -> substr() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:185 0.4666 1275488 -> strpos() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:187 0.4667 1275520 -> substr() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:188 0.4668 1275672 -> str_replace() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:189 0.4669 1275696 -> str_replace() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:189 0.4671 1275656 -> file_exists() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:190 0.4700 1277304 -> require_once(Q:\Digest\lib\Doctrine\ORM\Query\Exec\SingleSelectExecutor.php) Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:192 0.4702 1277640 -> Logger::autoload() Q:\Digest\lib\Log4PHP\Logger.php:0 0.4703 1277640 -> Symfony\Component\HttpFoundation\UniversalClassLoader->loadClass() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:0 0.4704 1277720 -> strripos() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:183 0.4706 1277736 -> substr() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:185 0.4707 1278280 -> strpos() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:187 0.4708 1278312 -> substr() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:188 0.4709 1278464 -> str_replace() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:189 0.4711 1278488 -> str_replace() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:189 0.4712 1278448 -> file_exists() Q:\Digest\lib\Symfony\Component\HttpFoundation\UniversalClassLoader.php:190 0.5259 zuTRACE END [2011-03-28 11:28:00]",Cannot redefine class on 'require_once'.
"Get a limited, text-only excerpt from a wordpress post?"," I'm using ""The Loop"" in my own theme template to get the last three posts from WordPress. Everything is working fine - except the_excerpt(). I need about 15-20 words of plain text from the post to show as a preview, instead of the full excerpt or the entire post content body. How do I go about doing this? <code>  <?php$args = array( 'numberposts' => 3 );$myposts = get_posts( $args );foreach( $myposts as $post ) : setup_postdata($post); ?> <!-- DATE --> <div class=""date""> <?php the_time('m F Y');?> </div> <!-- TITLE --> <div class=""title""> <?php the_title(); ?> </div> <!-- SNIPPET --> <div class=""content""> <?php the_excerpt(); ?> </div><?php endforeach; ?>","Get a limited, text-only excerpt from a WordPress post?"
What is the better approach to initialize class variables?," Here are two way to initialize class variables.1st Method 2nd Method Now, these both methods are valid, but I would like to know which one in better in what conditions? What are pros and cons of sticking with one method only? <code>  class Test { private $var1; private $var2; public function Test($var1,$var1) { $this->var1 = $var1; $this->var2 = $var2; }}$objTest = new Test(""value1"",""value2""); class Test { private $var1; private $var2; public function _set($var, $value) { $this->$$var = $value }}$objTest = new Test();$objTest->_set('var1','value1');$objTest->_set('var2','value2');",Which is the better approach to initialize php properties?
Yii framework compatibility," I'm a starter in yii framework. I just want know how scalable Yii is with a lot of online users at a time?How useful is Yii in comparison to other frameworks and also if there are 100,000 users - to have things move smoothly - what kind of technology and hosting etc would be needed? <code> ",Yii framework scalability
How do I use a complex $criteria inside the repository of a doctrine 2 entity?," Lets say I have a table that holds information about festivals.Each festival has a start and end date.I want to select all the festivals that are live (that happen) on a given date.Meaning, I want to select all the festivals that their start date is before or on a given date, and that their end date is after or on a the same given date.So I went on to the repository class of the festival entity, and created a method to do just that.But the criteria argument ""findBy"" expects is an array, which all the examples only treat as a simple criteria (e.g. ""array('name' => 'billy')"" will select all the rows that have the value billy in their name column), which uses only the comparison operator.How can I use other operators such as and etc. ? <code>  >, <, !=, IN, NOT IN, LIKE ",How do I use a complex criteria inside a doctrine 2 entity's repository?
How do I use a complex criteria inside a doctrine 2 entity's repository ?," Lets say I have a table that holds information about festivals.Each festival has a start and end date.I want to select all the festivals that are live (that happen) on a given date.Meaning, I want to select all the festivals that their start date is before or on a given date, and that their end date is after or on a the same given date.So I went on to the repository class of the festival entity, and created a method to do just that.But the criteria argument ""findBy"" expects is an array, which all the examples only treat as a simple criteria (e.g. ""array('name' => 'billy')"" will select all the rows that have the value billy in their name column), which uses only the comparison operator.How can I use other operators such as and etc. ? <code>  >, <, !=, IN, NOT IN, LIKE ",How do I use a complex criteria inside a doctrine 2 entity's repository?
php string to array," Can strings be parsed into an array based on multiple delimiters? as explained in the code: <code>  $str =""a,b c,d;e f"";//What i want is to convert this string into array//using the delimiters space, comma, semicolon",Split String by Multiple Delimiters in PHP
how to put the a string into a txt file in php?," How do I put a string into a txt file in php? I want to write string like this: Then have those two lines be in the file. <code>  1,hello,world! 2,welcome",How to put the a string into a text file in PHP?
Replacing \r \n with PHP," I have a post form, which inserts my text in a MySQL database.I use and want to replace the \r\n which was automatically added.I tried but \r\n is always included in my database entries.How can I fix this? <code>  $post_text = mysql_real_escape_string(htmlspecialchars($_POST['text'])); $text = str_replace('\\r\\n','', $text);$text = str_replace('\r\n','', $text);$text = str_replace('\\R\\N','', $text);$text = str_replace('\R\N','', $text);$text = str_replace('/\r\\n','', $text);$text = str_replace('/r/n','', $text);$text = str_replace('/\R\\N','', $text);$text = str_replace('/R/N','', $text);",Replacing \r\n with PHP
Which literal characters should be escaped in a regex?," I just wrote a regex for use with the php function preg_match that contains the following part: To match any word character, as well as a minus sign and the dot. While it seems to work in preg_match, I tried to put it into a utility called Reggy and it complaints about ""Empty range in char class"". Trial and error taught me that this issue was solved by escaping the minus sign, turning the regex into Since the original appears to work in PHP, I am wondering why I should or should not be escaping the minus sign, and - since the dot is also a character with a meaning in PHP - why I would not need to escape the dot. Is the utility I am using just being silly, is it working with another regex dialect or is my regex really incorrect and am I just lucky that preg_match lets me get away with it? <code>  [\w-.] [\w\-.]",What literal characters should be escaped in a regex?
What will be the equivalent code for this Android (JAVA) piece of code in PHP?, I am calculating the MD5 in Android/Java as follows: However there's a mismatch with PHP's md5() function. How is this caused and how can I solve it so that the both Android/Java and PHP generate exactly the same MD5 hash? <code>  byte raw[] = md.digest(); StringBuffer hexString = new StringBuffer();for (int i=0; i<raw.length; i++) hexString.append(Integer.toHexString(0xFF & raw[i]));v_password = hexString.toString(); MD5 - PHP - Raw Value - catch12 - 214423105677f2375487b4c6880c12aeMD5 - JAVA - Raw Value - catch12 - 214423105677f2375487b4c688c12ae,What will be the Android/Java equivalent of MD5 function in PHP?
What will be the equivalent code for this Android (Java) piece of code in PHP?, I am calculating the MD5 in Android/Java as follows: However there's a mismatch with PHP's md5() function. How is this caused and how can I solve it so that the both Android/Java and PHP generate exactly the same MD5 hash? <code>  byte raw[] = md.digest(); StringBuffer hexString = new StringBuffer();for (int i=0; i<raw.length; i++) hexString.append(Integer.toHexString(0xFF & raw[i]));v_password = hexString.toString(); MD5 - PHP - Raw Value - catch12 - 214423105677f2375487b4c6880c12aeMD5 - JAVA - Raw Value - catch12 - 214423105677f2375487b4c688c12ae,What will be the Android/Java equivalent of MD5 function in PHP?
What LOCK_NB actually do in flock ?, What does LOCK_NB mean in the PHP flock command? <code> ,What does LOCK_NB mean in flock?
how to make a php template engine?," I need to make a small and simple php template engine I searched a lot and many of them were too complex to understand and I don't want to use smarty and other similar engines, I have got some idea from Stack Overflow like this: Now instead of echo the template I just want to add include ""file.html"" and it will display the file with correct variable values and I want to put the engine in a separate place and just include it in the template what I want to use it declare the array and at the end include the html file like phpbb. Sorry I am asking to much but can anyone just explain the basic concept behind this?EDIT: Well let me be frank i am making a forum script and i have got tons of ideas for it but i want make its template system like phpbb so i need a separate template engine custom one if you can help then please you are invited to work with me. sorry for the ad.. :p <code>  $template = file_get_contents('file.html');$array = array('var1' => 'value', 'txt' => 'text');foreach($array as $key => $value){ $template = str_replace('{'.$key.'}', $value, $template);}echo $template;",How to make a php template engine?
php if statement with multiple conditions," I have a variable$var.I want echo ""true"" if $var is equal to any of the following values abc, def, hij, klm, or nop. Is there a way to do this with a single statement like &&?? <code> ",PHP If Statement with Multiple Conditions
php if statement with multiple OR conditions," I have a variable$var.I want echo ""true"" if $var is equal to any of the following values abc, def, hij, klm, or nop. Is there a way to do this with a single statement like &&?? <code> ",PHP If Statement with Multiple Conditions
php if statement with multiple conditions," I have a variable$var.I want echo ""true"" if $var is equal to any of the following values abc, def, hij, klm, or nop. Is there a way to do this with a single statement like &&?? <code> ",PHP If Statement with Multiple Conditions
what is Bytecode Cache - how to use them ? PHP, I searched on the Web and came to know that PHP code can be compiled to have performance boost.But how to do it?Can I compile both procedural and object oriented PHP code? <code> ,What is a bytecode cache and how can I use one in PHP?
Web Development: Node.js VS PHP, Possible Duplicate: Why and When to use node js? Can someone tell me why all this fuss about node.js ? Is a regular web site (lets say a blog) written in node.js faster compared to same written in some php framework? I know that a web server written in node.js will be faster than apache but how about a real web application that doesn't create threads or something like that? <code> ,What are the advantages of using Node.js vs PHP
NetBeans PHP Syntax Check," According to a poll here on StackOverflow, NetBeans is the best PHP IDE available. This is all fine and good, except for one thing: It appears to be terrible at checking syntax. I'm sure I must be doing something wrong?I've previously used phpDesigner, which is a great program, but I've only got version 2007, and it doesn't support xDebug (I'd have to buy the new version if I wanted that). So I thought I'd try the much vaunted (and free) NetBeans.But, as far as I can tell, it's syntax checking is horrible. For example: Note how the same file is handled by the two different IDEs.First phpDesigner:Pretty obvious where the problem is, right?Then NetBeans:Here there is nothing but a vague error message at the very bottom of the class, and it's not even near the function causing the error(!).So my question is: Is it possible to get better syntax checking in NetBeans? I'm presuming there must be a way, and I'm just being really dumb.Additionally: If this is not possible in NetBeans, what other free IDEs are available that do have this level of syntax checking?Thanks for any help.Some people have suggested Eclipse as a replacement, so I thought I'd test it. It too correctly recognises the syntax error. (Makes me wonder if NetBeans is bugged.) I may just switch to Eclipse. Are there any other IDEs people think are worth trying? <code> ",NetBeans: PHP Syntax Checking
MVC Question: Should I put form validation code in the controller or model?," On one hand form validation could be seen as part of the application logic and therefore belonging in the model.On the other hand, it deals directly with the input coming from view and handles displaying errors, etc. From that angle it makes more sense to put it into controllers.Which one is the right approach from the MVC point of view?P.S my form validation actually consists only of writing a list of fields, their rules, and passing it on to a form validation library, which returns true/false on whether it passed validation or not.Example: Should this be put into a controller or model? <code>  $this->load->library('form_validation');$this->form_validation->set_rules('name', 'Name', 'required');$this->form_validation->set_rules('email', 'Email', 'required|valid_email');//........if ($this->form_validation->validate()) // Process dataelse $this->register_form(); //A controller action that will show a view with errors",MVC Question: Should I put form validation rules in the controller or model?
Making a page with ruby without rails," Im looking for a way to do simple ruby code without rails. Im coming from PHP world, and sometimes, I just build a page with a Mysql connection, run a query and show result in a simple table (for example, a simple log or report).Example: This is just a simple example, but reflects what I need to do with ruby. I dont want all rails framework to just do something like this. How can I achieve this with simple ruby code? <code>  <?php$con = mysql_connect(""localhost"",""user"",""pass"");mysql_select_db(""mydb"");$query = mysql_query(""SELECT * FROM users"");while($data = mysql_fetch_assoc($query) { echo ""<p> $data[name] - $data[age] </p>"";}?>",Making a web page with ruby without rails
"Setting various environments (development, production) in Drupal7 based on URL"," I am trying to setup environments in Drupal based on the URL.For example, if I go to mysite.local, it will use localdb and it will change the name of the site to ""Local Mysite""; if I go to mysite.com, it will switch automatically to use productiondb and set the name to ""Mysite"".This is a similar setup I use for most MVC based frameworks: Is there something like that in Drupal7 already (I don't want to use different sites, only different settings for the same site), and is there some sort of convention where this switch needs to happen (I am currently thinking about settings.php). <code>  define('DEVELOPMENT', 'mysite.local');define('PRODUCTION', 'mysite.com');switch ($_SERVER['SERVER_NAME']) { case DEVELOPMENT: // development server $config['base_url'] = ""http://mysite.local""; $config['title'] = ""DEVELOPMENT Mysite""; $config['debug'] = 1; break; default: // live server $config['base_url'] = ""http://mysite.com/""; $config['title'] = ""Mysite""; $config['debug'] = 0; break;}","Setting various environments (development, production) based on the URL"
Storing PHP(/PHP-FPM/Apache)-uploaded files in RAM rather than disc (or encrypted only)?," Original questionSo the project I'm working on is deathly paranoid about file uploads.In the scope of this question, I'm not using that term in regards to payloads; I'm talking confidentiality.Programs can always crash and leave temporary files loafing around in the filesystem. That's normal. The slightly confidentiality-paranoid can write a cronjob that hits the temporary file folder every few minutes and deletes anything older than a few seconds prior to the cronjob call (not everything, simply because otherwise it might catch a file in process of being uploaded)....unfortunately, we take this paranoid a step further:Ideally, we'd love to never see temporary files from file uploads anywhere but in process-associated RAM.Is there a way to teach PHP to look for temporary file as blobs in memory rather than in the filesystem? We use PHP-FPM as a CGI handler and Apache as our webserver, in case that makes it any easier. (Note also: 'Filesystem' is the keyword here, rather than 'disc', since there are of course ways to map the filesystem to RAM, but that doesn't fix the accessibility and automatic post-crash-clean-up issue.)Alternatively, is there a way these temporary files can be encrypted immediately when they're being written to disc, so that they're never held in the file system without encryption?Thread overviewI can unfortunately only accept one answer - but to anyone reading this, the entire thread is extremely valuable and contains the collective insights of many people. Depending on what you are hoping to achieve, the accepted answer may not be interesting to you. If you've come here through a search engine, please take a moment to read the whole thread.Here is a compilation of usecases as I see them for quick reference:Re: PHP's temporary filesRAM instead of disc (e.g. due to I/O concerns) RAMdisk/comparable (plasmid87, Joe Hopfgartner)Immediate (per-filesystem-user) encryption encFS (ADW) (+ a gotcha as per Sander Marechal)Secure file permissions restrictive native Linux permissions (optionally per vhost) (Gilles) or SELinux (see various comments)Process-attached memory instead of filesystem (so a process crash removes the files) (originally intended by the question)don't let the file data reach PHP directly reverse-proxy (Cal)disable PHP writing to the filesystem see PHP bug link in this answer (Stephan B) or run PHP in CGI mode (Phil Lello)write-only files /dev/null filesystem (Phil Lello) (this is useful if you have access to the data as a stream additionally but cannot turn off the file-writing functionality that runs in parallel; whether PHP allows this is unclear)Re: your files, post-uploadstoring in database instead of disc file encryption in a database HowTo (Rook) <code> ",Storing PHP(/PHP-FPM/Apache)'s temporary-from-upload files in RAM rather than the filesystem (or encrypted only)?
Storing PHP(/PHP-FPM/Apache)-uploaded files in RAM rather than the filesystem (or encrypted only)?," Original questionSo the project I'm working on is deathly paranoid about file uploads.In the scope of this question, I'm not using that term in regards to payloads; I'm talking confidentiality.Programs can always crash and leave temporary files loafing around in the filesystem. That's normal. The slightly confidentiality-paranoid can write a cronjob that hits the temporary file folder every few minutes and deletes anything older than a few seconds prior to the cronjob call (not everything, simply because otherwise it might catch a file in process of being uploaded)....unfortunately, we take this paranoid a step further:Ideally, we'd love to never see temporary files from file uploads anywhere but in process-associated RAM.Is there a way to teach PHP to look for temporary file as blobs in memory rather than in the filesystem? We use PHP-FPM as a CGI handler and Apache as our webserver, in case that makes it any easier. (Note also: 'Filesystem' is the keyword here, rather than 'disc', since there are of course ways to map the filesystem to RAM, but that doesn't fix the accessibility and automatic post-crash-clean-up issue.)Alternatively, is there a way these temporary files can be encrypted immediately when they're being written to disc, so that they're never held in the file system without encryption?Thread overviewI can unfortunately only accept one answer - but to anyone reading this, the entire thread is extremely valuable and contains the collective insights of many people. Depending on what you are hoping to achieve, the accepted answer may not be interesting to you. If you've come here through a search engine, please take a moment to read the whole thread.Here is a compilation of usecases as I see them for quick reference:Re: PHP's temporary filesRAM instead of disc (e.g. due to I/O concerns) RAMdisk/comparable (plasmid87, Joe Hopfgartner)Immediate (per-filesystem-user) encryption encFS (ADW) (+ a gotcha as per Sander Marechal)Secure file permissions restrictive native Linux permissions (optionally per vhost) (Gilles) or SELinux (see various comments)Process-attached memory instead of filesystem (so a process crash removes the files) (originally intended by the question)don't let the file data reach PHP directly reverse-proxy (Cal)disable PHP writing to the filesystem see PHP bug link in this answer (Stephan B) or run PHP in CGI mode (Phil Lello)write-only files /dev/null filesystem (Phil Lello) (this is useful if you have access to the data as a stream additionally but cannot turn off the file-writing functionality that runs in parallel; whether PHP allows this is unclear)Re: your files, post-uploadstoring in database instead of disc file encryption in a database HowTo (Rook) <code> ",Storing PHP(/PHP-FPM/Apache)'s temporary-from-upload files in RAM rather than the filesystem (or encrypted only)?
[mysql] How to get row repeated x times, Which MySQL query should I use to get just rows repeated X times?Example (stupid one ^^): I want a query that returns just fruits liked by 3 people (apples in my example).Cheers! <code>  John likes apples.Dave likes apples.Bough likes bananas.Light likes apples.Wiky likes bananas.,MySQL: How to get rows repeated x times
How to get row repeated x times, Which MySQL query should I use to get just rows repeated X times?Example (stupid one ^^): I want a query that returns just fruits liked by 3 people (apples in my example).Cheers! <code>  John likes apples.Dave likes apples.Bough likes bananas.Light likes apples.Wiky likes bananas.,MySQL: How to get rows repeated x times
[PHP error]: Fatal error: Cannot access empty property," i have got that error and the line was this : the $db variable is declared private and i use it in the __construct function like this: thx in advance :) <code>  $stations=$this->$db->query('SELECT * from service_stations'); public function __construct() { //after including the config file $host=DB_HOST; $dbname=DB_NAME; $dbuser=DB_USER; $dbpsw=DB_PASSWORD; try{ $pdo_options[PDO::ATTR_ERRMODE]=PDO::ERRMODE_EXCEPTION; $this->db=new PDO('mysql:host='.$host.';dbname='.$dbname, $dbuser, $dbpsw, $pdo_options); } catch(Exception $e) { die('Erreur: '.$e->getMessage()); } }",Fatal error: Cannot access empty property
CodeIgniter - $_POST empty on utf-8 characters," I'm working on a multilingual site with CodeIgniter. There is a form that posts data to controller, but $_POST is empty when I start to use Turkish characters like etc.I set the charset to: Form: $_POST and $this->input->post('editor_tr') returns empty, but I can see the raw post with file_get_contents(""php://input"").This one works OK in a normal PHP test, but doesn't work with CodeIgniter. Perhaps my .htaccess file is causing the issue, but dunno.Any help is much appreciated.UPDATE:Here is the output for var_dump as requested.var_dump($_POST) - Without Turkish chars var_dump($_POST) - With Turkish chars (The input was: Trke karakter, but it doesn't show up in the $_POST) UPDATE 2:When debugging, I have found out that system.core.Input class cleans the input data on _clean_input_data function. So, before the $_POST has reached to my controller, the editor_tr value is already cleaned by system.core.Utf8 class in this function: <code>  <meta http-equiv=""Content-Type"" content=""text/html; charset=utf-8"" /> <form action=""translations/save"" method=""post"" accept-charset=""utf-8""> <textarea rows=""6"" cols=""60"" id=""editor_tr"" name=""editor_tr"">Trke</textarea></form> array(3) { [""id""]=> string(12) ""news8titleID"" [""editor_tr""]=> string(13) ""turkish value"" [""editor_en""]=> string(13) ""english value"" } array(3) { [""id""]=> string(12) ""news8titleID"" [""editor_tr""]=> string(0) """" [""editor_en""]=> string(13) ""english value"" } // Clean UTF-8 if supportedif (UTF8_ENABLED === TRUE){ $str = $this->uni->clean_string($str);} function clean_string($str){ if ($this->_is_ascii($str) === FALSE) { $str = @iconv('UTF-8', 'UTF-8//IGNORE', $str); } return $str;}",$_POST empty on utf-8 characters
Run a php function upon button click?," I want to run a PHP function with an HTML button click. I can call a PHP script this way: But I don't want to invoke ""action.php"". I just want to call the PHP function I defined in this page. Can this be done? <code>  <form action=""action.php"" method=""post""> Name: <input type=""text"" name=""txt""/> <input type=""submit"" /></form>",Run a PHP function upon button click?
how to call function in other file? php," For example, I have a file error-status.php, which includes a function: ...How do I call that function from a different PHP file after invoking require_once? <code>  function validateHostName($hostName){ if ((strpbrk($hostName,'`~!@#$^&*()=+.[ ]{}\\|;:\'"",<>/?')==FALSE) && !ctype_digit($hostName) && eregi(""^([a-z0-9-]+)$"",$hostName) && ereg(""^[^-]"",$hostName) && ereg(""[^-]$"",$hostName)) { return true; } else { return false; }} require_once('error-status.php');",How would I call a function in another file?
PHP - Proper way to disconnect from ssh2_connect() ?," I've connected over ssh2 using ssh2_connect to a server, but I don't see any method in the manpages for how I should end the connection.I'm not exactly a fan of waiting for a script to end before I disconnect.Can I use fclose? That doesn't sound right... <code> ",Disconnect from ssh2_connect()
How to get the status of copy function in php?," I need to know how to get the status of the copy() function in PHP.I am using this function to download a remote file, and I want a progress bar for this program. <code> ",How to get the progress status of the copy function in PHP?
How to get the status of the copy function in php?," I need to know how to get the status of the copy() function in PHP.I am using this function to download a remote file, and I want a progress bar for this program. <code> ",How to get the progress status of the copy function in PHP?
"""Invalid parameter number: parameter was not defined"" Inserting data in Yii"," I've been using Yii's active record pattern for a while. Now, my project needs to access a different database for one small transaction. I thought the Yii's DAO would be good for this. However, I'm getting a cryptic error.CDbCommand failed to execute the SQL statement: SQLSTATE[HY093]: Invalid parameter number: parameter was not definedHere is my code: This constructs the following query (as seen on the application log): FYI $model->placeOfBirth is supposed to be in both city and county values. That's not a typo (just a silly thing I have to do). <code>  public function actionConfirmation{ $model_person = new TempPerson(); $model = $model_person->find('alias=:alias',array(':alias'=>$_GET['alias'])); $connection=Yii::app()->db2; $sql = ""INSERT INTO users (username, password, ssn, surname , firstname, email, city, country) VALUES(:alias, :password, :ssn, :surname , :firstname, :email, :city, :country)""; $command=$connection->createCommand($sql); $command->bindValue("":username"", $model->alias); $command->bindValue("":password"", substr($model->ssn, -4,4)); $command->bindValue("":ssn"", $model->ssn); $command->bindValue("":surname"", $model->lastName); $command->bindValue("":firstname"", $model->firstName); $command->bindValue("":email"", $model->email); $command->bindValue("":city"", $model->placeOfBirth); $command->bindValue("":country"", $model->placeOfBirth); $command->execute(); $this->render('confirmation',array('model'=>$model));} INSERT INTO users (username, password, ssn, surname, firstname, email , city, country) VALUES(:alias, :password, :ssn, :surname, :firstname, :email, :city, :country);","""Invalid parameter number: parameter was not defined"" Inserting data"
Calling a PHP function from an HTML form in the same file?," I'm trying to execute a PHP function in the same page after the user enters a text and presses a submit button.The first I think of is using forms. When the user submits a form, a PHP function will be executed in the same page. The user will not be directed to another page. The processing will be done and displayed in the same page (without reloading).Here is what I reach to:In the test.php file: The PHP code [ test() function ] is in the same file also: However, I still getting a problem! Does anyone have an idea? <code>  <form action=""test.php"" method=""post""> <input type=""text"" name=""user"" placeholder=""enter a text"" /> <input type=""submit"" value=""submit"" onclick=""test()"" /></form> <?php function test() { echo $_POST[""user""]; // Just an example of processing }?>",Calling a PHP function from an HTML form in the same file
What is the size of a bool in PHP?," What is the size of a bool in PHP?For an int, it's easy to determine I got 4 so 8 bytes or 32 bits. What about for a bool type? Thanks. <code>  echo PHP_INT_SIZE;",What is the size of a bool in PHP?
-What is the size of a bool in PHP?," What is the size of a bool in PHP?For an int, it's easy to determine I got 4 so 8 bytes or 32 bits. What about for a bool type? Thanks. <code>  echo PHP_INT_SIZE;",What is the size of a bool in PHP?
PHP: .htaccess change domain root to sub-directory.," I'm trying to use a sub-directory as the root folder for one of my domains. Using .htaccess, I use mod_rewrite's to get the job done. Here's the code I already have: This gets the job done, but not entirely. For example:If I goto http://domain.com/, it displays index.php from inside the domain folder. If I goto http://domain.com/test/, it will display the contents (or 403) of the test folder. BUT if I goto http://domain.com/test (for use of shortcuts, or even to display the folder) I get redirected to http://domain.com/domain/test/.That is not supposed to happen. If anything, it either does a mask from the .htaccess (if test is being used) or should just goto http://domain.com/test/. I have tried to figure out a way around this, and I cannot. So I am seeking your help! :)Any and all help is greatly appreciated. <code>  RewriteCond %{HTTP_HOST} ^(www.)?domain.com$RewriteCond %{REQUEST_URI} !^/domain/RewriteCond %{REQUEST_FILENAME} !-fRewriteCond %{REQUEST_FILENAME} !-dRewriteRule ^(.*)$ /domain/$1RewriteCond %{HTTP_HOST} ^(www.)?domain.com$RewriteRule ^(/)?$ /domain/index.php [L]",HTACCESS: Change domain root to sub-directory
.htaccess change domain root to sub-directory.," I'm trying to use a sub-directory as the root folder for one of my domains. Using .htaccess, I use mod_rewrite's to get the job done. Here's the code I already have: This gets the job done, but not entirely. For example:If I goto http://domain.com/, it displays index.php from inside the domain folder. If I goto http://domain.com/test/, it will display the contents (or 403) of the test folder. BUT if I goto http://domain.com/test (for use of shortcuts, or even to display the folder) I get redirected to http://domain.com/domain/test/.That is not supposed to happen. If anything, it either does a mask from the .htaccess (if test is being used) or should just goto http://domain.com/test/. I have tried to figure out a way around this, and I cannot. So I am seeking your help! :)Any and all help is greatly appreciated. <code>  RewriteCond %{HTTP_HOST} ^(www.)?domain.com$RewriteCond %{REQUEST_URI} !^/domain/RewriteCond %{REQUEST_FILENAME} !-fRewriteCond %{REQUEST_FILENAME} !-dRewriteRule ^(.*)$ /domain/$1RewriteCond %{HTTP_HOST} ^(www.)?domain.com$RewriteRule ^(/)?$ /domain/index.php [L]",HTACCESS: Change domain root to sub-directory
How should I organize a general-purpose programming library's filesystem?," I've been writing my own general-purpose PHP library for a while and I'm thinking about how to organize the directory structure, but I wanted to get people's ideas before I formalized the directory structure for the library.Here is what I have so far: https://github.com/homer6/altumo/tree/master/source/phpI was thinking I could either do it ""By Topic"" or ""By Category"". So far, I can only think of one example that I like of the ""By Category"": Boost http://www.boost.org/doc/libs/1_46_1/?view=categorizedAlso, Qt is organized by module, but I think it's a bit messy because everything is kinda stuffed into QtCore http://qt-project.org/doc/qt-5/qtmodules.htmlAny ideas?Thanks in advance.UPDATE:I found a really great book that has shown me a number of great library design conventions to follow: http://www.apibook.com/blog/UPDATE:I found an interesting article that mentions organization of code (http://highscalability.com/blog/2012/3/26/7-years-of-youtube-scalability-lessons-in-30-minutes.html). At the bottom, it says:""What is your code tree going to look like? He wants these words to describe it: simple, pragmatic, elegant, orthogonal, composable. This is an ideal, reality is a bit different."" <code> ",How should I organize a general-purpose programming library's directory structure?
Can the time to live (TTL) for a memcached key can be set to infinite?," I have implemented memcache in my PHP-MySQL based app and it gets updated regularly from a backend process.Due to this some data is conflicting with the expiration time and other backend processes, so I came up with a solution but for that I would have to make the TTL = infinite.  <code> ",Can the time to live (TTL) for a memcached key be set to infinite?
PHP: Why print return (int) 1?, I know echo() and print() do the same thing. but print has a return value of (int) 1.The question is:Why it always returning (int) 1 ?What we can do with returning (int) 1 ? <code> ,Why does print return (int) 1?
MySQL - Blank Spaces in Colum Names," One of the column names in my database is two words long, including a blank space, i.e.: Area One. I am using SELECT and referring to the column names to pull the data I want. Now if I name the column _Area_One_, my SELECT works, but if I use _Area One_, it does not. It says Unknown column 'Area' in 'field list'Ideas? <code> ",Blank spaces in column names with MySQL
MySQL - Blank Spaces in Column Names," One of the column names in my database is two words long, including a blank space, i.e.: Area One. I am using SELECT and referring to the column names to pull the data I want. Now if I name the column _Area_One_, my SELECT works, but if I use _Area One_, it does not. It says Unknown column 'Area' in 'field list'Ideas? <code> ",Blank spaces in column names with MySQL
Doctrine2 doesen't set sequence to default for id column (postgres)," Just a simple example: If I want create a table with auto fill id in postgres I run this sql: and in doctrine I set all property but when I generated sql (php doctrine orm:schema-tool:create --dump-sql) I got it: but don't set it to default\d person <code>  CREATE SEQUENCE person_id_seq START 1;CREATE TABLE person ( id integer PRIMARY KEY DEFAULT nextval('person_id_seq'), name varchar(100) NOT NULL); class Person {/** * @Id * @Column(type=""integer"", nullable=false) * @GeneratedValue(strategy=""SEQUENCE"") * @SequenceGenerator(sequenceName=""person_id_seq"", initialValue=1, allocationSize=100) */private $id; CREATE TABLE person ( id INT NOT NULL, name VARCHAR(100) NOT NULL);CREATE SEQUENCE person_id_seq INCREMENT BY 100 MINVALUE 1 START 1 Column | Type | Modifiers-------------------+--------------------------------+----------- id | integer | not null......",Doctrine2 doesn't set sequence to default for id column (postgres)
Is there a starting ground to implenent Facebook's BigPipe?," Reference: http://www.facebook.com/note.php?note_id=389414033919They said they build it in PHP and Javascript, which is great, but is there any code that makes this available for the public? Whether it is the same as theirs or a similar project? <code> ",Is there a starting ground to implement Facebook's BigPipe?
PHP get_headers() workaround," I need a PHP script that reads the HTTP response code for each URL request. something like The problem is the get_headers() function is disabled at server level, as a policy.So it doesn't work. The question is how to get the HTTP response code for a URL?  <code>  $headers = get_headers($theURL);return substr($headers[0], 9, 3);",PHP get_headers() alternative
how to print sql statement in codeigninter model," I have a sql statement in my model,I then say My query always fails, how do I get php to print the exact sql statement being sent to my database? And display that on my php view, page <code>  $query = $this->db->query($sql, array(fields, fields1);if ($query) { return true:} else { echo ""failed""; return false;}",How to print SQL statement in codeigniter model
php XPATH function xquery not working," I am trying to scrap some content from a website but the code below is not working(not showing any output).here is the code i am sure there is something wrong with the above xpath code. the xpaths are correct. I have checked the above xpaths with FirePath (a firefox addon). I know i am missing something very silly here but i cant make out. Please help.I have checked similar code for scraping links from Wikipedia(definitely the xpaths are different) and it works nicely.So i dont understand why the above code does not work for the other URLs. I am cleaning the HTML content with Tidy so i dont there is a problem with xpath not geeting the HTML right? i have checked the length of the nodelist after $item1=$xpath->query($path1) which is 0 which means something is going wrong with $xpath->query because the xpaths are correct as i have checked with FirePathI have modified my code a bit as pointed out and used loadXML instead of loadHTML.but this gives me error as Entity 'nbsp' not defined in Entity so i used the libxml option LIBXML_NOENT to substitute entities but still the errors remain.  <code>  $url=""some url"";$otherHeaders=""""; //here i am using some other headers like content-type,userAgent,etcsome curl to get the webpage.....curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);$content=curl_exec($ch);curl_close($ch);$page=new DOMDocument();$xpath=new DOMXPath($page); $content=getXHTML($content); //this is a tidy function to convert bad html to xhtml $page->loadHTML($content); // its okay till here when i echo $page->saveHTML the page is displayed$path1=""//body/table[4]/tbody/tr[3]/td[4]"";$path2=""//body/table[4]/tbody/tr[1]/td[4]"";$item1=$xpath->query($path1);$item2=$xpath->query($path2);echo $item1->length; //this shows zero echo $item2->length; //this shows zeroforeach($item1 as $t)echo $t->nodeValue; //doesnt show anythingforeach($item2 as $p)echo $p->nodeValue; //doesnt show anything",unable to scrape content from a website
get flv video lenght," While i try to get length of a flv video file i get 0 second where as it only happens with some videos, else my function works fine.below is my code. i have attached both working and not working flv video in link below:working video:http://blog.developeronhire.com/wp-content/uploads/downloads/2011/06/working_copy.flvnot working video:http://blog.developeronhire.com/wp-content/uploads/downloads/2011/06/not_working_copy.flvany idea will be appreciated.Thank you <code>  <?phpfunction mbmGetFLVDuration($file){ // read file if (file_exists($file)){ $handle = fopen($file, ""r""); $contents = fread($handle, filesize($file)); fclose($handle); // if (strlen($contents) > 3){ if (substr($contents,0,3) == ""FLV""){ $taglen = hexdec(bin2hex(substr($contents,strlen($contents)-3))); if (strlen($contents) > $taglen){ $duration = hexdec(bin2hex(substr($contents,strlen($contents)-$taglen,3))) ; return $duration; } } } }}// not working video file$result = ceil(mbmGetFLVDuration('not_working_copy.flv')/1000);// working video file//$result = ceil(mbmGetFLVDuration('working_copy.flv')/1000);echo date('H:i:s',mktime(0,0,$result))?>",get flv video length
Twiiter api authorization of my application," I am using this twitter api library and so far everything is great. My problem (well not really a problem more a user experience) is that every time you want to sign in with twitter you need to open a popup. Right now the flow is this:User clicks on the sign in with twitter logo on my page.Javascript induced popup comes up with the the twitter Oauth stuff on it. If you are logged in all it says is login and cancel. If you are not it has login fields. If everything is good it goes to a callback url that I supply. does a bunch of stuff and then..I call window.opener and pass the authenticated info and from there I close the window.This was surprisingly easy to implement and works great. I'm wondering if the twiiter login process can be a little more like the facebooks which would be this.User clicks on the sign in with twitter logo on my page.If the user is logged in and has autorized the app the popup window will popup go away instantly and chuck the user data back to my page.I do realize that I am using a php library for twitter and the facebook flow is from the javascript side but I am wondering if I can detect, with php, if the user has already allowed the app and is signed in, for them bypass the extra signin/cancel click. <code> ",Twitter api authorization of my application
Are variables outside functions a kind of global variables?," It doesn't look like a global variable. However, does it have disadvantages like global stuff if it's outside the function? <code>  <?php$foo = 1;function meh(){ // <-- $foo can't be accessed}",Are variables outside functions global variables?
Register namespaces in the Symfony 1.4, How to register namespaces (with PHP 5.3) in the Symfony 1.4 for the autoloader class feature (like the Symfony 2.0)? <code> ,Loading namespaced classes with Symfony 1.4's autoloader?
can i run php mysql in google app engine," I am planning to create a facebook canvas app using php sdk.Google app engine providing free account so I am planning to do it.But still there is a problem , right now google app engine support only java and python.Is there any way to run php and mysql in google app engine? <code> ",Can I run php mysql in google app engine
PHP: Can class be autoloaded," I have run into an interesting dilema. In a DataMapper class, I am generating a class name to be used for returned rows from a database.The thing is, all of my classes are autoloaded, and can come from many places (library, application/models, etc.) and I wanted to check if the class name generated actually exists. Now, one would think that: But of course, php errors (instead of throwing an exception) saying the class could not be found... Not very helpful. Short of rewriting the autoloader in Zend_Loader to search all directories to see if the class could be loaded, is there anyway to accomplish this?For anyone wondering why I would need to do this instead of just letting the Class Not Found error show up, if the class isn't found, I want to generate a class in a pre-determined location to make my life easy as this project goes along.Thanks in advance!AmyP.S. Let me know if you guys need any more info. <code>  try{ $test = new $className();}catch(Exception $ex){ // Class could not be loaded}",How to detect if a class does not exist without triggering an error
How to detect if a class does not exist without triggering an error.," I have run into an interesting dilema. In a DataMapper class, I am generating a class name to be used for returned rows from a database.The thing is, all of my classes are autoloaded, and can come from many places (library, application/models, etc.) and I wanted to check if the class name generated actually exists. Now, one would think that: But of course, php errors (instead of throwing an exception) saying the class could not be found... Not very helpful. Short of rewriting the autoloader in Zend_Loader to search all directories to see if the class could be loaded, is there anyway to accomplish this?For anyone wondering why I would need to do this instead of just letting the Class Not Found error show up, if the class isn't found, I want to generate a class in a pre-determined location to make my life easy as this project goes along.Thanks in advance!AmyP.S. Let me know if you guys need any more info. <code>  try{ $test = new $className();}catch(Exception $ex){ // Class could not be loaded}",How to detect if a class does not exist without triggering an error
Mysql count rows using filters on high trafic database," Let's say you have a search form, with multiple select fields, let's say a user selects from a dropdown an option, but before he submits the data I need to display the count of the rows in the database . So let's say the site has at least 300k(300.000) visitors a day, and a user selects options from the form at least 40 times a visit, that would mean 12M ajax requests + 12M count queries on the database, which seems a bit too much .The question is how can one implement a fast count (using php(Zend Framework) and MySQL) so that the additional 12M queries on the database won't affect the load of the site .One solution would be to have a table that stores all combinations of select fields and their respective counts (when a product is added or deleted from the products table the table storing the count would be updated). Although this is not such a good idea when for 8 filters (select options) out of 43 there would be +8M rows inserted that need to be managed.Any other thoughts on how to achieve this?p.s. I don't need code examples but the idea itself that would work in this scenario. <code> ",Mysql count rows using filters on high traffic database
How to track mails sent from php script?, I am sending email newsletters using php mail() function.I have to track the newsletter emails status.The status would be1. Num.Of Sent.2. Num.Of Delivered.3. Delivered date.4. Total Num.Of Read.5. Unique Num.Of Read.6. Read date.7. Num.Of Bounced.8. Total Num.Of users clicked the links in the email.9. Unique Num.Of users clicked the links in the email.From the above status i could track the following:1. Is Sent. // This is tracked as it is sent from coding.8. Total Num.Of clicked the links in the email. // This is tracked by adding additional parameters in url.9. Unique Num.Of clicked the links in the email. // This is tracked by adding additional parameters in url.How to track the other status of the emails sent from mail() function?I have to send and track emails from same server. <code> ,Track php emails with php script?
How to track e-mails sent from php script?, I am sending email newsletters using php mail() function.I have to track the newsletter emails status.The status would be1. Num.Of Sent.2. Num.Of Delivered.3. Delivered date.4. Total Num.Of Read.5. Unique Num.Of Read.6. Read date.7. Num.Of Bounced.8. Total Num.Of users clicked the links in the email.9. Unique Num.Of users clicked the links in the email.From the above status i could track the following:1. Is Sent. // This is tracked as it is sent from coding.8. Total Num.Of clicked the links in the email. // This is tracked by adding additional parameters in url.9. Unique Num.Of clicked the links in the email. // This is tracked by adding additional parameters in url.How to track the other status of the emails sent from mail() function?I have to send and track emails from same server. <code> ,Track php emails with php script?
How to track e-mails sent using php script?, I am sending email newsletters using php mail() function.I have to track the newsletter emails status.The status would be1. Num.Of Sent.2. Num.Of Delivered.3. Delivered date.4. Total Num.Of Read.5. Unique Num.Of Read.6. Read date.7. Num.Of Bounced.8. Total Num.Of users clicked the links in the email.9. Unique Num.Of users clicked the links in the email.From the above status i could track the following:1. Is Sent. // This is tracked as it is sent from coding.8. Total Num.Of clicked the links in the email. // This is tracked by adding additional parameters in url.9. Unique Num.Of clicked the links in the email. // This is tracked by adding additional parameters in url.How to track the other status of the emails sent from mail() function?I have to send and track emails from same server. <code> ,Track php emails with php script?
Primary key and foreign key with doctrine 2 at the same time," I have the two tables : table A with id as primary keytable B with id as primary key and foreign keyExplanation on short:I need to have in table B a primary key that also to be a foreign key that points to table A's primary key.Can anybody explain me how to map this by annotations in Doctrine 2? Note:I tried it By this : and B table: But it gives me this error: Uncaught exception 'Doctrine\ORM\Mapping\MappingException' with message 'No identifier/primary key specified for Entity 'B'. Every Entity must have an identifier/primary key.' in /var/www/agr-reg-php/Doctrine/ORM/Mapping/MappingException.php:37 Stack trace:N.B: I must not have composite primary key. <code>  class A{ /** * @var bigint $id * * @Column(name=""id"", type=""bigint"", nullable=false) * @Id * @GeneratedValue(strategy=""IDENTITY"") */ private $a_id;... class B{ /** * @var bigint $id * @Id * @OneToOne(targetEntity=""A"", fetch=""LAZY"") * @JoinColumn(name=""id"", referencedColumnName=""id"") */ private $b_id;...",Primary key and foreign key at the same time with doctrine 2
[FFMpeg / PHP] How to handle queueing of video encoding during multiple video uploads ?," I am working on developing a video streaming site where users can upload videos to the site (multiple videos at once using the uploadify jquery plugin).Now, I am faced with the question of encoding the videos to FLV for streaming them online. When should the video encoding process take place ? Should it take place immediately after uploads have finished (i.e redirect the user to upload success page, and then start encoding in the background using exec command for ffmpeg ?) However, using this approach, how do i determine if the encoding has finished successfully ? What if users upload a corrupt video and ffmpeg fails to encode it ? How do i handle this in PHP ?How do i queue encoding of videos since multiple users can upload videos at the same ? Does FFMpeg has its own encoding queue ? I also read about gearman and message queueing options such as redis and AMQP in another related SO thread. Are these one of the potential solutions ?I would really appreciate if someone could give answers to my questions. <code> ",How to handle queueing of video encoding during multiple video uploads?
How to handle queueing of video encoding during multiple video uploads ?," I am working on developing a video streaming site where users can upload videos to the site (multiple videos at once using the uploadify jquery plugin).Now, I am faced with the question of encoding the videos to FLV for streaming them online. When should the video encoding process take place ? Should it take place immediately after uploads have finished (i.e redirect the user to upload success page, and then start encoding in the background using exec command for ffmpeg ?) However, using this approach, how do i determine if the encoding has finished successfully ? What if users upload a corrupt video and ffmpeg fails to encode it ? How do i handle this in PHP ?How do i queue encoding of videos since multiple users can upload videos at the same ? Does FFMpeg has its own encoding queue ? I also read about gearman and message queueing options such as redis and AMQP in another related SO thread. Are these one of the potential solutions ?I would really appreciate if someone could give answers to my questions. <code> ",How to handle queueing of video encoding during multiple video uploads?
usort won't sort," This is a sample of the array of elemnts to sort: So, let's say I want to sort by brand_id.This is my usort callback function: And when I do usort($items, '_compare'); var_dump($items); nothing happens. Any clues on how to troubleshoot this?--UPDATE--Ok, I've simplified the problem to this: It always prints 'Cant sort!' <code>  $items = array 0 => object(stdClass)[8] public 'id' => string '110' (length=3) public 'brand_id' => string '18' (length=2) array 0 => string ' OT-708' (length=7) public 'failed' => null public 'diff' => null 1 => object(stdClass)[9] public 'id' => string '161' (length=3) public 'brand_id' => string '18' (length=2) function _compare($itemA, $itemB){ if ($itemA->brand_id == $itemB->brand_id) { return 0; } else{ return strcmp($itemA->brand_id, $itemB->brand_id); //just an example... }} function cmp($itemA, $itemB){ return -1;}if (usort($items, ""cmp"")) echo 'I just sorted!';else echo 'Cant sort!';",PHP usort won't sort class
PHP usort  won't sort," This is a sample of the array of elemnts to sort: So, let's say I want to sort by brand_id.This is my usort callback function: And when I do usort($items, '_compare'); var_dump($items); nothing happens. Any clues on how to troubleshoot this?--UPDATE--Ok, I've simplified the problem to this: It always prints 'Cant sort!' <code>  $items = array 0 => object(stdClass)[8] public 'id' => string '110' (length=3) public 'brand_id' => string '18' (length=2) array 0 => string ' OT-708' (length=7) public 'failed' => null public 'diff' => null 1 => object(stdClass)[9] public 'id' => string '161' (length=3) public 'brand_id' => string '18' (length=2) function _compare($itemA, $itemB){ if ($itemA->brand_id == $itemB->brand_id) { return 0; } else{ return strcmp($itemA->brand_id, $itemB->brand_id); //just an example... }} function cmp($itemA, $itemB){ return -1;}if (usort($items, ""cmp"")) echo 'I just sorted!';else echo 'Cant sort!';",PHP usort won't sort class
php reading large files from end," Can I read a file in PHP from my end, for example if I want to read last 10-20 lines?And, as I read, if the size of the file is more than 10mbs I start getting errors. How can I prevent this error?For reading a normal file, we use the code : My file might go over 10mbs, but I just need to read the last few lines. How do I do it?Thanks <code>  if ($handle) { while (($buffer = fgets($handle, 4096)) !== false) { $i1++; $content[$i1]=$buffer; } if (!feof($handle)) { echo ""Error: unexpected fgets() fail\n""; } fclose($handle);}",Reading large files from end
PHP reading large files from end," Can I read a file in PHP from my end, for example if I want to read last 10-20 lines?And, as I read, if the size of the file is more than 10mbs I start getting errors. How can I prevent this error?For reading a normal file, we use the code : My file might go over 10mbs, but I just need to read the last few lines. How do I do it?Thanks <code>  if ($handle) { while (($buffer = fgets($handle, 4096)) !== false) { $i1++; $content[$i1]=$buffer; } if (!feof($handle)) { echo ""Error: unexpected fgets() fail\n""; } fclose($handle);}",Reading large files from end
Workaround for Facebook JS and PHP 3.0 SDK session and access token compatibility issue," In the PHP 3.0 SDK there is no getSession() or any session handling from outside the Facebook api available. Some days ago the developers of facebook have also somehow updated the JavaScript sdk, according to this blog entry and this bug report. Within the last few days, a change was introduced into the hosted JS SDK which broke all compatility between it and the current PHP SDK (2.x and 3.x). Developers who utilize both the JS and PHP SDK on their websites are likely to see server-side API failure.However, I don't know if that really effects my problem. Like in this question's answer I am retrieving the access token of the OAuth dialog with PHP and save the new access token in the session.Current workaroundThe following code shows how I am handling this sessions. $_REQUEST['session'] is the content of the response of the OAuth dialog. Here is how I handle the user data: The ProblemEverything looks fine while testing. Only once an error occured: the first time after permission was set. Now, since the app is online, it seems as if the error occurs on average with every second user in with the error: QuestionSo why is this happening? It is very hard to debug since the error seems to only occur when a user enters the app the first time, after the app authentication and the access token has changed. And even that is not happening every time. How should I handle the session and access token right with the new PHP SDK?Any help would be highly appreciatied!EditI found out that there are some IE issues with cookies/session inside an iFrame. As seen in this blog post. With that hint and some further research I added the following lines in my bootstrap: Now its much better, but the information from about 2 of 50 users get lost between the steps landing page (authentication) -> formular -> and registration. So there is still something I missed.Edit 2I edited my user handling from to This seems to help a little bit. I think the main problem is somewhere in my session.Furthermore I added a try/catch block to see if somewhere in my app a Facebook OAuthException is thrown. If this is the case, I redirect the top location to the Facebook Page and Tab to get a new signed request. Though this might help solve this problem, I want to prevent my app from having to redirect the user.Edit 3After some days of intense debugging and logging I found out, that the $_REQUEST['session'] coming from the FB.ui permissions.request method is empty infrequently.Here is how I handle it:This is the stuff I always included: And this function is called on form submit. Always worked for me, but somehow it still sends the form although session == ''. <code>  if(isset($_REQUEST['session'])) { $response = json_decode(stripslashes($_REQUEST['session']), true); if(isset($response['access_token'])) { $this->api->setAccessToken($response['access_token']); $_SESSION['access_token'] = $this->api->getAccessToken(); }}elseif(isset($_SESSION['access_token']) && ! isset($_REQUEST['signed_request'])) $this->api->setAccessToken($_SESSION['access_token']);elseif(isset($_REQUEST['signed_request'])) { Session::invalidate('fbuser'); $_SESSION['access_token'] = '';} try { $this->user = Session::getVar('fbuser'); if ($this->user === false || is_null($this->user)) { $facebookUser = $this->api->api('me?fields=id,name,first_name,last_name'); $this->user = new FBUserModel(array('fbId' => $facebookUser['fbId'], ...)); Session::setVar('fbuser', $this->user); }} $facebookUser = $this->api->api('me?fields=id,name,first_name,last_name'); An active access token must be used to query information about the current user. ini_set('session.use_trans_sid', 1);header('P3P:CP=""IDC DSP COR ADM DEVi TAIi PSA PSD IVAi IVDi CONi HIS OUR IND CNT""'); if ($this->user === false || is_null($this->user)) { // get user data} if ((is_object($this->user) && $this->user->fbId == '') || $this->user === false || is_null($this->user)) { // get user data} FB.provide(""UIServer.Methods"", {'permissions.request': {size : {width: 575, height: 300}, url: 'connect/uiserver.php', transform : FB.UIServer.genericTransform}}); function getPermission(form) { session = $('#' + $(form).attr('id') + ' input[name=""session""]'); if($(session).val() != '') { form.submit(); return; } FB.ui({method: ""permissions.request"", ""perms"": 'user_photos'}, function callback(info){ if(info.status=='connected' && info.session !== null) { $(session).val(JSON.stringify(info.session)); form.submit(); } }); return;}",How to properly handle session and access token with Facebook PHP SDK 3.0?
PHP xpath query on XML with bad xmlns reference," I have one solution to the subject problem, but its a hack and Im wondering if theres a better way to do this.Below is a sample XML file and a PHP CLI script that executes an xpath query given as an argument. For this test case, the command line is: What seems most strange is this line, without which my approach doesnt work: As far as I know, this simply re-parses the modified XML, and it seems to me that this shouldnt be necessary.Is there a better way to perform xpath queries on this XML in PHP?XML (note the binding of the default namespace): PHP CLI Script: <code>  ./xpeg ""//MainType[@ID=123]"" $result->loadXML($result->saveXML($result)); <?xml version=""1.0"" encoding=""utf-8""?><MyRoot xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:schemaLocation=""http://www.example.com/data http://www.example.com/data/MyRoot.xsd"" xmlns=""http://www.example.com/data""> <MainType ID=""192"" comment=""Bob's site""> <Price>$0.20</Price> <TheUrl><![CDATA[http://www.example.com/path1/]]></TheUrl> <Validated>N</Validated> </MainType> <MainType ID=""123"" comment=""Test site""> <Price>$99.95</Price> <TheUrl><![CDATA[http://www.example.com/path2]]></TheUrl> <Validated>N</Validated> </MainType> <MainType ID=""922"" comment=""Health Insurance""> <Price>$600.00</Price> <TheUrl><![CDATA[http://www.example.com/eg/xyz.php]]></TheUrl> <Validated>N</Validated> </MainType> <MainType ID=""389"" comment=""Used Cars""> <Price>$5000.00</Price> <TheUrl><![CDATA[http://www.example.com/tata.php]]></TheUrl> <Validated>N</Validated> </MainType></MyRoot> #!/usr/bin/php-cli<?php$xml = file_get_contents(""xpeg.xml"");$domdoc = new DOMDocument();$domdoc->loadXML($xml);// remove the default namespace binding$e = $domdoc->documentElement;$e->removeAttributeNS($e->getAttributeNode(""xmlns"")->nodeValue,"""");// hack hack, cough cough, hack hack$domdoc->loadXML($domdoc->saveXML($domdoc));$xpath = new DOMXpath($domdoc);$str = trim($argv[1]);$result = $xpath->query($str);if ($result !== FALSE) { dump_dom_levels($result);}else { echo ""error\n"";}// The following function isn't really part of the// question. It simply provides a concise summary of// the result.function dump_dom_levels($node, $level = 0) { $class = get_class($node); if ($class == ""DOMNodeList"") { echo ""Level $level ($class): $node->length items\n""; foreach ($node as $child_node) { dump_dom_levels($child_node, $level+1); } } else { $nChildren = 0; foreach ($node->childNodes as $child_node) { if ($child_node->hasChildNodes()) { $nChildren++; } } if ($nChildren) { echo ""Level $level ($class): $nChildren children\n""; } foreach ($node->childNodes as $child_node) { if ($child_node->hasChildNodes()) { dump_dom_levels($child_node, $level+1); } } }}?>",PHP xpath query on XML with default namespace binding
How to get multiple rows mysql and use them in php, I currently have a database like the picture below. Where there is a query that selects the rows with number1 equaling 1. When using in php I am only given the first is there any way to get the second? Like through a dimesional array like or something similar <code>  mysql_fetch_assoc() array['number2'][2] ,How to select multiple rows from mysql with one query and use them in php
a question in PHP, What does the following command do in PHP? <code>  . $string // ($string is something which I declared in the program),What does a . (dot) do in PHP?
countdown timers on a website question," I am building a penny auction site and I got to the part with timers (I'm using symfony framework). Here I've got a few questions and issues.So, I have about 10 products on the homepage I need to show. All of them with a countdown timer.To make the counters work properly I had this in mind:In the template's action, I fetch all the products needed to be showed into an array along with start_time and end_time. in the html, each product will have a hidden div which will contain seconds to end (end_time - start_time).on document ready, jQuery will iterate through all the products on the homepage, convert the remaining time to proper format (hours:minutes:seconds), output that time. So this is the part where I'm confused - should this function now call another function, which decrements time of the div, and have a setTimeout on 1 second?on div.click, jQuery fetches the seconds div of the product, increases it's content by 10. if it overflow's, change minutes as well, and seconds to proper value. etc.One of my worries is how will jQuery know how many products are there on the web page? I'm currently using <body onload=""func()""> to trigger the timers. I'm new at JavaScript/jQuery so my question is what's another, better way to trigger the timers, and also send the number of products argument to jQuery function?Also, will this be fast and effective enough? Can it be done better?  <code> ",Countdown timers in jQuery
managing countdown timers using jQuery," I am building a penny auction site and I got to the part with timers (I'm using symfony framework). Here I've got a few questions and issues.So, I have about 10 products on the homepage I need to show. All of them with a countdown timer.To make the counters work properly I had this in mind:In the template's action, I fetch all the products needed to be showed into an array along with start_time and end_time. in the html, each product will have a hidden div which will contain seconds to end (end_time - start_time).on document ready, jQuery will iterate through all the products on the homepage, convert the remaining time to proper format (hours:minutes:seconds), output that time. So this is the part where I'm confused - should this function now call another function, which decrements time of the div, and have a setTimeout on 1 second?on div.click, jQuery fetches the seconds div of the product, increases it's content by 10. if it overflow's, change minutes as well, and seconds to proper value. etc.One of my worries is how will jQuery know how many products are there on the web page? I'm currently using <body onload=""func()""> to trigger the timers. I'm new at JavaScript/jQuery so my question is what's another, better way to trigger the timers, and also send the number of products argument to jQuery function?Also, will this be fast and effective enough? Can it be done better?  <code> ",Countdown timers in jQuery
[PHP 5.4] break/continue $var syntax, I'm looking at the alpha 1 news about PHP 5.4 and find some things that are removed. In that list they talk about break/continue $var syntax. <code> ,"What is the ""break/continue $var syntax"" (will be removed in PHP 5.4)?"
"What is the ""break/continue $var syntax"" removed in PHP 5.4?", I'm looking at the alpha 1 news about PHP 5.4 and find some things that are removed. In that list they talk about break/continue $var syntax. <code> ,"What is the ""break/continue $var syntax"" (will be removed in PHP 5.4)?"
"Why is the ""break/continue $var syntax"" removed in PHP 5.4?", I'm looking at the alpha 1 news about PHP 5.4 and find some things that are removed. In that list they talk about break/continue $var syntax. <code> ,"What is the ""break/continue $var syntax"" (will be removed in PHP 5.4)?"
https means no xss, Does https connection secure cookies and prevents XSS attacks. I have a simple blog that allows users to enter JavaScript code as an input. I want to allow Javascript input by the user while still preventing XSS attacks and cookie stealing. Does https help secure cookies. I only found few sites that talks about this and still a bit unclear.  <code> ,Does https secure cookies prevent XSS attacks?
Does https avoid XSS attacks?, Does https connection secure cookies and prevents XSS attacks. I have a simple blog that allows users to enter JavaScript code as an input. I want to allow Javascript input by the user while still preventing XSS attacks and cookie stealing. Does https help secure cookies. I only found few sites that talks about this and still a bit unclear.  <code> ,Does https secure cookies prevent XSS attacks?
Does https secure cookies and prevent XSS attacks?, Does https connection secure cookies and prevents XSS attacks. I have a simple blog that allows users to enter JavaScript code as an input. I want to allow Javascript input by the user while still preventing XSS attacks and cookie stealing. Does https help secure cookies. I only found few sites that talks about this and still a bit unclear.  <code> ,Does https secure cookies prevent XSS attacks?
PHP - How to find the first day of the week a given date belongs to?," Possible Duplicate: Get first day of week in PHP? Given a timestamp I need to find the first day the week the timestamp belongs to.e.g. The week start should equal 2011-06-27 at the moment its gone horribly wrong and equals 1970-01-01 which suggests to me the first day of week format is invalid.Any ideas would be much appreciated thanks, <code>  $format = ""first day of week"";//convert to time$time = strtotime(""2011-07-01 00:00:00"");//format the time to the first day of the week$date = strtotime($format,$time);//Put the first day of the week into a pretty format$weekStartDate = date(""Y-m-d"",$date);",How to find the first day of the week a given date belongs to?
How to assing first non false variable from a group of them.," I tried this way without effect: and $result should be set to $c, but this gives value of bool(false) instead. <code>  $a = false;$b = false;$c = 'sometext';$result = $a or $b or $c or exit('error: all variables are false');",How to assign first non false variable from a group of them.
preg_replace \n in string...," For some reason, preg_replace(""/\\n/"", ""<br />"", $string); isn't working.The string outputs in this format: blah blah blah\nblah blah blah even after the preg replace.I want to change if for a <br />.nl2br() doesn't work either, but as it's just text, I wasn't sure if it should.The preg_replace function works on a word in the string. :( <code> ",preg_replace() and \n in a string
Has PDO a bad side?, Everything I've read so far about PDO (PHP Data Objects) is almost too good to be true.I mean:Its faster then mysql or mysqli.It has the same syntax for multiple database drivers.with prepared statements it is secure for SQL injection.you can fetch data directly into a object.But what are the disadvantages of PDO? <code> ,Disadvantages of PDO (PHP Data objects)
why does readfile() exhaust php memory?," I've seen many questions about how to efficiently use PHP to download files rather than allowing direct HTTP requests (to keep files secure, to track downloads, etc.).The answer is almost always PHP readfile().Downloading large files reliably in PHPHow to force download of big files without using too much memory?Best way to transparently log downloads?BUT, although it works great during testing with huge files, when it's on a live site with hundreds of users, downloads start to hang and PHP memory limits are exhausted.So what is it about how readfile() works that causes memory to blow up so bad when traffic is high? I thought it's supposed to bypass heavy use of PHP memory by writing directly to the output buffer?EDIT: (To clarify, I'm looking for a ""why"", not ""what can I do"". I think that Apache's mod_xsendfile is the best way to circumvent) <code> ",Why does readfile() exhaust PHP memory?
mySql PHP - return object value with space in key.," just come across something I've never came across before. I have a value in my table ""Device Vendor"" and i am returning the data os an object.usually I would call $ob->var_name but obviously $ob->Device Vendor will not work.How do I return the value?Regards <code> ",return object value with space in key
"problem with type casting and comparison ""=="""," I have a problem baffling me terribly. I noticed this before but didn't give it any heed until today.I was trying to write my own check for integer strings. I know of is_numeric() but it does not suffice since it counts float as numeric not only integers and is_int() which does not work on string numbers.I did something similar to this As expected the second var dump outputs true since I expect with php's loose comparison that the string and integer versions be equal.However with the first, I don't get why this is so. I have tried casting to bool and it still gives me the same result.I have tried assigning the cast var to a new variablr and comparing the two, still the same resultIs this something I am doing wrong or it is a php bug?***Note I am not comparing types here. I'm actually trying to take advantage of the fact that int 0 is not equal to string 'string'. I wrote my integer check differently so I don't really need alternatives for that.***EditI did some extra checking and it turns out that 0 == 'string' is true as well. How is that possible?***Edit 2 There are multiple correct answers below to the question. Thanks to everyone who answered.  <code>  $var1 = 'string';$var2 = '123'; var_dump( (int)$var1 == $var1);// boolean true var_dump((int)$var2 == $var2);// boolean true var_dump((int)$var1);//int 0 var_dump($var1);//string 'string' (length=6)","Type casting and Comparison with Loose Operator ""=="""
"How to cache static content (css, images,js files) in CakePHP?"," I need to set some HTTP headers ""Expires"", ""Cache-Control"",""Last-Modified"", for resources as CSS files, Images files, js files,etc (Webroot content).I've read that there's some functionality, through and the assetTimestamp method of the Helper class.Now, the question is: How is it used?I read the HtmlHelper code and in the css method, line 361 there's this: <code>  Configure::write('Asset.timestamp', true); // In core.php $url = $this->assetTimestamp($this->webroot($path));","How to cache static content (css, images,js files) in CakePHP2?"
Get calling scope in a PHP fuction?," Can I access the scope of the calling environment from within a called function?For example, I would like to access __LINE__ in a logging function but it needs to be the __LINE__ from the calling environment. I would also like to have some way of calling get_defined_vars() to get the callers variables.In both examples it saves having to have an extra argument.Is this possible? <code> ",Get calling scope in a PHP function?
PHP strict standards error, The function parse_users returns an array.I am doing the following in another function: But I get a Strict Standards: Only variables should be passed by reference in...Is it because I do a reset() on the function?Do I have to do it this way: Or is something else? <code>  return reset($this->parse_users($records)); $users = $this->parse_users($records);return reset($users);,Strict standards error
Are PHP constants a good modern development practice?," I'm working on a new project with a sizeable PHP codebase. The application uses quite a few PHP constants ( define('FOO', 'bar') ), particularly for things like database connection parameters. These constants are all defined in a single configuration file that is require_once()'d directly by basically every class in the application.A few years ago this would have made perfect sense, but since then I've gotten the Unit Testing bug and this tight coupling between classes is really bothering me. These constants smell like global variables, and they're referenced directly throughout the application code.Is this still a good idea? Would it be reasonable to copy these values into an object and use this object (i.e. a Bean - there, I said it) to convey them via dependency injection to the the classes that interact with the database? Am I defeating any of the benefits of PHP constants (say speed or something) by doing this?Another approach I'm considering would be be to create a separate configuration PHP script for testing. I'll still need to figure a way to get the classes under test to use the sandbox configuration script instead of the global configuration script. This still feels brittle, but it might require less outright modification to the entire application. <code> ",Are PHP global constants a good modern development practice?
Really can't understand what Front Controller is.," First of all, I'm a beginner to PHP. And have posted a question here:Refactoring require_once file in a project. I've tried to read about Front controller as much as I can, but can't get how it works or even what's all about.Can somebody explain in brief how it works and what's all about? <code> ",What is a Front Controller and how is it implemented?
What is a Front Controller and how is it implemented in PHP?," First of all, I'm a beginner to PHP. And have posted a question here:Refactoring require_once file in a project. I've tried to read about Front controller as much as I can, but can't get how it works or even what's all about.Can somebody explain in brief how it works and what's all about? <code> ",What is a Front Controller and how is it implemented?
What is the use of <<<EOD in html?," I am implementing node to PDF using Drupal and tcpdf. In such case I am suppose to use this <<<EOD tag. If I don't use it, it throws error. I can't exactly get the purpose of <<<EOD.Could anybody please explain the concept of this? <code>  $html = <<<EOD <tr> <td>TEST</td> </tr>EOD;",What is the use of <<<EOD in PHP?
it is safe to use ajax for login, Am about to include a log in system to my web Site but i don't think it's a good idea for security to use ajax to send a and receive confirmation from an external php script called login.phpand log-out the same way with another logout.php any recommendation  <code> ,Is it safe to use ajax for login?
Create array printed with print_r," I have an array: and I do: which prints: Is there a function, so when doing: I will get the array array('foo' => 'fooMe'); back? <code>  $a = array('foo' => 'fooMe'); print_r($a); Array ( [foo] => printme ) needed_function(' Array ( [foo] => printme )');",How create an array from the output of an array printed with print_r?
PHP: Mechanics at request handling," I want to handle http requests via another webserver or own written server in future.I want to understand how to provide php with request data properly.in what form request data should be providedhow data is provided to php, via stdin or somehow elsehow php handles received request data afterwards, any additional actions required to fill $_SERVER variables etc. <code> ",How does a webserver interface with PHP
PHP: How does a webserver interface with PHP," I want to handle http requests via another webserver or own written server in future.I want to understand how to provide php with request data properly.in what form request data should be providedhow data is provided to php, via stdin or somehow elsehow php handles received request data afterwards, any additional actions required to fill $_SERVER variables etc. <code> ",How does a webserver interface with PHP
"PHP, can a lot of defines cause performance or memory problems?"," I have a website which uses a lot of constants, that are defined like this, for example: I currently have a list of about 200 defines like this. This list is run every time a page loads. Is this going to affect my performance or memory use badly?  <code>  define('CONSTANT', 1)",Can defining a lot of constants cause performance or memory problems?
How to convert postcode to Geolocation(latitude & longitutde) using google maps api?, I just want to get latitude & longitude using the post code with Google maps API.I am using PHP for development.How can I do this?The post code can be from any where in this world. <code> ,How to convert postcode to Geolocation (latitude & longitude) using google maps api?
PHP: Beautify html output," I was wondering whether there is class or something similar which I can include into my PHP pages to beautify the HTML output.Such as putting new lines in after tags and correctly indenting so that my source code isn't only one line, I know that to the browser it doesn't matter but I wish to do this.I have heard of http://www.php.net/manual/en/book.tidy.php but am not clear on what it does and how to implement it, i.e. I don't understand what the manual says about it. <code> ",Beautify html output
PHP and Javascript timestamp issue," If I doalert(new Date(1313690400000))returns: Thu Aug 18 2011 13:00:00 GMT-0500 (CDT)however, PHPecho date('Y-m-d H:i:s', 1313690400000);returns: 1951-12-14 05:50:24 <code> ",Why don't PHP and Javascript's timestamps match?
Learning Zend Framewok after Magento: Models," I have been working over an year with Magento and have learned it good enough. Now I want to learn Zend, and I'm stuck with models.I'm used to have entities and collection of entities in Magento, and it's likely that I'll want to use Zend_Db_Table, Zend_Db_Table_Row and/or Zend_Db_Table_Rowset. What I am confused of is the role each class.I know that I can extend each class, and I understand that in my Product_Table class (that extends Zend_Db_Table_Abstract) it's possible to have private methods that will tell Zend what classes to use for rows and rowsets, however I'm not feeling comfortable with it.Having this code in Magento:Example 1 Example 2 How I can implement something similar in Zend Framework? Alternatively if this is a really a bad idea, what are the best practices to implement models in Zend Framework?Thanks <code>  // I understand that maybe I'll use the `new` keyword instead// Mage::getModel() is only for exemplification$product = Mage::getModel('catalog/product');$product->setName('product name');$product->setPrice(20);$product->save();if($id = $product->getId()){ echo 'Product saved with id' . $id;}else{ echo 'Error saving product';} $collection = Mage::getModel('catalog/product')->getCollection();// this is the limit, I'm ok with other method's name$collection->setPageSize(10);$collection->load()foreach($collection as $product){ echo $product->getName() . ' costs ' . $product->getPrice() . PHP_EOL;}",Learning Zend Framework after Magento: Models
Problem with accessing class variables," It's the first time I use OOP with PHP 5.. so this is my problem..I have a file disp.php that contains a class named class disp (model in MVC) this is the file news.php (controller in MVC): in this code, I created an object (objet) of the type disp... I want to use the variables declared in the function dispItems, ($n_pages and $current_page) in the view (disp-news.php)so I think that the class variables are the same variables in the function dispItems()... but when trying to access them from the controller ...using object. it shows me a error :See: Inspite of $n_pages and $current_pages being public in the class dispthank you in advance <code>  <?phpclass disp{public $n_pages;public $current_page;private $cmd2;/***************SQL command generator*******************/private function getCmd2($cmd1,$id,$first_entry,$perpage,$tri){ $cmd2=str_replace('COUNT(*)','*',$cmd1); $cmd2=$cmd2.' ORDER BY '.$id.' '.$tri.' LIMIT '.$first_entry.','.$perpage; return $cmd2;}/********************Items display******************/function dispItems($cmd1,$id,$perpage,$tri){ require('global/connection.inc.php'); try{ foreach($pdo->query($cmd1)as $r){ $n_pages=ceil($r[0]/$perpage); if (isset ($_GET['pg'])){ $current_page=intval($_GET['pg']); if ($current_page>$n_pages){ $current_page=$n_pages; } if ($current_page<=0){ $current_page=1; } } else{ $current_page=1; $_GET['pg']=1; } } $i=1; $first_entry=($current_page-1)*$perpage; $objet=new disp(); $cmd2=$objet->getCmd2($cmd1,$id,$first_entry,$perpage,$tri); $data=array(); $i=0; foreach($pdo->query($cmd2) as $r){ $data[$i]=$r; $i++; } return $data; }catch(PDOException $e){}}} require MODELS_DIR.'disp.php';$objet=new disp();$news=$objet->dispItems('SELECT COUNT(*) FROM tbl_nouveautes','ID_EVENT',10,'DESC');$c_page=$objet->$current_page;$n_pages= $objet->$n_pages;require VIEWS_DIR.'disp-news.php'; Notice: Undefined variable: n_pages in C:\Program Files\EasyPHP-5.3.6.1\www\example\admin\global\news.php on line 14Fatal error: Cannot access empty property in C:\Program Files\EasyPHP-5.3.6.1\www\example\admin\global\news.php on line 14",Accessing class variables
Why submit a form to keep variables in UTF8 format," I have been struggling with this for three days now and this is what i have got and i cannot understand why i am seeing this behavior.my problem is that i have a MySql spanish db with char set and collation defined as utf8_general_ci. when i query the data base in delete.php like this ""DELETE FROM countryNames WHERE country = '$name'""the specified row doesnot get deleted. i am setting the variable $name in delete.php through a post variable $name=$_post['data'] . mostly $name gets the value in spanish characters e.g espaol, Mxico etc. the delete.php file gets called from main.php.if i send a post message from main.php $.post(""delete.php"", {data:filename}); , the query doesnot deletes the entry (although the 'filename' string is in utf8) but if i create a form and then post my data variable in main.php, the query works!! the big question to me is why do i have to submit a form for the query to work? what im seeing is my database rejects the value if it comes from a jquery post call but accepts it when its from a submitted form. (i make no code change for the query to work. just post the value by submiting the form) <code> ",How to ensure variables submitted in UTF8 using jquery $.post
Ask for permission using new php sdk, How can I ask for permissions using new PHP SDK? I don't want to use the graph api and parse the url all the time. When the application is opened it should automatically ask for permissions if the user hasn't granted one already. <code> ,Asking for permission using new PHP SDK (3.X.X)
Asking for permission using new PHP SDK, How can I ask for permissions using new PHP SDK? I don't want to use the graph api and parse the url all the time. When the application is opened it should automatically ask for permissions if the user hasn't granted one already. <code> ,Asking for permission using new PHP SDK (3.X.X)
"""Did you mean?"" feature like in amazon.com?"," I have a website and I am using Google search widget on it. Now I would like to have, if possible, the feature ""Do you mean:"" as used on Amazon and Google. This feature would allow a user to search for a product and if the desired product does not exist then the search results will offer a suggestion. E.g. if a visitor is looking for a ""Wonder Mop 3000"", but the site is offering only ""Wonder Mop 1000"" then above the search results, the result will look like: Is this possible with google search or I will need a different search engine? <code>  Did you mean: ""Wonder Mop 1000""---------------------------------------Results for ""Wonder Mop 3000""...","Implementing a ""Did you mean?"" feature as used on Amazon and Google"
php - Creating a custom MySQL function?," I've just started using MySQL with PHP and I'd like to know if it's possible to create a custom function. This code snippet should illustrate what I'm trying to do. Thanks in advance for any help! <code>  // a somewhat complicated formula not suitable to embed into the queryfunction Distance($latA, $lonA, $latB, $lonB){ // earth's radius $radius = 3956; $latA = deg2rad($latA); $lonA = deg2rad($lonA); $latB = deg2rad($latB); $lonB = deg2rad($lonB); // calculate deltas $deltaLat = $latB - $latA; $deltaLon = $lonB - $lonA; // calculate Great Circle distance $result = pow(sin($deltaLatitude / 2.0), 2) + (cos($latA) * cos($latB) * pow(sin($deltaLon / 2.0), 2)); $distance = $radius * 2 * atan2(sqrt($result), sqrt(1 - $result)); return $distance;}// how can I call Distance() in my query?$query = ""SELECT lat, lon FROM zipcodes WHERE Distance(lat, lon, 0, 0) < 20"";mysql_query($query);",Creating a custom MySQL function?
"Whats better MySQL LEFT(*,1000) or using PHP sub_str"," I am building a simple list of the last 10 updated pages from the database. Each record I need to display: name and shortened/truncated description that is stored as TEXT. Some pages the description can be over 10,000 characters. Which is better for speed and performance? Or a better way to go about this? I use both Zend and Smarty.MySQL PHP <code>  SELECT id, name, LEFT(description, 100) FROM pages ORDER BY page_modified DESC LIMIT 10; function ShortenText($text) {// Change to the number of characters you want to display $chars = 100; $text = $text."" ""; $text = substr($text,0,$chars);$text = substr($text,0,strrpos($text,' '));$text = $text.""...""; return $text; }","What's faster: MySQL LEFT(*,100) or PHP substr()?"
"What's better: MySQL LEFT(*,1000) or PHP substr()?"," I am building a simple list of the last 10 updated pages from the database. Each record I need to display: name and shortened/truncated description that is stored as TEXT. Some pages the description can be over 10,000 characters. Which is better for speed and performance? Or a better way to go about this? I use both Zend and Smarty.MySQL PHP <code>  SELECT id, name, LEFT(description, 100) FROM pages ORDER BY page_modified DESC LIMIT 10; function ShortenText($text) {// Change to the number of characters you want to display $chars = 100; $text = $text."" ""; $text = substr($text,0,$chars);$text = substr($text,0,strrpos($text,' '));$text = $text.""...""; return $text; }","What's faster: MySQL LEFT(*,100) or PHP substr()?"
"What's better: MySQL LEFT(*,100) or PHP substr()?"," I am building a simple list of the last 10 updated pages from the database. Each record I need to display: name and shortened/truncated description that is stored as TEXT. Some pages the description can be over 10,000 characters. Which is better for speed and performance? Or a better way to go about this? I use both Zend and Smarty.MySQL PHP <code>  SELECT id, name, LEFT(description, 100) FROM pages ORDER BY page_modified DESC LIMIT 10; function ShortenText($text) {// Change to the number of characters you want to display $chars = 100; $text = $text."" ""; $text = substr($text,0,$chars);$text = substr($text,0,strrpos($text,' '));$text = $text.""...""; return $text; }","What's faster: MySQL LEFT(*,100) or PHP substr()?"
How to install MySQLi," I cannot find instructions about installing MySQLi on a Mac. Just to be clear, MySQL is up to date and I am running PHP 5. How do I install it? Where do I even get it from? Thanks for your help. I'll be giving an up vote and a check mark to whoever answers this! <code> ",How to install MySQLi on MacOS
How to implement a math equation in a programming language?," I need help to solve this formula ((n * 2) + 10) / (n + 1) = 3, preferably in PHP. (The numbers 2, 10 and 3 should be variables that can be changed.)I'm able to solve this equation on paper quite easily. However, when I try to implement this in PHP, I'm not sure where to start. I've done several Google queries and searches on here and nothing seems to help. I'm missing the proper approach to deal with this problem.Any tips and pointers would be great, and if you provide the exact code, please explain how you got to this result. <code> ",How to solve a math equation in a programming language?
"How can I track if an embedded video (youtube, vimeo, etc.) was played?"," Is there a way to track play counts for embedded videos? Ideally without resorting to a thumbnail linked to launch the embed / iframe code.Example (try it yourself on jsFiddle): How can I track play counts for each of these videos? <code>  <!doctype html><html lang=""en""><head> <meta charset=""utf-8""> <title>Example</title> <script src=""//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"" type=""text/javascript""></script></head><body> <div id=""log""></div> <ul> <li class=""video"" id=""video1""><iframe width=""480"" height=""390"" src=""http://www.youtube.com/embed/z6lL83wl31E"" frameborder=""0"" allowfullscreen></iframe><li> <li class=""video"" id=""video2""><iframe src=""http://player.vimeo.com/video/28231570?title=0&amp;byline=0&amp;portrait=0"" width=""400"" height=""225"" frameborder=""0""></iframe></li> <li class=""video"" id=""video3""><embed flashVars=""playerVars=autoPlay=no"" src=""http://www.metacafe.com/fplayer/3153323/the_three_stooges_minisode_beer_barrel_polecats_season_1_episode_0008.swf"" width=""440"" height=""248"" wmode=""transparent"" allowFullScreen=""true"" allowScriptAccess=""always"" name=""Metacafe_3153323"" pluginspage=""http://www.macromedia.com/go/getflashplayer"" type=""application/x-shockwave-flash""></embed></li> </ul> <script> /* Here's what I've tried so far: */ $('.video').mouseover(function(){ $('#log').html('Mouseover!'); /*alert('Track mouseovers instead? Is this the best I can do?');*/ }); $('.video').mouseout(function(){ $('#log').html('&nbsp;'); }); $('.video').mousedown(function(){ $('#log').html('Mousedown!'); alert('mousedown'); /* This will track mousedown events in embed objects (not iframes), but not allow the click event to pass through to object. */ }); </script></body></html>","How can I track a click event of an embedded video (youtube, vimeo, etc.)? (to track play count)"
Check if the url is contains the http or https," I'm using the following code to add http:// to the URL. but how can I check whether the original URL contains https? I don't want to use an OR clause. <code>  (substr(strtolower($url), 0, 7) == 'http://'?"""":""http://"").$url",Check whether the URL scheme is HTTP or HTTPS
What ways are there to store information about an anonymous user in a database?," Our application has an online shop among other features, and users are normally requested to register before completing a sale, creating a unique customer_ID in the process. When they return, they can log in and their contact details and transaction history are retrieved from the database.We are now exploring what to do in the case of an 'anonymous' or 'guest' customer, opening up the online shop to customers who don't want to register, and also for sales logged in the backend application, where taking the customer's email, postal address, etc is just too time consuming. The solution has applications outside the online shop too.Multiple companies use the same database, and the database is built on a party model structure, so we have explored a few options:Store all anonymous customers under one pre-defined customer_ID in the transaction table:customer_ID = 0 for every anonymous user, and customer_ID > 0 for every real userThis is straight-forward to hard-code into the applicationBut more involved to determine which customers belong to which companyShould details for customer_ID = 0 exist in the customer table in the database or as an object in the application?If in the database, what database-level constraints can be made to ensure that it always exists?If not in the database, then foreign key constraints from transaction.customer_ID to customer.customer_ID no longer workcustomer_ID is the same as the company party_IDEasier to determine aggregate sales for each company, etcThis would confuse matters as it would appear that the company is its own customer, rather than other unique customersGenerate a unique customer_ID for every new anonymous customer (per session)What if the same physical user returns? There will be many records repeating the same sort of data; email, shipping address, etc.Use another unique key, such as email address, to refer to a customerNot always reliable as people sometimes use more than one email address, or leave old addresses behind.What if there is no email address to be taken, as is the case on the shop floor, pro forma invoices, etc?Some other Stack Overflow inspired solution!AdditionA combination of #2 and #3 has been suggested elsewhere - attempt to store a single record for each customer, using the email address if possible, or a new record on every visit if not.I should point out that we don't need to store a record for every anonymous customer, but it just seems that the relational database was built to deal with relationships, so having a NULL or a customer_ID in the transaction table that doesn't reference an actual customer record just seems wrong...I must also stress that the purpose of this question is to determine what real-world solutions there are to recording 'casual' transactions where no postal address or email address are given (imagine a supermarket chekout) alongside online shop transactions where an email address and postal address are given whether they are stored or not.What solutions have the SO community used in the past? <code> ",What ways are there to store information about an anonymous/guest user in a database?
php - format date ISO8601?," I have a year (2002) and I'm trying to get it into the following format:2002-00-00T00:00:00I tried various iterations, the last of which was this: But, even if I come close, it always seems to add +00:00 to the end of it...  <code>  $testdate = DateTime::createFromFormat(DateTime::ISO8601, date(""c""))echo date_format($testdate, '2002'); ",PHP - format date ISO8601?
Whats an effective library[s] for suggesting keywords for content?," Currently designing a CMS for use on my website. I am wondering if there were any free libraries available for creating tags based on the content.Example I like trees. Trees are plants that have leaves. Leaves on tree can be multi-colored.Would produce the tags trees and leaves.The library should be PHP or JS.EDIT 1:I have found a simple library for half my task - http://www.cafewebmaster.com/get-top-100-words-keywords-text-phpI have edited what the library specifications should be (thanks to guidance from @NullUserException)-Count all words (ignoring case and inflections), throw out stop words and pick the ones with the highest frequencyEdit text to make words that are more specific to the genre (may have a lower frequency), be of higher value. For example in the example - 'multi-colored' should become higher value because it is more specific to the subject. However it should include a prefix indicating it relates to the subject (it would become leaves-multi-colored).EDIT 2:Algorithm should remove words that have less than 3 characters unless they are in capitals or formatted otherwise  <code> ",What's an effective library for suggesting keywords for content?
Compare multidiemsional Arrays in PHP, How can I compare multidimensional arrays in php? Is there a simple way? <code> ,Compare multidimensional arrays in PHP
How to get mssql work with PHP 5.3?," I upgraded to PHP 5.3, and noticed that php_mssql.dll is missing. After googling a bit, it seems that 5.3 has dropped support for mssql. So I downloaded the drivers from microsoft, but I can't seem to get it to work.I am on windows. What do I need to do, after I unzip the files in the ext directory of my PHP 5.3? <code> ","How do I get the SQLSRV extension to work with PHP, since MSSQL is deprecated?"
How to i prevent from printscreen for my webpage?, Possible Duplicate: Taking screenshot of a webpage programmatically How can i disable print screen for a web page in all browser Is there any possibilities to prevent printscreen for a webpage?if yes how can i do this help me ..how can i do that?.Thanks Ravichandran <code> ,How do i prevent from printscreen of my webpage?
[PHP][MySQL]how to SELECT specified data," I want to select the latest rows of a specific table that has 5 items in MySQL. The table looks like:id (auto increase)tofromtime stamptext The data is something like: I want to select * WHERE to = 'user01' and the latest data (maybe by ""id"" or ""time stamp""). The ""from"" can be numerous but each same ""from"" data can appear just once.Anyway, the selected data will be: Could it be done?Thanks for taking time reading my question :) <code>  |id | to | from | time stamp | text| 1 | user01 | user02 | 2011-09-01 | text1| 2 | user01 | user02 | 2011-09-02 | text2| 3 | user02 | user01 | 2011-09-02 | text3| 4 | user01 | user03 | 2011-09-03 | text4| 5 | user01 | user04 | 2011-09-03 | text5| 6 | user01 | user03 | 2011-09-04 | text6| 7 | user03 | user01 | 2011-09-05 | text7 | 2 | user01 | user02 | 2011-09-02 | text2| 5 | user01 | user04 | 2011-09-03 | text5| 6 | user01 | user03 | 2011-09-04 | text6",How do I select the latest rows in MySQL?
how to SELECT specified data," I want to select the latest rows of a specific table that has 5 items in MySQL. The table looks like:id (auto increase)tofromtime stamptext The data is something like: I want to select * WHERE to = 'user01' and the latest data (maybe by ""id"" or ""time stamp""). The ""from"" can be numerous but each same ""from"" data can appear just once.Anyway, the selected data will be: Could it be done?Thanks for taking time reading my question :) <code>  |id | to | from | time stamp | text| 1 | user01 | user02 | 2011-09-01 | text1| 2 | user01 | user02 | 2011-09-02 | text2| 3 | user02 | user01 | 2011-09-02 | text3| 4 | user01 | user03 | 2011-09-03 | text4| 5 | user01 | user04 | 2011-09-03 | text5| 6 | user01 | user03 | 2011-09-04 | text6| 7 | user03 | user01 | 2011-09-05 | text7 | 2 | user01 | user02 | 2011-09-02 | text2| 5 | user01 | user04 | 2011-09-03 | text5| 6 | user01 | user03 | 2011-09-04 | text6",How do I select the latest rows in MySQL?
Get video duration from file hosted on Amazon S3," I'm starting a portal which distributes videos. The idea is to upload the videos to Amazon S3 and gather the necessary data using PHP from my server. So far everything works fine... the only thing I could not manage to get is the duration of the video :-( Could anybody give me a hint on how to accomplish it?Thanks,MiguelUPDATE:I finally opted to do it using FFmpeg. I have already installed FFmpeg on the server and I'm now trying to execute the command in the shell prior to execute it with PHP. I'm passing it the URL from Amazon (I tried both the cloudfront URL and the S3 URL) but it says that there is not such a directory or file. I've seen examples on the web using external files so I expected it to work.The command I'm using is Is there something I need to configure in order to use external URLs? <code>  ffmpeg -i https://s3-eu-west-1.amazonaws.com/path/to/file.m4v",Get video duration of file hosted on Amazon S3
PHP : compare two stings (urls) for same domain," I'm trying to compare two urls using PHP, ensuring that the domain name is the same. It cannot be the sub-domain. It has to literally be the same domain. Example:http://www.google.co.uk would validate as true compared to http://www.google.co.uk/pages.html.buthttp://www.google.co.uk would validate as false compared to http://www.something.co.uk/pages.html. <code> ",Compare two strings (urls) for same domain
Compare two stings (urls) for same domain," I'm trying to compare two urls using PHP, ensuring that the domain name is the same. It cannot be the sub-domain. It has to literally be the same domain. Example:http://www.google.co.uk would validate as true compared to http://www.google.co.uk/pages.html.buthttp://www.google.co.uk would validate as false compared to http://www.something.co.uk/pages.html. <code> ",Compare two strings (urls) for same domain
Php Array Index Reset, I have a PHP array that looks like this: What PHP function makes this? <code>  [3] => Hello[7] => Moo[45] => America [0] => Hello[1] => Moo[2] => America,Reset PHP Array Index
set a password for redis," I'm working with redis on my local machine so I dont really need to set up a password to connect to the server with my php client (I'm using predis as a client). However, I'm moving my app to a live server, so I want to set up a password to connect to my redis server.I have few questions:I checked all over the internet about how to set up the password and it looks like I need to add the password in the redis.conf. I couldnt find though what I should add exactly to the configuration file to set up the password. also in predis how should I add the password. I'm using the following array of parameters to connect to the redis server $my_server = array('host' => '127.0.0.1','port' => 6379,'database' => 1); should I add the password this way? last question, I'm trying to stop my redis-server on the live server. Every time I enter the following command , I keep getting the same error message redis-server stop [23925] 23 Sep 20:23:03 # Fatal error, can't open config file 'stop'usually on my local machine I enter /etc/init.d/redis-server stopto stop redis server but its not working on my live server since there is no process called redis-server in my /etc/init.d <code>  > $my_server = array('host' => '127.0.0.1','port' =>> 6379,'database' => 1,'password'=>password);",How to set password for Redis?
redis: set a password for redis," I'm working with redis on my local machine so I dont really need to set up a password to connect to the server with my php client (I'm using predis as a client). However, I'm moving my app to a live server, so I want to set up a password to connect to my redis server.I have few questions:I checked all over the internet about how to set up the password and it looks like I need to add the password in the redis.conf. I couldnt find though what I should add exactly to the configuration file to set up the password. also in predis how should I add the password. I'm using the following array of parameters to connect to the redis server $my_server = array('host' => '127.0.0.1','port' => 6379,'database' => 1); should I add the password this way? last question, I'm trying to stop my redis-server on the live server. Every time I enter the following command , I keep getting the same error message redis-server stop [23925] 23 Sep 20:23:03 # Fatal error, can't open config file 'stop'usually on my local machine I enter /etc/init.d/redis-server stopto stop redis server but its not working on my live server since there is no process called redis-server in my /etc/init.d <code>  > $my_server = array('host' => '127.0.0.1','port' =>> 6379,'database' => 1,'password'=>password);",How to set password for Redis?
"how to do single sign on between two web apps, PHP and Java EE?"," I have an existing Java EE web application running on GlassFish 3.1. Sign in works fine through the jdbcRealm configured in GlassFish 3.1.Someone on another team is developing a separate web application in PHP, the boss doesn't want the user of the apps to have to sign in twice. That is, when they are signed in to the Java web app and they click a link that takes them to the PHP app, they should already be signed in to that app as well. (And vice-versa.)Not sure how to implement this. I was thinking that I could generate a long random key (a token) that gets generated on log in of either app, and passed around in every web request for either app to identify a logged in user, but that doesn't seem safe.I need pointers in the right direction. <code> ","how to do single-sign-on (SSO) between two web apps, PHP and Java EE?"
"how to do single-sign-on (SSO) between two web apps, PHP and Java EE?"," I have an existing Java EE web application running on GlassFish 3.1. Sign in works fine through the jdbcRealm configured in GlassFish 3.1.Someone on another team is developing a separate web application in PHP, the boss doesn't want the user of the apps to have to sign in twice. That is, when they are signed in to the Java web app and they click a link that takes them to the PHP app, they should already be signed in to that app as well. (And vice-versa.)Not sure how to implement this. I was thinking that I could generate a long random key (a token) that gets generated on log in of either app, and passed around in every web request for either app to identify a logged in user, but that doesn't seem safe.I need pointers in the right direction. <code> ","how to do single-sign-on (SSO) between two web apps, PHP and Java EE?"
mysql error when insert something contain 's," When I an insert query contains a quote (e.g. Kellog's), it fails to insert a record.ERROR MSG: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 's','Corn Flakes 170g','$ 15.90','$ 15.90','$ 14.10','--')' at line 1MySQL Update Error:The first 's', should be Kellogg's.Is there any solution? <code> ",MySQL error when inserting data containing apostrophes (single quotes)?
How to refer to class constraints in Twig," I have a few class constants in my entity class, e.g.: In normal PHP I often do if($var == Entity::TYPE_PERSON) and I would like to do this kind of stuff in Twig. Is it possible? <code>  class Entity { const TYPE_PERSON = 0; const TYPE_COMPANY = 1;}",How to access class constants in Twig?
How to access class constants in Twig," I have a few class constants in my entity class, e.g.: In normal PHP I often do if($var == Entity::TYPE_PERSON) and I would like to do this kind of stuff in Twig. Is it possible? <code>  class Entity { const TYPE_PERSON = 0; const TYPE_COMPANY = 1;}",How to access class constants in Twig?
phpunit and C.R.A.P index," I am using php undercontrol and the code browser report some CRAP index error on every setter/getter i.e. code like this The getter/setter are covered by the unit testing, the complexity is none since there is no if/for/switch/foreach. so why I get a CRAP index of 1 for that code??? PS: self answering myself might be because the complexity is none but my main issue is that every getter/setter generate a warning because of the CRAP index so is there anyway to tell phpunit/php code coverage to make the CRAP equals to 0 for function with a 0 complexity index. <code>  public function getFoo(){ return $this->_foo;}",PHPUnit and C.R.A.P index
website architecture," I'm not going to ask what is the best way to ...? since they might be several ways to do it, I just want to know from your experience how to manage folders and files when starting to build a website ? (note: I'm not english native that is why I request here, I can't find right places to be answered).I've been coding for years but always on my own and I never share about how people structure their website before.As an information, I'm making a structure file at the root of my website, struct.php that contains the common layouts shared by the many pages in my website.If the user types http://mywebsite.com/folder/ it requests the index file of the requested folder which just contains the 'struct' file importation, for the other variable parts like the metadatas of webpages, I'm creating a folder named meta which contains a file for any type of data (.title, .description, .keywords) and of course the struct file is fetching the content of these informative file and display them in their appropriate place in the document.I feel comfortable with that structure cause it's been a long time using it. But I'd really appreciate it if you were giving some advices or some useful links and/or tell me how you manage your own website. <code> ",website folder layout
"PDO, how to check if rows has been updated?"," How to return a boolean if the record has been updated on the database?Example: <code>  try { $SQL = ""UPDATE addressbook SET valid = '0' WHERE id = :id""; $query = $this->db->prepare($SQL); $query->bindValue("":id"", $id); $query->execute(); //How do I know if record has been updated? } catch (PDOException $e) { $j['success'] = 'false'; echo json_encode($j); return;}",How to check if the row has been updated?
how to insert into mysql using Prepared Statement with php, I am just learning about databases and I want to be able to store user inputs. What would be a basic example on how to get form data and save it to a database using PHP? Also making the form secure from SQL attacks. <code> ,How to insert into MySQL using a prepared statement with PHP
How to insert into MySQLusing a prepared statement with PHP, I am just learning about databases and I want to be able to store user inputs. What would be a basic example on how to get form data and save it to a database using PHP? Also making the form secure from SQL attacks. <code> ,How to insert into MySQL using a prepared statement with PHP
Make PHP errors look nicer? Stack trace on separate lines?," Right now PHP simply dumps something like this on the page: Fatal error: Cannot redeclare Cms\getItemHierarchy() (previously declared in /home/cartman/Development/cmsdev/engine_1.0/Cms/Menu.php:62) in /home/cartman/Development/cmsdev/engine_1.0/Cms/Menu.php on line 62 Call Stack: 0,0001 634424 1. {main}() /home/cartman/Development/cmsdev/public_normal/index.php:0 0,0037 757768 2. Bootstrap::run() /home/cartman/Development/cmsdev/public_normal/index.php:7 0,0037 757768 3. Cms\Front->dispatch() /home/cartman/Development/cmsdev/data_production/bootstrap.php:94 0,0043 781512 4. frontendController->contactusAction() /home/cartman/Development/cmsdev/engine_1.0/Cms/Front.php:367 0,0051 817152 5. plugins\m3nu\api->renderMenu($configName = 'bottom', $activeItem = 'contactme') /home/cartman/Development/cmsdev/data_production/controllers/frontendController.php:43 0,0052 825392 6. Cms\Menu->generateMenu() /home/cartman/Development/cmsdev/public_normal/plugins/m3nu/api.php:29 0,0052 825392 7. Cms\Menu->preParseConfig() /home/cartman/Development/cmsdev/engine_1.0/Cms/Menu.php:121Is there a way to make the output look more organized, at least print stack trace on separate lines? <code> ",Is it possible to make PHP errors look nicer? Can Stack trace output on separate lines?
Remove p><strong><br /> &nbsp;</strong></p> with xpath," I use xpath to remove <p>&nbsp;</p> but it does not remove this, or this kind, How can I remove them?Or maybe a regex that I should use? <code>  $nodeList = $xpath->query(""//p[text()=\""\xC2\xA0\""]""); # &nbsp; foreach($nodeList as $node) { $node->parentNode->removeChild($node); } <p><strong><br /> &nbsp;</strong></p> <p><strong>&nbsp;</strong></p>",Remove <p><strong><br /> &nbsp;</strong></p> with XPATH
How to properly send and recieve XML using curl?," I've been trying to post XML and get response from the server but with no luck.Here are the conditions on server side:Requests to the server should be sent as XML over HTTP 1.1.The following requirements apply to the HTTP request:The request type should be POST;A Content-Length header should be present, and the total length of the request should be below 16KB;A Content-Type header should be present, containing the media type value text/xml;Here is my script: This gives me: <code>  $url = ""http://somedomain.com"";$xml = '<?xml version=""1.0"" encoding=""UTF-8""?><Request PartnerID=""asasdsadsa"" Type=""TrackSearch""> <TrackSearch> <Title>love</Title> <Tags> <MainGenre>Blues</MainGenre> </Tags> <Page Number=""1"" Size=""20""/> </TrackSearch> </Request>';$header = ""POST HTTP/1.1 \r\n"";$header .= ""Content-type: text/xml \r\n"";$header .= ""Content-length: "".strlen($xml)."" \r\n"";$header .= ""Connection: close \r\n\r\n""; $header .= $xml;$ch = curl_init(); curl_setopt($ch, CURLOPT_URL,$url);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);curl_setopt($ch, CURLOPT_TIMEOUT, 10);curl_setopt($ch, CURLOPT_POST, true);curl_setopt($ch, CURLOPT_CUSTOMREQUEST, $header);$data = curl_exec($ch); echo $data;if(curl_errno($ch)) print curl_error($ch);else curl_close($ch); HTTP Error 400. The request URL is invalid. Bad Request - Invalid URL",How to properly send and receive XML using curl?
is tehre a way to block CURL to fetch data on my site?," I currentyly use this code to block wget and libwww is there one for curl? <code>  Options +FollowSymlinks RewriteEngine On RewriteBase / SetEnvIfNoCase User-Agent ""^Wget"" bad_userSetEnvIfNoCase User-Agent ""^libwww-perl"" bad_userDeny from env=bad_user",Is there a way to block CURL to fetch data on my site?
Redirect after Login on Wordpress," I'm creating a customized WordPress theme based on an existing site.I want to use an alternate dashboard which I have created.How can I have the user directed to 'news.php' after login instead of '/wp-admin/' ?--EDIT: Have a working Plug-in for this but the bounty is still availible for anyone who can find a manual way to do this through functions.php, as it would be more secure then using a 3rd party plug-in. <code> ",Redirect after Login on WordPress
phpMyAdmin - What a tile (~) means in rows column?," I recently upgrade a Joomla! installation from 1.5 to 1.7 with a large dataset of articles and while the upgrade method was upgrading the database (inserting content to another table, basically) I noticed that the Rows column value was prefixed with a tilde (~):Now, at first sight I assume this means that the value is approximate because when I refresh the page I see a different value, sometimes higher, sometimes lower. OK, lets say the value is approximate, in that case, what is causing that? Some considerations:OS: Windows 7.Server: Apache 2 with PHP 5.3 and MySQL 5.1.50-community. <code> ",phpMyAdmin - What a tilde (~) means in rows column?
Adding PostgresSQL support to already installed PHP," I have php-5.3.6 and postgresql installed in my Fedora 13. But it seems that postgresql support is not enabled in php. My phpinfo() page doesn't show any PostgreSQL section, neither pdo_pgsql section.I checked /etc/php.ini, and it shows that PostgresSQL is enabled. Is there any way I can add postgresql support to php without recompiling it from the source? Is there any other files I need to make some changes? <code>  [root@localhost ~]# cat /etc/php.ini | grep ^pgsqlpgsql.allow_persistent = Onpgsql.auto_reset_persistent = Offpgsql.max_persistent = -1pgsql.max_links = -1pgsql.ignore_notice = 0pgsql.log_notice = 0",Adding PostgreSQL support to already installed PHP
import excel to mysql help please," Ok so I have been able to get php to show the data in excel .xls sheet but this same data I wanna be able to insert into my table. I can't seem to figure that part out, here's what I got so far: btw PHPExcel is awesome and I haven't had the time to read through all of it to fully understand :( I have to turn this in by wednesday.. Thanks in advanceEdit: this is the idea that it should do..the values part is the one I am unsure about. <code>  $path = $_GET['file'];include(""../class/sql.php"");require '../class/PHPExcel.php';require_once '../class/PHPExcel/IOFactory.php';$objPHPExcel = PHPExcel_IOFactory::load($path);foreach ($objPHPExcel->getWorksheetIterator() as $worksheet) { $worksheetTitle = $worksheet->getTitle(); $highestRow = $worksheet->getHighestRow(); // e.g. 10 $highestColumn = $worksheet->getHighestColumn(); // e.g 'F' $highestColumnIndex = PHPExcel_Cell::columnIndexFromString($highestColumn); $nrColumns = ord($highestColumn) - 64; echo '<br>Data: <table width=""100%"" cellpadding=""3"" cellspacing=""0""><tr>'; for ($row = 1; $row <= $highestRow; ++ $row) { echo '<tr>'; for ($col = 0; $col < $highestColumnIndex; ++ $col) { $cell = $worksheet->getCellByColumnAndRow($col, $row); $val = $cell->getValue(); if($row === 1) echo '<td style=""background:#000; color:#fff;"">' . $val . '</td>'; else echo '<td>' . $val . '</td>'; } echo '</tr>'; } echo '</table>';} $sql = ""insert into tablename (col1, col2, col3) values(...)"";//start at row 2 so headers are not insertedfor ($row = 2; $row <= $highestRow; ++ $row) { for ($col = 0; $col < $highestColumnIndex; ++ $col) { $cell = $worksheet->getCellByColumnAndRow($col, $row); $val = $cell->getValue(); //here's my prob.. echo $val; } $result = mysql_query($sql);}",Import an excel file into a MySQL table with PHPExcel
php webpage optimization, I have a high traffic website and I need make sure my site is fast enough to display my pages to everyone rapidly.I searched on Google many articles about speed and optimization and here's what I found:Cache the pageSave it to the diskCaching the page in memory:This is very fast but if I need to change the content of my page I have to remove it from cache and then re-save the file on the disk.Save it to diskThis is very easy to maintain but every time the page is accessed I have to read on the disk.Which method should I go with? <code> ,PHP website Optimization
Hows is the Twelve-Factor App manifesto applied to PHP projects?," I just read the Twelve-Factor App, which looks like a pretty comprehensive set of rules to apply in a web-based application. It uses python or rails in its examples, but never php... I was wondering which factors of the manifesto can be applied to PHP projects and how?Thanks <code> ",How is the Twelve-Factor App manifesto applied to PHP projects?
Calling Excel through COM failed on Windows 7," Hey folks, this question can't be too complicated. Please provide a solution to at least figure out the ultimate root cause of the problem. I currently write an application, which controls Excel through COM: The app creates a COM-based Excel instance, opens some XLS files and reads their contents.Scenario IOn Windows 7, I start Apache and mySQL using xmapp-control with system administrator rights. All works as expected. The PHP-based controller script interacts with Excel as expected.Scenario IIA problem appears, if I start Apache and mySQL as 'background jobs'. Here is how:I created two jobs using Windows 7 Task Planner. One runs apache_start.bat, the other runs mysql_start.bat.Both tasks run as SYSTEM with elevated privileges when Windows 7 boots.Apache and mySQL work as expected. Specifically, Apache serves HTTP request from clients and PHP is able to talk to mySQL.When I call the PHP controller, which calls and interacts with Excel using COM, I do receive an error.The error message comes from Excel [not COM itself] and reads like this:Excel can't read the specified Excel-fileExcel failed to save the file due to an ill-name worksheetInterestingly, the first during the first run of the PHP-based controller script, it takes a few seconds to render the error message. Each subsequent run immediately renders the error message.Windows system logs didn't show a single problem report entry.Note, that the PHP program and the Apache instance didn't change - except the way Apache was started.At least the PHP controller script is perfectly able to read the file-system, since it provides the pathes to the XLS-file through scandir() of a certain directory.Concurrency issues can't be the cause of the problem. A single instance of the specific PHP controller interacts with Excel.QuestionCould someone provide details, why this happens? Or provide ways to isolate the ultimate cause of the problem (e.g. by means of a PowerShell 2 script)?UPDATE-1 :: 2011-11-29As proposed, I switched the Task Planner job from SYSTEM to a conventional user. Works. Apache and MySQL get started and process request.Unfortunately, the situation regarding Excel did't change a bit. Still, I see the error.As assumed earlier, the EXCEL COM server starts. I'm able to change various settings (e.g. suppress dialogs) without a problem through the COM-instance. The problem happens while calling this: UPDATE-2 :: 2011-11-30Added the accounts USER, GUEST and EVERYONE with the READABLE right to the access control list of the XLS file . No change.Modified the app in such a way, that the PHP part creates a copy of the XLS file as a temporary file and moves the contents of the original file into this. Just to ensure, that the problem isn't forced by odd file / path names.Still, the problem persists.UPDATE-2 :: 2011-12-05I'm going to send the EXCEL COM-Server methods in such a way, that Excel creates a blank file and saves it to /tmp. Let's see, if Excel even isn't able to read this file. <code>  $excelComObject->Workbooks->Open( 'PathToXLSFile' );",Calling Excel from PHP 5 through COM fails on Windows 7 when Apache started through Task Planner
Calling Excel through COM failed on Windows 7 when started through Task Planner," Hey folks, this question can't be too complicated. Please provide a solution to at least figure out the ultimate root cause of the problem. I currently write an application, which controls Excel through COM: The app creates a COM-based Excel instance, opens some XLS files and reads their contents.Scenario IOn Windows 7, I start Apache and mySQL using xmapp-control with system administrator rights. All works as expected. The PHP-based controller script interacts with Excel as expected.Scenario IIA problem appears, if I start Apache and mySQL as 'background jobs'. Here is how:I created two jobs using Windows 7 Task Planner. One runs apache_start.bat, the other runs mysql_start.bat.Both tasks run as SYSTEM with elevated privileges when Windows 7 boots.Apache and mySQL work as expected. Specifically, Apache serves HTTP request from clients and PHP is able to talk to mySQL.When I call the PHP controller, which calls and interacts with Excel using COM, I do receive an error.The error message comes from Excel [not COM itself] and reads like this:Excel can't read the specified Excel-fileExcel failed to save the file due to an ill-name worksheetInterestingly, the first during the first run of the PHP-based controller script, it takes a few seconds to render the error message. Each subsequent run immediately renders the error message.Windows system logs didn't show a single problem report entry.Note, that the PHP program and the Apache instance didn't change - except the way Apache was started.At least the PHP controller script is perfectly able to read the file-system, since it provides the pathes to the XLS-file through scandir() of a certain directory.Concurrency issues can't be the cause of the problem. A single instance of the specific PHP controller interacts with Excel.QuestionCould someone provide details, why this happens? Or provide ways to isolate the ultimate cause of the problem (e.g. by means of a PowerShell 2 script)?UPDATE-1 :: 2011-11-29As proposed, I switched the Task Planner job from SYSTEM to a conventional user. Works. Apache and MySQL get started and process request.Unfortunately, the situation regarding Excel did't change a bit. Still, I see the error.As assumed earlier, the EXCEL COM server starts. I'm able to change various settings (e.g. suppress dialogs) without a problem through the COM-instance. The problem happens while calling this: UPDATE-2 :: 2011-11-30Added the accounts USER, GUEST and EVERYONE with the READABLE right to the access control list of the XLS file . No change.Modified the app in such a way, that the PHP part creates a copy of the XLS file as a temporary file and moves the contents of the original file into this. Just to ensure, that the problem isn't forced by odd file / path names.Still, the problem persists.UPDATE-2 :: 2011-12-05I'm going to send the EXCEL COM-Server methods in such a way, that Excel creates a blank file and saves it to /tmp. Let's see, if Excel even isn't able to read this file. <code>  $excelComObject->Workbooks->Open( 'PathToXLSFile' );",Calling Excel from PHP 5 through COM fails on Windows 7 when Apache started through Task Planner
Calling Excel through COM fails on Windows 7 when Apache started through Task Planner," Hey folks, this question can't be too complicated. Please provide a solution to at least figure out the ultimate root cause of the problem. I currently write an application, which controls Excel through COM: The app creates a COM-based Excel instance, opens some XLS files and reads their contents.Scenario IOn Windows 7, I start Apache and mySQL using xmapp-control with system administrator rights. All works as expected. The PHP-based controller script interacts with Excel as expected.Scenario IIA problem appears, if I start Apache and mySQL as 'background jobs'. Here is how:I created two jobs using Windows 7 Task Planner. One runs apache_start.bat, the other runs mysql_start.bat.Both tasks run as SYSTEM with elevated privileges when Windows 7 boots.Apache and mySQL work as expected. Specifically, Apache serves HTTP request from clients and PHP is able to talk to mySQL.When I call the PHP controller, which calls and interacts with Excel using COM, I do receive an error.The error message comes from Excel [not COM itself] and reads like this:Excel can't read the specified Excel-fileExcel failed to save the file due to an ill-name worksheetInterestingly, the first during the first run of the PHP-based controller script, it takes a few seconds to render the error message. Each subsequent run immediately renders the error message.Windows system logs didn't show a single problem report entry.Note, that the PHP program and the Apache instance didn't change - except the way Apache was started.At least the PHP controller script is perfectly able to read the file-system, since it provides the pathes to the XLS-file through scandir() of a certain directory.Concurrency issues can't be the cause of the problem. A single instance of the specific PHP controller interacts with Excel.QuestionCould someone provide details, why this happens? Or provide ways to isolate the ultimate cause of the problem (e.g. by means of a PowerShell 2 script)?UPDATE-1 :: 2011-11-29As proposed, I switched the Task Planner job from SYSTEM to a conventional user. Works. Apache and MySQL get started and process request.Unfortunately, the situation regarding Excel did't change a bit. Still, I see the error.As assumed earlier, the EXCEL COM server starts. I'm able to change various settings (e.g. suppress dialogs) without a problem through the COM-instance. The problem happens while calling this: UPDATE-2 :: 2011-11-30Added the accounts USER, GUEST and EVERYONE with the READABLE right to the access control list of the XLS file . No change.Modified the app in such a way, that the PHP part creates a copy of the XLS file as a temporary file and moves the contents of the original file into this. Just to ensure, that the problem isn't forced by odd file / path names.Still, the problem persists.UPDATE-2 :: 2011-12-05I'm going to send the EXCEL COM-Server methods in such a way, that Excel creates a blank file and saves it to /tmp. Let's see, if Excel even isn't able to read this file. <code>  $excelComObject->Workbooks->Open( 'PathToXLSFile' );",Calling Excel from PHP 5 through COM fails on Windows 7 when Apache started through Task Planner
Symfony2 - convert datetime to string in a twig template," One of my fields in one of my entities is a ""datetime"" variable.How can I convert this field into a string to render in a browser?Here is a code snippet: Here is the variable in my entity class: And here is the error message I am getting: An exception has been thrown during the rendering of a template (""Catchable Fatal Error: Object of class DateTime could not be converted to string in ...\app\cache\dev\twig\9b\ad\58fd3bb1517632badf1fdc7fa4a8.php line 33"") in ""BeerBundle:Games:gameTable.html.twig"" at line 10. <code>  {% for game in games %} ... <td> {{game.gameTeamIdOne.teamName}} </td> <td> {{game.gameTeamIdTwo.teamName}} </td> <td> {{game.gameDate}}</td> </tr>{% endfor %} /** * @var date $gameDate * * @ORM\Column(name=""GAME_DATE"", type=""datetime"", nullable=true) */private $gameDate;",How to render a DateTime object in a Twig template
FPDF - Page break issue," I'm trying to create a PDF file with a table of data.. But when a page break is met it jumps to a new page everytime a new multicell is added to the page at the break point level..!?I have tried to do exactly the same with TCPDF, but still the same issue with a page break each time a new cell i added around the page break point level...example:http://www.online-konomi.dk/_tst_fpdf.php <code>  require_once '../class/download/fpdf/fpdf.php';class File_PDF { private $pdf; private $col_product = 25; private $col_unit = 12; private $col_price = 20; private $col_count = 14; private $col_discount = 12; private $col_vat = 12; private $col_sum = 22; private $width = 200; private $line_height = 4.2; private $margin_top = 30; public function generate(){ $this->pdf = new FPDF(); $this->pdf->AddPage(); $this->pdf->SetDisplayMode('real'); $this->pdf->SetAutoPageBreak(true, 150); if($this->products){ $i = 0; $this->color_light(); foreach($this->products as $product){ $this->add_product($product, $i % 2 ? true:false); $i++; } } $this->pdf->Output(); } private function add_product($product, $fill){ $this->txt(); $x = $this->width; $y = $this->pdf->GetY(); $this->cell_sum($this->col_sum, $x, $y, $product['sum'] / 100, 'R', $fill); $this->cell_vat($this->col_vat, $x, $y, $product['vat_percent'], 'R', $fill); $this->cell_discount($this->col_discount, $x, $y, $product['discount_percent'] / 100, 'R', $fill); $this->cell_count($this->col_count, $x, $y, $product['count'] / 100, 'R', $fill); $this->cell_price($this->col_price, $x, $y, $product['price'] / 100, 'R', $fill); $this->cell_unit($this->col_unit, $x, $y, $product['unit_name'], 'L', $fill); $this->cell_name(0, $x, $y, $product['name'], 'L', $fill); $this->cell_product($this->col_product, $x, $y, $product['product_id_'], 'L', $fill); } private function cell_sum($width, &$x, $y, $str, $align, $fill=false){ $this->cnstr_cell($width, $x, $y, $str, $align, $fill); } private function cell_vat($width, &$x, $y, $str, $align, $fill=false){ $this->cnstr_cell($width, $x, $y, $str, $align, $fill); } private function cell_discount($width, &$x, $y, $str, $align, $fill=false){ $this->cnstr_cell($width, $x, $y, $str, $align, $fill); } private function cell_count($width, &$x, $y, $str, $align, $fill=false){ $this->cnstr_cell($width, $x, $y, $str, $align, $fill); } private function cell_price($width, &$x, $y, $str, $align, $fill=false){ $this->cnstr_cell($width, $x, $y, $str, $align, $fill); } private function cell_unit($width, &$x, $y, $str, $align, $fill=false){ $this->cnstr_cell($width, $x, $y, $str, $align, $fill); } private function cell_name($width, &$x, $y, $str, $align, $fill=false){ $this->pdf->SetXY($this->col_product + 10, $y); $this->pdf->MultiCell($x - $this->col_product - 10, $this->line_height, $str, 0, $align, $fill); } private function cell_product($width, &$x, $y, $str, $align, $fill=false){ $this->pdf->SetXY(10, $y); $this->pdf->MultiCell($this->col_product, $this->line_height, $str, 0, $align, $fill); } private function cnstr_cell($width, &$x, $y, $str, $align='L', $fill=false){ $x -= $width; $this->pdf->SetXY($x, $y); $this->pdf->MultiCell($width, $this->line_height, $str, 0, $align, $fill); } private function color_light(){ $this->pdf->SetFillColor(200, 200, 200); } private function txt(){ $this->pdf->SetFont('Arial', '', 8.5); } private function txt_marked(){ $this->pdf->SetFont('Arial', 'B', 8.5); } private $products = array( array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ), array( 'product_id_' => 'ADS1550', 'name' => 'name', 'unit_name' => 'pcs', 'price' => 182450000, 'count' => 310000, 'discount_percent' => 19900, 'vat_percent' => 0, 'sum' => 1587057200 ) );}$PDF = new File_PDF();$PDF->generate();",TCPDF / FPDF - Page break issue
More accurate Vim jump to PHP definition," I know that it is possible to use Ctrl+] to jump to a definition in Vim and this can work in conjunction whith either ctags or Cscope. I am looking for a more accurate alternative to both ctags and Cscope when working PHP. Sometimes there are multiple possible results to choose from or false positives. I only want to jump to the actual definition of whatever is under the cursor. Ideally this should work for variables, functions, constants, and classes.I don't see why this can't be done by analyzing the files. I have finally overcome just about every other annoyance/misunderstanding I have with Vim by learning and customizing, so if I could nail this one it would be awesome.Also, do other's agree that Cscope and ctags are not accurate enough for PHP or am I doing something wrong?UPDATE4 years later, I am still using Vim with PHP, and still having this problem. I have tried eclim, ctags, exubarant-ctags, universal-ctags, and cscope. I have tried passing various arguments to these programs to get them to generate better tags. The experience is very poor for all of these options.But I understand the problem much better now. There might be nothing wrong with the tags generated by these programs. The problem seems to be that when you press Ctrl + ] in Vim or Neovim, it just looks for a tag by that name. It is not looking at the context of the file you are editing to see which tag by that name it should use. It does not even understand what language you are editing, and look for tags from code in that language.Is there a way to make vim search through the tags file more intelligently, based on the context, and then jump to the most likely location? You know, like what would happen inside a good IDE? <code> ",More accurate alternative/workaround to ctags/Cscope for PHP?
More accurate ctags/Cscope for PHP?," I know that it is possible to use Ctrl+] to jump to a definition in Vim and this can work in conjunction whith either ctags or Cscope. I am looking for a more accurate alternative to both ctags and Cscope when working PHP. Sometimes there are multiple possible results to choose from or false positives. I only want to jump to the actual definition of whatever is under the cursor. Ideally this should work for variables, functions, constants, and classes.I don't see why this can't be done by analyzing the files. I have finally overcome just about every other annoyance/misunderstanding I have with Vim by learning and customizing, so if I could nail this one it would be awesome.Also, do other's agree that Cscope and ctags are not accurate enough for PHP or am I doing something wrong?UPDATE4 years later, I am still using Vim with PHP, and still having this problem. I have tried eclim, ctags, exubarant-ctags, universal-ctags, and cscope. I have tried passing various arguments to these programs to get them to generate better tags. The experience is very poor for all of these options.But I understand the problem much better now. There might be nothing wrong with the tags generated by these programs. The problem seems to be that when you press Ctrl + ] in Vim or Neovim, it just looks for a tag by that name. It is not looking at the context of the file you are editing to see which tag by that name it should use. It does not even understand what language you are editing, and look for tags from code in that language.Is there a way to make vim search through the tags file more intelligently, based on the context, and then jump to the most likely location? You know, like what would happen inside a good IDE? <code> ",More accurate alternative/workaround to ctags/Cscope for PHP?
VIM - More accurate ctags/Cscope for PHP?," I know that it is possible to use Ctrl+] to jump to a definition in Vim and this can work in conjunction whith either ctags or Cscope. I am looking for a more accurate alternative to both ctags and Cscope when working PHP. Sometimes there are multiple possible results to choose from or false positives. I only want to jump to the actual definition of whatever is under the cursor. Ideally this should work for variables, functions, constants, and classes.I don't see why this can't be done by analyzing the files. I have finally overcome just about every other annoyance/misunderstanding I have with Vim by learning and customizing, so if I could nail this one it would be awesome.Also, do other's agree that Cscope and ctags are not accurate enough for PHP or am I doing something wrong?UPDATE4 years later, I am still using Vim with PHP, and still having this problem. I have tried eclim, ctags, exubarant-ctags, universal-ctags, and cscope. I have tried passing various arguments to these programs to get them to generate better tags. The experience is very poor for all of these options.But I understand the problem much better now. There might be nothing wrong with the tags generated by these programs. The problem seems to be that when you press Ctrl + ] in Vim or Neovim, it just looks for a tag by that name. It is not looking at the context of the file you are editing to see which tag by that name it should use. It does not even understand what language you are editing, and look for tags from code in that language.Is there a way to make vim search through the tags file more intelligently, based on the context, and then jump to the most likely location? You know, like what would happen inside a good IDE? <code> ",More accurate alternative/workaround to ctags/Cscope for PHP?
VIM - More accurate alternative/workaround to ctags/Cscope for PHP?," I know that it is possible to use Ctrl+] to jump to a definition in Vim and this can work in conjunction whith either ctags or Cscope. I am looking for a more accurate alternative to both ctags and Cscope when working PHP. Sometimes there are multiple possible results to choose from or false positives. I only want to jump to the actual definition of whatever is under the cursor. Ideally this should work for variables, functions, constants, and classes.I don't see why this can't be done by analyzing the files. I have finally overcome just about every other annoyance/misunderstanding I have with Vim by learning and customizing, so if I could nail this one it would be awesome.Also, do other's agree that Cscope and ctags are not accurate enough for PHP or am I doing something wrong?UPDATE4 years later, I am still using Vim with PHP, and still having this problem. I have tried eclim, ctags, exubarant-ctags, universal-ctags, and cscope. I have tried passing various arguments to these programs to get them to generate better tags. The experience is very poor for all of these options.But I understand the problem much better now. There might be nothing wrong with the tags generated by these programs. The problem seems to be that when you press Ctrl + ] in Vim or Neovim, it just looks for a tag by that name. It is not looking at the context of the file you are editing to see which tag by that name it should use. It does not even understand what language you are editing, and look for tags from code in that language.Is there a way to make vim search through the tags file more intelligently, based on the context, and then jump to the most likely location? You know, like what would happen inside a good IDE? <code> ",More accurate alternative/workaround to ctags/Cscope for PHP?
display a string that contains HTML in twig template, How can I display a string that contains HTML tags in twig template?My PHP variable contains this html and text: When I do this in my twig template: I get this: I want this instead: Is it possible to get this easily? <code>  $word = '<b> a word </b>'; {{ word }} &lt;b&gt; a word &lt;b&gt; <b> a word </b>,How to display string that contains HTML in twig template?
Display a string that contains HTML in twig template, How can I display a string that contains HTML tags in twig template?My PHP variable contains this html and text: When I do this in my twig template: I get this: I want this instead: Is it possible to get this easily? <code>  $word = '<b> a word </b>'; {{ word }} &lt;b&gt; a word &lt;b&gt; <b> a word </b>,How to display string that contains HTML in twig template?
"Comparing PHP float variables - same number, but does not equal"," Possible Duplicate: How should I do floating point comparison? php integer and float comparison mismatch I have two variables, $_REQUEST['amount'] and $carttotal, on an e-commerce thing. They of course should match when attempting to process a payment, so as to prevent a manual override of the payment amount at the last minute, or of course, a calculation error. However: The above code, with the same numbers passed, is NOT giving me the equal. Basically I get the error message as if the $carttotal != $_REQUEST['amount'] is true (unequal vars). So to test the vars, I snuck in: To see what is going on (after I do the * 1 calculations to make sure they are dealt with as floats, not strings). I got this back: Very very frustrating. What could be causing this?  <code>  $carttotal = $carttotal * 1;$_REQUEST['amount'] = $_REQUEST['amount'] * 1;if($carttotal != $_REQUEST['amount']) { $code = 0; // cart empty under this user - cannot process payment!!! $message = 'The cart total of ' . $carttotal . ' does not match ' . $_REQUEST['amount'] . '. Cannot process payment.'; $amount = $carttotal; $json = array('code' => $code, 'message' => $message, 'amount' => $amount); die(json_encode($json));} else { $trnOrderNumber = $client->id . '-' . $carttotal;} var_dump($_REQUEST['amount']);var_dump($carttotal); float(168.57)float(168.57)","Comparing floats - same number, but does not equal?"
php isset() in array," I have some strange issue with isset() function in PHP.Let me show... . The var_dump's will return: Why the sixth var_dump() return TRUE ? <code>  <?php$aTestArray = array( 'index' => array( 'index' => 'Gwna' ), 'dodaj' => 'Dodaj ogoszenie',);var_dump( isset($aTestArray['index']) );var_dump( isset($aTestArray['index']['index']) );var_dump( isset($aTestArray['dodaj']) );var_dump( isset($aTestArray['index']['none']) );var_dump( isset($aTestArray['index']['none']['none2']) );// This unexpectedly returns TRUEvar_dump( isset($aTestArray['dodaj']['none']) );var_dump( isset($aTestArray['dodaj']['none']['none2']) );?> bool(true)bool(true)bool(true)bool(false)bool(false)bool(true)bool(false)",php isset() on a string variable using a string as index
PHP - File Upload Error no 4.," I am trying to upload multiple files to my server. If I try to upload a single file, it works fine. but if I try more than one, it gives me an error code 4, even though it does print the name of all the files correctly. Nothing is uploaded. I have the input type set correctly. Can someone help me? Below is the code: and my HTML form <code>  Choose Image:&nbsp;&nbsp;<input name=""uploadedfile[]"" type=""file"" multiple=""true""/><br /><br /><br /> <input type=""submit"" value=""Upload Image!"" style=""margin-left:100px;""/> $i=0;foreach($_FILES['uploadedfile']['name'] as $f){ $file['name'] = $_FILES['uploadedfile']['name'][$i]; $file['type'] = $_FILES['uploadedfile']['type'][$i]; $file['tmp_name'] = $_FILES['uploadedfile']['tmp_name'][$i]; $file['error'] = $_FILES['uploadedfile']['error'][$i]; $file['size'] = $_FILES['uploadedfile']['size'][$i]; if ($file[""error""] > 0) { echo ""Error Code: "" . $file[""error""]; } $target_path = ""uploads/"".basename($file[""name""]); if(move_uploaded_file($file[""tmp_name""], $target_path)) { echo basename($file['name']).""<br />""; echo basename($file['tmp_name']).""<br />""; echo $target_path; } else{ echo ""There was an error uploading the file, please try again!""; } $i++;} <div id=""album_slider""> <div style=""text-align:center;margin:20px auto;font-size:27px;"">Upload Image</div> <br style=""clear:both;font-size:0;line-height:0;height:0;""/> <div style=""width:700px;margin:auto;height:250px;text-align:left;""> <form enctype=""multipart/form-data"" action=""uploader.php"" method=""POST"" name=""form""> Image Name:&nbsp;&nbsp;&nbsp;&nbsp;<input type=""text"" name=""image_name"" id=""image_name""/><br /><br /><br /> <input type=""hidden"" name=""a_id"" id=""a_id"" value=""<?php echo $a_id; ?>""/> Choose Image:&nbsp;&nbsp;<input name=""uploadedfile[]"" type=""file"" multiple=""true""/><br /><br /><br /> <input type=""submit"" value=""Upload Image!"" style=""margin-left:100px;""/> </form> </div> <br style=""clear:both;font-size:0;line-height:0;height:1px;""/></div>",Troubleshooting file upload error code 4
PHP - File Upload Error no 4," I am trying to upload multiple files to my server. If I try to upload a single file, it works fine. but if I try more than one, it gives me an error code 4, even though it does print the name of all the files correctly. Nothing is uploaded. I have the input type set correctly. Can someone help me? Below is the code: and my HTML form <code>  Choose Image:&nbsp;&nbsp;<input name=""uploadedfile[]"" type=""file"" multiple=""true""/><br /><br /><br /> <input type=""submit"" value=""Upload Image!"" style=""margin-left:100px;""/> $i=0;foreach($_FILES['uploadedfile']['name'] as $f){ $file['name'] = $_FILES['uploadedfile']['name'][$i]; $file['type'] = $_FILES['uploadedfile']['type'][$i]; $file['tmp_name'] = $_FILES['uploadedfile']['tmp_name'][$i]; $file['error'] = $_FILES['uploadedfile']['error'][$i]; $file['size'] = $_FILES['uploadedfile']['size'][$i]; if ($file[""error""] > 0) { echo ""Error Code: "" . $file[""error""]; } $target_path = ""uploads/"".basename($file[""name""]); if(move_uploaded_file($file[""tmp_name""], $target_path)) { echo basename($file['name']).""<br />""; echo basename($file['tmp_name']).""<br />""; echo $target_path; } else{ echo ""There was an error uploading the file, please try again!""; } $i++;} <div id=""album_slider""> <div style=""text-align:center;margin:20px auto;font-size:27px;"">Upload Image</div> <br style=""clear:both;font-size:0;line-height:0;height:0;""/> <div style=""width:700px;margin:auto;height:250px;text-align:left;""> <form enctype=""multipart/form-data"" action=""uploader.php"" method=""POST"" name=""form""> Image Name:&nbsp;&nbsp;&nbsp;&nbsp;<input type=""text"" name=""image_name"" id=""image_name""/><br /><br /><br /> <input type=""hidden"" name=""a_id"" id=""a_id"" value=""<?php echo $a_id; ?>""/> Choose Image:&nbsp;&nbsp;<input name=""uploadedfile[]"" type=""file"" multiple=""true""/><br /><br /><br /> <input type=""submit"" value=""Upload Image!"" style=""margin-left:100px;""/> </form> </div> <br style=""clear:both;font-size:0;line-height:0;height:1px;""/></div>",Troubleshooting file upload error code 4
Proper and fast way to TELNET in PHP. Sockets are damn slow or how to TELNET with PHP cURL?," Almost all examples of the TELNET implementations in PHP are with sockets (fsockopen). This does not work for me, because it takes an unacceptable amount of time (~ 60 seconds).I have tried fsockopen for other purposes and found it slow in contrast to cURL.Question #1: Why are sockets that slow?Update: I found we need to set stream_set_timeout function, and we can control the socket execution time. I'm curious how to set the proper timeout or how to make it ""stop waiting"" once the response is received.I can't get the same thing implemented with cURL. Where should I put the commands which I need to send to telnet? Is CURLOPT_CUSTOMREQUEST the proper option? I'm doing something like this: And then something similar to this: I am getting ""Max execution time exceeded 30 seconds"" on curl_exec command.Question #2: What is wrong with the cURL implementation? <code>  class TELNETcURL{ public $errno; public $errstr; private $curl_handle; private $curl_options = array( CURLOPT_URL => ""telnet://XXX.XXX.XXX.XXX:<port>"", CURLOPT_TIMEOUT => 40, CURLOPT_RETURNTRANSFER => TRUE, CURLOPT_HEADER => FALSE, CURLOPT_PROTOCOLS => CURLPROTO_TELNET ); function __construct(){ $this->curl_handle = curl_init(); curl_setopt_array($this->curl_handle, $this->curl_options); } public function exec_cmd($query) { curl_setopt($this->curl_handle, CURLOPT_CUSTOMREQUEST, $query.""\r\n""); $output = curl_exec($this->curl_handle); return $output; } function __destruct(){ curl_close($this->curl_handle); }} $telnet = new TELNETcURL();print_r($telnet->exec_cmd(""<TELNET commands go here>"")); ",Proper and fast way to TELNET in PHP. Sockets or cURL
How to implement custom pagination in Yii?," I am new to Yii. I want to implement custom pagination. I want to change the appearance of the pager. How do I change the labels of the pager's links?I want the links to appear like so: instead of their default appearance, which is like this: I am using CListView to display the data, which I have set up like this: Can anyone please tell me how do I start with it? I've seen some posts but unable to get right information.Thanks in advance. <code>  << < 1 2 3 4 > >> [first] [previous] 1 2 3 4 [next] [last] $this->widget('zii.widgets.CListView', array( 'dataProvider' => $categoryProjects, 'itemView' => '_itemDetailsView', 'ajaxUpdate'=>false, ));",How can I customize the labels for the pager in Yii?
phpize wont work on Mac OS X Lion," I try to install xdebug but I get the follow error message about 'phpize'.How can I fix this thing? <code>  leny:~ nick$ sudo pecl install xdebugPassword:downloading xdebug-2.1.2.tgz ...Starting to download xdebug-2.1.2.tgz (304,229 bytes)............done: 304,229 bytes66 source files, buildingrunning: phpizeConfiguring for:PHP Api Version: 20090626Zend Module Api No: 20090626Zend Extension Api No: 220090626Cannot find autoconf. Please check your autoconf installation and the$PHP_AUTOCONF environment variable. Then, rerun this script.ERROR: `phpize' failed",phpize won't work on Mac OS X Lion
PHP get URL query string," What is the ""less code needed"" way to get parameters from a URL query string which is formatted like the following? www.mysite.com/category/subcategory?myqueryhashOutput should be: myqueryhashI am aware of this approach: <code>  www.mysite.com/category/subcategory?q=myquery<?php echo $_GET['q']; //Output: myquery?>",Get URL query string parameters
Get URL query string," What is the ""less code needed"" way to get parameters from a URL query string which is formatted like the following? www.mysite.com/category/subcategory?myqueryhashOutput should be: myqueryhashI am aware of this approach: <code>  www.mysite.com/category/subcategory?q=myquery<?php echo $_GET['q']; //Output: myquery?>",Get URL query string parameters
Remove 4(+)-byte characters from a UTF-8 string," It seems like MySQL does not support characters with more than 3 bytes in its default UTF-8 charset.So, in PHP, how can I get rid of all 4(-and-more)-byte characters in a string and replace them with something like by some other character? <code> ",How to replace/remove 4(+)-byte characters from a UTF-8 string in PHP?
execute root commands via PHP," I have a CentOS 5.7 linux server and use php5.3.x.On a pfSense system, you can restart services-that required root permissions using a php web page.I'm trying to do something similar, I have written some php code to execute shell commands. For example, to restart the sshd service: and I tried to execute that command via exec function, but it needs root permission, but we have a apache user authority.I have come across a few solutions:""run apache with root user"" really unsafe. I do not want to do that.""apache ALL=NOPASSWD:/sbin/service to /etc/sudoers""I tried but and still have a problem.Any other solutions? Thanks for answers.now.. it's interesting. i tried @refp post and it worked my local ubuntu server. But when i tried same at my cenOS vps server. It's not working.and that is apache's error log ""rm: cannot remove `/var/lock/subsys/vsftpd': Permission denied""  <code>  <?phpexec('/sbin/service sshd restart');?>",Execute root commands via PHP
php | Checking if a url has http:// at the begining & inserting if not," I am currently editing a wordpress theme with custom field outputs.I have successfully made all the edits and everything works as it should.My problem is that if a url is submitted into the custom field, the echo is exactly what was in there, so if someone enters www.somesite.com the echo is just that and adds it to the end of the domain: www.mysite.com www.somesite.com .I want to check to see if the supplied link has the http:// prefix at the beginning, if it has then do bothing, but if not echo out http:// before the url.I hope i have explained my problem as good as i can. <code>  $custom = get_post_meta($post->ID, 'custom_field', true);<?php if ( get_post_meta($post->ID, 'custom_field', true) ) : ?> <a href=""<?php echo $custom ?>""> <img src=""<?php echo bloginfo('template_url');?>/lib/images/social/image.png""/></a> <?php endif; ?>",Checking if a url has http:// at the beginning & inserting if not
Checking if a url has http:// at the begining & inserting if not," I am currently editing a wordpress theme with custom field outputs.I have successfully made all the edits and everything works as it should.My problem is that if a url is submitted into the custom field, the echo is exactly what was in there, so if someone enters www.somesite.com the echo is just that and adds it to the end of the domain: www.mysite.com www.somesite.com .I want to check to see if the supplied link has the http:// prefix at the beginning, if it has then do bothing, but if not echo out http:// before the url.I hope i have explained my problem as good as i can. <code>  $custom = get_post_meta($post->ID, 'custom_field', true);<?php if ( get_post_meta($post->ID, 'custom_field', true) ) : ?> <a href=""<?php echo $custom ?>""> <img src=""<?php echo bloginfo('template_url');?>/lib/images/social/image.png""/></a> <?php endif; ?>",Checking if a url has http:// at the beginning & inserting if not
Would you rather use the DateTime class or native php date-functions?," The DateTime class sure has some handy methods and seems overall superior to the native PHP date functions like strtotime, mktime and strftime (and more). But is there any drawback or a reason why I shouldn't use it ?The only reason I can think of is that it might be more expensive to create a whole instance of a class than just using a function. Would you agree with that ?Does it make sense at all to use a DateTime object for simple stuff?Are there any other drawbacks ?It seems a bit confusing to switch between those two options all the time, so I'd like to have clearance what I should prefer doing.Two examples for my decision would be:Converting a date to a localized value Calculating the time between two dates <code> ",DateTime class vs. native PHP date-functions
Where do you rather prefer the DateTime class to native php date-functions?," The DateTime class sure has some handy methods and seems overall superior to the native PHP date functions like strtotime, mktime and strftime (and more). But is there any drawback or a reason why I shouldn't use it ?The only reason I can think of is that it might be more expensive to create a whole instance of a class than just using a function. Would you agree with that ?Does it make sense at all to use a DateTime object for simple stuff?Are there any other drawbacks ?It seems a bit confusing to switch between those two options all the time, so I'd like to have clearance what I should prefer doing.Two examples for my decision would be:Converting a date to a localized value Calculating the time between two dates <code> ",DateTime class vs. native PHP date-functions
PHP: Fastest method to parse url params into variables?," Possible Duplicate: Parse query string into an arrayWhat's the fastest method, to parse a string of URL parameters into an array of accessible variables? I've tested a regular expression, but this takes way too long. My script needs to parse about 10000+ URLs at once sometimes :-(KISS - keep it simple, stupid <code>  $current_param = 'name=Peter&car=Volvo&pizza=Diavola&....';// Results in a nice array that I can pass:$result = array ( 'name' => 'Peter', 'car' => 'Volvo', 'pizza' => 'Diavola')",Fastest method to parse URL parameters into variables in PHP
"is ""->"" in php similar to ""."" in javascript?"," In other words, php and is equivalent to, js: and I am curious, or is my php and js understanding messed up? <code>  $object->method(); $object->property = 'someValue'; $object.method(); $object.property = 'someValue';","is ""->"" in php similar (a.k.a equivalent) to ""."" in javascript?"
"Are REPLACE,UPDATE and INSERT are same in mysql?"," Can someone please explain the differences between REPLACE, INSERT and UPDATE in MySql? <code> ","What are the differences between REPLACE, INSERT, UPDATE in MySql?"
"Solutioin for ""Fatal error: Maximum function nesting level of '100' reached, aborting!"" in PHP"," I have made a function that finds all the URLs within an html file and repeats the same process for each html content linked to the discovered URLs. The function is recursive and can go on endlessly. However, I have put a limit on the recursion by setting a global variable which causes the recursion to stop after 100 recursions.However, php returns this error:Fatal error: Maximum function nesting level of '100' reached,aborting! inD:\wamp\www\crawler1\simplehtmldom_1_5\simple_html_dom.php on line1355I found a solution here: Increasing nesting function calls limit but this is not working in my case.I am quoting one of the answers from the link mentioned above. Please do consider it.""Do you have Zend, IonCube, or xDebug installed? If so, that is probably where you are getting this error from.I ran into this a few years ago, and it ended up being Zend putting that limit there, not PHP. Of course removing it will let >you go past the 100 iterations, but you will eventually hit the memory limits.""Is there a way to increase the maximum function nesting level in PHP <code> ","Solution for ""Fatal error: Maximum function nesting level of '100' reached, aborting!"" in PHP"
build dynamic array in php," I need to create an array using a object using different format/structureI have: I need to get: Here's what I tried and where I'm stuck Now I get an error: PHP Parse error: syntax error, unexpected T_LNUMBER, expecting T_STRING or T_VARIABLE or '{' or '$' in homework1-a-1.php on line 10What can I do to fix it? <code>  $t = object()$t > user = object()$t > user > 0 (object) name = 'wilson';$t > user > 0 (object) first = 'carl'; $t = array( name = wilson first name = phil foreach($t as $a) { foreach($a as $l) { $arr[$l->0->name] = $l->0->first; // line 10 } } print_r($arr);",Build dynamic array in PHP
unable to connect to Redis via php," Port 6379 is open on the server, and I can successfully run telnet localhost 6379 in SSH.I tried both Predis/phpredis client library in PHP, but it still does not work:Predis gives ""Permission denied"" error when opening socket to 6379.phpredis gives ""redis server went away"". <code> ","Troubleshooting ""Permission denied"" when attempting to connect to Redis from PHP script"
How to generate diacritized vowel table automaticly?," I want to have the table of vowels with diacritics, but don't want to search symbol tables manually. Is it possible to generate this table by crossing the list of vowels and the list of diacritics in some of the following languages: Java, PHP, Wolfram Mathematica, .NET languages and so on?I need to have characters (unicode) as output.Java SolutionI found that there are a special Unicode feature for this: http://en.wikipedia.org/wiki/Unicode_normalizationJava supports it since 1.6 http://docs.oracle.com/javase/6/docs/api/java/text/Normalizer.htmlSo, the sample code is: I.e. we just put combining diacritics after vowels and then apply normalization to the string. <code>  public static void main(String[] args) { String vowels = ""aeiou""; char[] diacritics = {'\u0304', '\u0301', '\u0300', '\u030C'}; StringBuilder sb = new StringBuilder(); for(int v=0; v<vowels.length(); ++v) { for(int d=0; d<diacritics.length; ++d) { sb.append(vowels.charAt(v)); sb.append(diacritics[d]); sb.append(' '); } sb.append(vowels.charAt(v)); sb.append('\n'); } String ans = Normalizer.normalize(sb.toString(), Normalizer.Form.NFC); JOptionPane.showMessageDialog(null, ans);}",How to generate diacritized vowel table automatically?
PHP: How to assign a variable to one of two strings if one is blank?," I am wondering why this doesn't work to assign a string to $separator: Elsewhere, $option has been assigned to some text or an empty string. (Actually, in my real life case, it's some text, or FALSE, but either way). $separator is TRUE instead of a string.The following accomplishes what I want, but seems unnecessarily verbose: I come from JavaScript, where both these examples have the same result, which seems logical to me. What do I need to understand about PHP for this to make sense? Right now, I'm just annoyed by the hundreds of extra characters this will require for every place an option gets used. <code>  $separator = $options['title-separator'] || ' | '; $separator = ( $s = $options['title-separator'] ) ? $s : ' | ';",How to assign a variable to one of two strings if one is blank?
`gcc: error trying to exec 'cc1': execvp: No such file or directory` When compile program with `popen` in php," When I compile C/C++ program with popen in php... I got this error: but if I run php code in shell.. it works fine..in Arch Linux..PHP Code: thanks <code>  g++: error trying to exec 'cc1plus': execvp: No such file or directory <?php function rfile($fp) { $out=""""; while (!feof($fp)) { $out.= fgets($fp, 1024000); } return $out; } $p = popen('g++ -Wall -g aplusb.cc -o aplusb 2>&1', 'r'); $result = rfile($p); pclose($p); echo $result;?>","Compile error: ""g++: error trying to exec 'cc1plus': execvp: No such file or directory"""
PHP-CURL curl_multi_exec is it really multithreaded internally?," My question is very simple as stated in title. However I rephrase it again. I want to download multiple sites using php-curl. I'll run it from console. I am going to use curl_multi_exec to download all the sites. Now the question, will curl create different threads for each of the request? I know I can achieve it by forking multiple processes. But thats not threading. I dont want threading. I want to know if its multi-threaded? <code> ",Is PHP-CURL's curl_multi_exec really multithreaded internally?
validate php seo url," I have rules in my .htaccess for pages, show property id etc...I want to make sure I validate every parameter I get to the right query im getting.I have: so in my php I do: and Now I need to secure them but I want to know which method is best to use to secure these and that is where im lost. <code>  RewriteRule ^(.*)$ page.php?page=$1RewriteRule ^property/(.*)$ property.php?pid=$1 $page = $_GET['page']; $propertyid = $_GET['pid'];",Validate url parameters in php
validate url parameters in php," I have rules in my .htaccess for pages, show property id etc...I want to make sure I validate every parameter I get to the right query im getting.I have: so in my php I do: and Now I need to secure them but I want to know which method is best to use to secure these and that is where im lost. <code>  RewriteRule ^(.*)$ page.php?page=$1RewriteRule ^property/(.*)$ property.php?pid=$1 $page = $_GET['page']; $propertyid = $_GET['pid'];",Validate url parameters in php
why doesN'T PHP throw a parse error here?," There are lots of ""Why does PHP throw an error here?"" questions. Well, this is a little different. I found the following code while reworking some code written by a coworker: My first thought: ""Umm...how embarrassing; he must have accidentally pasted that in there..."" followed by: ""Wait...there's no way this code actually runs...that should be a syntax error"". And yet: And indeed, (like so much PHP code that seemingly shouldn't run) it runs in production without trouble. So I did a little testing: What little tidbit of PHP's grammar is producing such strange results?(I am using PHP 5.3.5) <code>  foreach($arr as $key => $value) {http://google.com/ echo $value; // ...} $ php -l test.php No syntax errors detected foreach($arr as $key => $value) {http://google.com/ <-- original, no errorforeach($arr as $key => $value) {http: <-- also no syntax errorforeach($arr as $key => $value) {http <-- bingo! ""Unexpected T_ECHO...""",why is PHP not throwing a parse error?
Copy of object identifier and reference of object identifier - which one should be used in real app?," In the below example, any operation done by $instance2 and $instance3 modifies original object.My question is:If a copy of an original object identifier and a reference to the original object identifier does same job, which one should be used in real applications?What are the pros and cons of using a copy of object identifier and of using a reference to the object identifier? I read the PHP manual but am unable to differentiate in terms of usage because both do the same job. <code>  $instance1 = new test(1);$instance2 = $instance1;$instance3 =& $instance1;//$instance1 -> original object identifier of the new object.//$instance2 -> copy of object identifier $instance1//$instance3 -> reference to the object identifier $instance1",Copy of object identifier and reference to object identifier - which one should be used in real app?
"MySQL ""RELACE INTO"" using a SELECT to pull one field"," I've got a MySQL database that has two tables (actually many more). The first table links a product's SKU number to an arbitrary ID. There is a second table that records the End of Day inventory for each item based on this ID. When the inventory is changed for reasons OTHER than sales, there is a record placed in this second table with a Boolean set to false. This allows me to say that this new number is not valid as a vector for sales previous, but is for the next day's sales.There is some syntax error in this code. I'm still a student, and would greatly appreciate the help in explaining how this kind of update would work. I know the first value needs to come from the select statement?Here is my current MySQL statement: <code>  REPLACE INTO sales (`itemID`, `date`, `qty`, `price`) VALUES ([itemID], CURDATE(), [qty], 0.00) SELECT itemID FROM item WHERE `sku` = [sku]","MySQL ""REPLACE INTO"" using a SELECT to pull one field"
The correct way to delete all files older than 2 days in PhP," Just curious I just want to make sure if the code is correct or not. Thanks. <code>  $files = glob(cacheme_directory().""*""); foreach($files as $file) { $filemtime=filemtime ($file); if (time()-$filemtime>= 172800) { unlink($file); } }",The correct way to delete all files older than 2 days in PHP
fullcalendar dayClick and select methods conflicts," Hello,I am using arshaw fullcalendar v1.5.2 (only month view ) for property booking website , its a great plugin but I stuck in few problem, I have seen similar issues on google code , but there is nothing clear really. :(, Please help me to solve these problemsHere is working demo and JS CodeWhat I have done so farFetched events data from two different json files belowjson_events.php : this holds booking detail which is booked from front end by user; admin can not change any details of these type of events. new_charges.php : this holds special charges events detail ,admin add/update delete the new charges for any future date(s) . admin can view the details of any event when he click on an eventadmin can add/edit and delete new events on calendar for future dates or range of dates, that will stored on new_charges.php here is my issuesa) I want that only one event is allowed for a date(s).b) Currently if user click on a day on which any booking event or special charges event is there, then it alerts that day is booked, but after that it will show a prompt box to enter event title, this is occured because I have used both dayClick and select methods c) suppose a day 15 january (wrapped by fc-day17 div) is booked ( I have applied a class booked for events ) and now when I go to next month and click on fc-day17 div, it also alert that day is booked whereas there is no booking by examining the code i found that it still have the class booked for another months for the same divs I think there is something missing during eventRender methods? d) I have changed background-color for special charges events during rendering events via json file, but when I delte that events, it does not change back the normal background and still say that day is booked. e) how to hide all events related to previous months? <code>  How do i stops further propagation if a day already have an event ? does `eventRender()` method is called only once when initialize the calendar or each time when we go `prev` or `next` month? how do I make default background of a date if I delete the events of that day??",arshaw fullcalendar :  several issue
fullcalendar several issues," Hello,I am using arshaw fullcalendar v1.5.2 (only month view ) for property booking website , its a great plugin but I stuck in few problem, I have seen similar issues on google code , but there is nothing clear really. :(, Please help me to solve these problemsHere is working demo and JS CodeWhat I have done so farFetched events data from two different json files belowjson_events.php : this holds booking detail which is booked from front end by user; admin can not change any details of these type of events. new_charges.php : this holds special charges events detail ,admin add/update delete the new charges for any future date(s) . admin can view the details of any event when he click on an eventadmin can add/edit and delete new events on calendar for future dates or range of dates, that will stored on new_charges.php here is my issuesa) I want that only one event is allowed for a date(s).b) Currently if user click on a day on which any booking event or special charges event is there, then it alerts that day is booked, but after that it will show a prompt box to enter event title, this is occured because I have used both dayClick and select methods c) suppose a day 15 january (wrapped by fc-day17 div) is booked ( I have applied a class booked for events ) and now when I go to next month and click on fc-day17 div, it also alert that day is booked whereas there is no booking by examining the code i found that it still have the class booked for another months for the same divs I think there is something missing during eventRender methods? d) I have changed background-color for special charges events during rendering events via json file, but when I delte that events, it does not change back the normal background and still say that day is booked. e) how to hide all events related to previous months? <code>  How do i stops further propagation if a day already have an event ? does `eventRender()` method is called only once when initialize the calendar or each time when we go `prev` or `next` month? how do I make default background of a date if I delete the events of that day??",arshaw fullcalendar :  several issue
Throwing exceptions in a Try Catch block in a function within a Drupal 6 module," I have a PHP function in a Drupal 6 .module file. I am attempting to run initial variable validations prior to executing more intensive tasks (such as database queries). In C#, I used to implement IF statements at the beginning of my Try block that threw new exceptions if a validation failed. The thrown exception would be caught in the Catch block. The following is my PHP code: However, when I try to run the code, it's telling me that objects can only be thrown within the Catch block.Thanks in advance! <code>  function _modulename_getData($field, $table) { try { if (empty($field)) { throw new Exception(""The field is undefined.""); } // rest of code here... } catch (Exception $e) { throw $e->getMessage(); }}",Throwing exceptions in a PHP Try Catch block
"""Transiet"" properties in a PHP class?"," I've worked with PHP for a few years now, but up until now never had a need to deal with serialisation explicitly, only using the $_SESSION. Now I have a project that requires me to manually implement serialisation mechanism for certain data - and I realise that the issue is applicable to $_SESSION as well.I have a class that contains a number of properties. Most of these properties are small (as in memory consumption): numbers, relatively short strings, etc. However the class also contains some properties, which may contain HUGE arrays (e.g. an entire dump of a database table: 100,000 rows with 100 fields each). As it happens, this is one of the classes that needs to be serialised/deserialised - and, luckly, the properties containing large arrays don't need to be serialised, as they are essentially temporary pieces of work and are rebuilt anyway as necessary.In such circumstances in Java, I would simply declare the property as transient - and it would be omitted from serialisaion. Unfortunately, PHP doesn't support such qualifiers.One way to deal with is it to have something like this: However this is rather cumbersome, as I would need to update serialize method every time I add another transient property. Also, once the inheritance comes into play, this becomes even more complicated - to deal with, as transient properties may be in both subclass and the parent. I know, it's still doable, however I would prefer to delegate as much as possible to the language rather than reinvent the wheel.So, what's the best way to deal with transient properties? Or am I missing something and PHP supports this out of the box? <code>  class A implements Serializable{ private $var_small = 1234; private $var_big = array( ... ); //huge array, of course, not init in this way public function serialize() { $vars = get_object_vars($this); unset($vars['var_big']); return serialize($vars); } public function unserialize($data) { $vars = unserialize($data); foreach ($vars as $var => $value) { $this->$var = $value; } }}","""Transient"" properties in a PHP class?"
PHP cURL Content-Length und Content-Type wrong," I'm trying to login to a site via PHP cURL and I'm only getting ""Bad Request"" responses. I played around with hosts file and set it to my server to check which Request Headers my browser sends and compare it to the request headers sent by cURL.Everything is equal, except of:Browser: PHP cURL: I already set that values with this command, but it still sends the wrong headers: <code>  Content-Type: application/x-www-form-urlencodedContent-Length: 51 Content-Length: 51, 359Content-Type: application/x-www-form-urlencoded; boundary=----------------------------5a377b7e6ba7 curl_setopt($this->hCurl, CURLOPT_HTTPHEADER, array( 'Expect:', 'Content-Type: application/x-www-form-urlencoded', 'Content-Length: 51' ));",PHP cURL Content-Length and Content-Type wrong
PHP If statments with $_POST," I cannot get the $username to be ""Anonymous""? It is either blank or the value of $_POST['userName']. <code>  if(isset($_POST['submit'])) { if(!isset($_POST['userName'])) { $username = 'Anonymous'; } else $username = $_POST['userName'];}",Check whether $_POST-value is empty
Moving up/down an item in the array by it's value," I cannot find an effective solution on rearranging/swapping an array item by its value by shifting by - 1 or + 1. I'm making an order on tables, if the user wants to shift the order by moving the value upwards or downwards, the array should swap the value of the desired item upwards or downwards, for example:If the user wants to move the item order upwards: As you can see that banana and apple has been swapped, due to banana is moved upwards, if the user wants to move it down, it should swap pineapple to banana (from the first array) and so on.I looked around on functions, array_replace was closest, but it only replaces arrays. <code>  $desired_item_to_move = 'banana';$default_order = array('orange', 'apple', 'banana', 'pineapple', 'strawberry');// Typically it should return this:array('orange', 'banana', 'apple', 'pineapple', 'strawberry');",Moving up/down an item in the array by its value
"PHP, Simplest Two Way Encryption"," What is the simplest way of doing two way encryption in common PHP installs?I need to be able to encrypt data with a string key, and use the same key to decrypt on the other end.The security isn't as big of a concern as the portability of the code, so I'd like to be able to keep things as simple as possible. Currently, I am using an RC4 implementation, but if I can find something natively supported I figure I can save a lot of unnecessary code. <code> ",Simplest two-way encryption using PHP
"How i can log this error: ""Fatal error: Call to undefined method PROJECTS::ssss()""", How can I log the following error to a text file or database?Fatal error: Call to undefined method PROJECTS::ssss() <code> ,How can I log fatal errors in PHP?
PHP: How to log fatal errors?, How can I log the following error to a text file or database?Fatal error: Call to undefined method PROJECTS::ssss() <code> ,How can I log fatal errors in PHP?
PHP: Object/Variable by reference in php5," In PHP 5, are you required to use the & modifier to pass by reference? For example, In PHP4 you needed the & modifier to maintain reference after a change had been made, but I'm confused on the topics I have read regarding PHP5's automatic use of pass-by-reference, except when explicity cloning the object.In PHP5, is the & modifier required to pass by reference for all types of objects (variables, classes, arrays, ...)? <code>  class People() { }$p = new People();function one($a) { $a = null; }function two(&$a) { $a = null; )",How do you pass objects by reference in PHP 5?
PHP: Object by reference in php5," In PHP 5, are you required to use the & modifier to pass by reference? For example, In PHP4 you needed the & modifier to maintain reference after a change had been made, but I'm confused on the topics I have read regarding PHP5's automatic use of pass-by-reference, except when explicity cloning the object.In PHP5, is the & modifier required to pass by reference for all types of objects (variables, classes, arrays, ...)? <code>  class People() { }$p = new People();function one($a) { $a = null; }function two(&$a) { $a = null; )",How do you pass objects by reference in PHP 5?
need an explanation of a wrapper class with an example that a child would understand," I read this entire post. It describes what a wrapper class is to other experienced programmers, but not to a newbie like me. I understand PHP syntax, the object-oriented concept, but have not written my own application in object-oriented code yet. I am beyond confused when trying to figure out what exactly a wrapper class is. I don't understand the technical jargon. I hope someone answers with a beautiful detailed child-like description that is easy to understand for someone that understands the basics of object oriented program and has read through pretty much the entire php.net language reference, but has no actual object oriented programming experience. No applications written yet.  <code> ",I need an explanation of a wrapper class with an example that a child would understand
Need an explanation of a wrapper class with an example that a child would understand," I read this entire post. It describes what a wrapper class is to other experienced programmers, but not to a newbie like me. I understand PHP syntax, the object-oriented concept, but have not written my own application in object-oriented code yet. I am beyond confused when trying to figure out what exactly a wrapper class is. I don't understand the technical jargon. I hope someone answers with a beautiful detailed child-like description that is easy to understand for someone that understands the basics of object oriented program and has read through pretty much the entire php.net language reference, but has no actual object oriented programming experience. No applications written yet.  <code> ",I need an explanation of a wrapper class with an example that a child would understand
Why should I start writing object oriented code in php?," I have been using regular PHP for some time now. My formal code training is zero. Whatever I've learned I've found here, on the PHP documentation site, the MySQL documentation, etc.I write PHP from scratch. I use functions for tasks that re-occur, I apply MVC to write more maintainable code, and I recently wrote a nice little library with some of my functions so I can save time in future projects. Long story short, without being some sort of guru, I have a decent relationship with PHP, and so far it seems to get things done for me.So my questions are the following: Why should I start writing object-oriented code in PHP? How will it make my programming life better and why is it better than the traditional way of doing things? <code> ",Why should I start writing object-oriented code in PHP?
facebook register/login," Going over the Facebook API and I'm a bit confused on the right approach. I want users to skip registration, or auto-register them if they sign in with Facebook. So if they sign into Facebook I collect their id, email and create a record in my user table.If an id exists already in the user table they skip the auto-registration and go directly to the members page. This is my code so far (taken from Facebook's PHP SDK example). When I run the signup script the page shows up as blank, I do not get redirected.EDIT: seems to be failing right after the require, if I use the following code 'test' never gets printed.EDIT: I'm using Codeigniter and this script is part of a controller, would that cause a problem with the require? - <code>  require 'http://localhost/facebook-php-sdk-6c82b3f/src/facebook.php';echo ""test""; public function signup() { require 'http://localhost/facebook-php-sdk-6c82b3f/src/facebook.php'; // Create our Application instance (replace this with your appId and secret). $facebook = new Facebook(array( 'appId' => 'xxxxxxxxxxxxxxx', 'secret' => 'xxxxxxxxxxxxxxxxxxxxxxxxxxx', )); // Get User ID $user = $facebook->getUser(); // We may or may not have this data based on whether the user is logged in. // // If we have a $user id here, it means we know the user is logged into // Facebook, but we don't know if the access token is valid. An access // token is invalid if the user logged out of Facebook. if ($user) { try { // Proceed knowing you have a logged in user who's authenticated. $user_profile = $facebook->api('/me'); } catch (FacebookApiException $e) { error_log($e); $user = null; } } // Login or logout url will be needed depending on current user state. if ($user) { $logoutUrl = $facebook->getLogoutUrl(); } else { $loginUrl = $facebook->getLoginUrl(array('scope' => 'email')); redirect($loginUrl); } print_r($user_profile); $this->load->model(""user_model""); $privileges = 1; $loginLocation = ip2long($_SERVER['REMOTE_ADDR']); $active = 1; $this->user_model->add_user($user_profile->id, $user_profile->name, $user_profile->email, $loginLocation, $privileges, $active); }",Using Facebook PHP-SDK 3.x to register/login user with Codeigniter 2.1.0
PHP escape unsafe control characters but not LF or CR," Using the POSIX character classesHow to match [:cntrl:] but excluding the [:space:]? <code>  $message = ereg_replace(""[[:cntrl:]]"", """", $message);",PHP match control characters but not whitespace?
PHP escape control characters but not whitespace?," Using the POSIX character classesHow to match [:cntrl:] but excluding the [:space:]? <code>  $message = ereg_replace(""[[:cntrl:]]"", """", $message);",PHP match control characters but not whitespace?
Printing PHP float with 3 digits after the decimal point?, Is there an easy way to echo a float number with a specific amount of digits after the decimal point?For example: $sum = 3.1234566768; I would like to echo $sum and get: 3.12. <code> ,Printing PHP float with 2 digits after the decimal point?
how to pass a url as a parameter of a controller's method in codeigniter," I have a Codeigniter controller which takes a full URL as the first argument, but the passed URL inside my controller only is only showing http: How can i solve this issue? <code>  public function mydata($link){ echo $link; //then it show only http: rather than the full url http://abc.com}",How to pass a URL as a parameter of a controller's method in codeigniter
regex pattern to get Youtube ID from any Youtube URL," Let's take these URLs as an example:http://www.youtube.com/watch?v=8GqqjVXhfMU&feature=youtube_gdata_playerhttp://www.youtube.com/watch?v=8GqqjVXhfMUThis PHP function will NOT properly obtain the ID in case 1, but will in case 2. Case 1 is very common, where ANYTHING can come behind the YouTube ID. What I'm thinking is that there must be a way where I can just look for the ""v="", no matter where it lies in the URL, and take the characters after that. In this manner, no complex RegEx will be needed. Is this off base? Any ideas for starting points? <code>  /** * get YouTube video ID from URL * * @param string $url * @return string YouTube video id or FALSE if none found. */function youtube_id_from_url($url) { $pattern = '%^# Match any YouTube URL (?:https?://)? # Optional scheme. Either http or https (?:www\.)? # Optional www subdomain (?: # Group host alternatives youtu\.be/ # Either youtu.be, | youtube\.com # or youtube.com (?: # Group path alternatives /embed/ # Either /embed/ | /v/ # or /v/ | /watch\?v= # or /watch\?v= ) # End path alternatives. ) # End host alternatives. ([\w-]{10,12}) # Allow 10-12 for 11 char YouTube id. $%x' ; $result = preg_match($pattern, $url, $matches); if (false !== $result) { return $matches[1]; } return false;}",RegEx pattern to get the YouTube video ID from any YouTube URL
passing command line arguments to a PHP script," I am calling a PHP script whenever a webpage loads. However, there is a parameter that the PHP script needs to run (which I normally pass through the command line when I am testing the script). How can I pass this argument every time the script is run when the page loads? <code> ",How do I pass parameters into a PHP script through a webpage?
Passing command line arguments to a PHP script," I am calling a PHP script whenever a webpage loads. However, there is a parameter that the PHP script needs to run (which I normally pass through the command line when I am testing the script). How can I pass this argument every time the script is run when the page loads? <code> ",How do I pass parameters into a PHP script through a webpage?
Where to set PHP $_SERVER Document_Root Trailing Slash?, Sometimes $_SERVER['DOCUMENT_ROOT'] returns with a trailing slash. In other environments it does not. Where can this be specified? <code> ,Where to set PHP $_SERVER['DOCUMENT_ROOT'] Trailing Slash?
"Testing for UTF8 strings in PHP, is this a reliable method?"," I've found a useful function on another answer and I wonder if someone could explain to me what it is doing and if it is reliable. I was using mb_detect_encoding(), but it was incorrect when reading from an ISO8859-1 file on a Linux OS.This function seems to work in all cases I tested.Here is the question: Get file encodingHere is the function: Is this a reliable way of detecting UTF-8 strings?What exactly is it doing? Can it be made more robust? <code>  function isUTF8($string){ return preg_match('%(?: [\xC2-\xDF][\x80-\xBF] # Non-overlong 2-byte |\xE0[\xA0-\xBF][\x80-\xBF] # Excluding overlongs |[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2} # Straight 3-byte |\xED[\x80-\x9F][\x80-\xBF] # Excluding surrogates |\xF0[\x90-\xBF][\x80-\xBF]{2} # Planes 1-3 |[\xF1-\xF3][\x80-\xBF]{3} # Planes 4-15 |\xF4[\x80-\x8F][\x80-\xBF]{2} # Plane 16 )+%xs', $string);}",Is testing for UTF-8 strings in PHP a reliable method?
How To Get Last Year Start And End Date Using PHP Code, How can I get last year's start and end date using PHP code? Is it possible? <code> ,How do I get last year's start and end date?
The use of curly braces in variable names," I was going through a codebase and came across a line I had a question about. It's something I haven't seen before and I was wondering if someone could explain it for me. Here's the code: What are the curly braces being used for? I've used curly braces to define variables as variable names before, but is this the same thing? I can't seem to find any resources online that explain it, but I'm not sure if I'm searching for the right thing. <code>  $variableName = $array[1];$variableName{0} = strtolower($variableName{0});$this->property = $variableName;",PHP: What do the curly braces in $variable{0} do?
PHP: what does the curly braces in $variable{0} do?," I was going through a codebase and came across a line I had a question about. It's something I haven't seen before and I was wondering if someone could explain it for me. Here's the code: What are the curly braces being used for? I've used curly braces to define variables as variable names before, but is this the same thing? I can't seem to find any resources online that explain it, but I'm not sure if I'm searching for the right thing. <code>  $variableName = $array[1];$variableName{0} = strtolower($variableName{0});$this->property = $variableName;",PHP: What do the curly braces in $variable{0} do?
Cakephp 2.1 JsonView," I'm using the new CakePHP 2.1 and would like to use the JsonView to make my controller respond to an AJAX request created by jQuery on the client side.However, this should be done automatically with the JsonView according to the documentation.http://book.cakephp.org/2.0/en/views/json-and-xml-views.htmlI added this line in my routes.php file And in my controller I have Then the view should be obsolete, but when I call this, it still serves a page which is pointing to a missing view. <code>  Router::parseExtensions('json'); $this->RequestHandler->setContent('json', 'application/json' ); $bookings = $this->Bookings->find('all');$this->set('bookings', $bookings); $this->set('_serialize', 'bookings');",CakePHP 2.1 JsonView
get list of databases names, How can I get a list of all the MySQL databases that exist on a server using PHP? <code> ,PHP - Get list of databases names
How to create table with Unique Identifier field in MYSQL, I am working on PHP and database MySQL. I have two tables in SQL Server 2005 and I want to move them into MySQL.These two tables contain fields with Unique Identifier and MySQL doesn't have a Unique Identifier data type. So I am not able to convert it into MySQL.Please help me to solve this problem. <code> ,How to create table with Unique Identifier field in MySQL?
How to create table with Unique Identifier field in MySQL, I am working on PHP and database MySQL. I have two tables in SQL Server 2005 and I want to move them into MySQL.These two tables contain fields with Unique Identifier and MySQL doesn't have a Unique Identifier data type. So I am not able to convert it into MySQL.Please help me to solve this problem. <code> ,How to create table with Unique Identifier field in MySQL?
how to download POP3 mails attachment to a specific folder using IMAP and php," i am developing a site in which users can mail tickets and attach any type of files to a specific mail id. I need to add the mail subject, content and attachment to the database. I am doing this using cron. Except the attachments every thing works perfect. I have seen some post which create download links. Since i am using cron i can't do it manually. I am able to get type and name of the files but don't know how to proceed furtherAny one please help me. thank you... <code>  $hostname = '{xxxx.net:143/novalidate-cert}INBOX'; $username = 'yyy@xxxx.net'; $password = 'zzzz'; /* try to connect */ $inbox = imap_open($hostname,$username,$password) or die('Cannot connect to : ' . imap_last_error()); $emails = imap_search($inbox,'ALL'); if($emails) { $output = ''; rsort($emails); foreach($emails as $email_number) { $structure = imap_fetchstructure($inbox, $email_number); $name = $structure->parts[1]->dparameters[0]->value; // name of the file $type = $structure->parts[1]->type; //type of the file }}",how to download mails attachment to a specific folder using IMAP and php
How does this site work only when you go offline, The following site only works if you are offline. LinkSo how do they do this? I have even seen Youtube do something similar. just open YouTube and disconnect net and refresh. You will see the page below.  <code> ,How does this site (allaboutrajni) works only when you go offline? (disconnect from internet)
How does this site(allaboutrajni) work only when you go offline(disconnect from internet), The following site only works if you are offline. LinkSo how do they do this? I have even seen Youtube do something similar. just open YouTube and disconnect net and refresh. You will see the page below.  <code> ,How does this site (allaboutrajni) works only when you go offline? (disconnect from internet)
How does a site (allaboutrajni) works only when you go offline? (disconnect from internet), The following site only works if you are offline. LinkSo how do they do this? I have even seen Youtube do something similar. just open YouTube and disconnect net and refresh. You will see the page below.  <code> ,How does this site (allaboutrajni) works only when you go offline? (disconnect from internet)
How to achieve oritinal quality image in pdf using fpdf?," I'm using FPDF with PHP to add an image to a PDF. But the image quality in the PDF is much worse than the original image, as you can see here: Relevant code: The original image is 150x150 pixels. <code>  $image_height = 40;$image_width = 40;$pdf = new FPDF();$pdf->AddPage();$start_x = $pdf->GetX();$start_y = $pdf->GetY();$pdf->Image('./images/ds_pexeso_ros_0_17.jpg', $pdf->GetX(), $pdf->GetY(), $image_height, $image_width); $pdf->Output(""pexeso"".date(""Y-m-d""),""I"");",How to maintain image quality with FPDF and PHP?
exexute (magic) method when existing method is called," Is there a magic method that when a certain method is called from an object, that a magic method is called first. Kinda like the __call method, but this only gets triggered when the method isn't found. So in my case i'd like something like this: Does something like this exist in PHP?? <code>  class MyClass{ public function __startMethod ( $method, $args ) { // a method just got called, so this is called first echo ' [start] '; } public function helloWorld ( ) { echo ' [Hello] '; }}$obj = new MyClass();$obj->helloWorld();//Output:[start] [Hello] ",execute (magic) method when existing method is called
This one is tough: Browser doesn't follow redirect from an AJAX response (PHP-generated response is using CAS authentication)," Ok, It looks like I made a mistake with my initial question. So, here are some corrections. The answer still applies, because the second redirect is stopped when there is a change in protocol to HTTPS (SSL).In my case, I have a redirect occurring multiple times, and the browser doesn't follow the second redirect. The first redirect is followed but returns an error.I keep reading that JavaScript AJAX responses containing redirects are followed automatically, but it look like not in my case. The first redirect is automatically followed by the browser, and the first redirect is returned without following the second redirect in the header. My problem is that I want all the redirects to be automatically followed by the browser.The redirects are part of the phpCAS library. I have an API written in PHP which checks the user authentication, each time, before returning the results.Here is the sequence. The main thing to note is that the browser returns the second response, after following 1 redirect. I would prefer it went all the way and returned the last response when I make an AJAX call to localhost/example/api.localhost/exampleCalls localhost/example/api using jQuery.ajax()Response 1: localhost/example/apiRedirects to https://localhost/accounts/cas/login?service=api.example.com&gateway=true (using SSL).Response 2: (SSL) localhost/accounts/cas/login?service=api.example.com&gateway=trueWhen the query key 'gateway' is present, the login simply redirects back to the URL provided by the 'service' key with or without a ticket (to signal to service that the user is either logged in or not).Response 3: localhost/api?ticket=TICKETVerifies the ticket and redirects back to itself without the ticket.Response 4: localhost/apiThis time the CAS client looks at the $_SESSION to remember what the ticket was, and then processes the API request returning JSONP.There's no particular reason I'm using CAS over OpenID or OpenAuth(orization). CAS was just the first authentication module I was able to get working in WordPress. I am open to suggestions in terms of using a different authentication library, CMS, framework, etc. Although, my hope is to just get this project finished. So the less re-tooling the better. <code> ", Browser doesn't follow redirect from an AJAX response (PHP-generated response is using CAS authentication)
php: arghh empty line from nowhere," I have strange error and not sure how to tackle it without wasting too much time. I have a method in my controller which should return xml using: the thing is that the output is not valid xml because of empty line and I have no idea from where it comes, do you have an idea how to fix this? maybe ignore this empty line or something? I do not want to debug the whole framework... I tried to use var_dump(debug_backtrace()) but I get one big mess probably because of doctrine. <code>  header(""Content-type: text/xml""); header(""Content-Disposition: attachment; filename=output.xml""); header(""Pragma: no-cache""); header(""Expires: 0"");",php: empty line from nowhere
how to check if the file field is empty?, I am having a hard time using $_FILESI want to check if file upload field is empty or not then apply a condition such that if file upload is empty then the script doesn't try uploading the file. How do I enforce this? <code> ,How to check if the file input field is empty?
PHP - Modify current object in foreach loop, I was wondering if it is possible to edit the current object that's being handled within a foreach loopI'm working with an array of objects $questions and I want to go through and look for the answers associated with that question object in my db. So for each question go fetch the answer objects and update the current $question inside my foreach loop so I can output/process elsewhere. <code>  foreach($questions as $question){ $question['answers'] = $answers_model->get_answers_by_question_id($question['question_id']);},Modify array values in foreach loop
Calculate percentage of a number," I would like to calculate, in PHP, the percentage of a number. For example: For this example, 50% of 350 = 175How can I do that? <code>  $percentage = 50;$totalWidth = 350;",How do I calculate the percentage of a number?
Seperating CodeIgniter config file Git for publishing publically," I am about to start a CodeIgniter based project and plan on using Git as our DVCS. I will be working with a few other developers, and the central (origin) server is privately hosted. But I also want to open source it and publish the code to Github later.My question is, is there a way to separate the config file(s) in Git, so that the private information in the config file is not sent to the Github remote but is to origin and other peers.Another question is could we use a similar solution for having local development config files and a server one for production? <code> ",Separating CodeIgniter config file Git for publishing publically
css stylus for php," Is there a parser/library for ""css stylus"" available for php?If not please suggest something similar, if not better. Possibly a light weight library that makes your life coding css, easier in php.Stylus syntax strips away all colons, semicolons, brackets and most parentheses from regular CSS script. The stark simplicity and elegance of it reminds me of Lisp. What's more amazing is that Stylus will also accept regular CSS syntax in the same file, reducing possible friction between multiple contributers. <code> ",PHP Preprocessor script/library for Stylus?
Avoid repeating the same if... else structure for multiple functions?," I've an ORM model (PHP Active Record), say, for a blogging system. I've something that's a post model that stores the number of likes. The post could either be a picture or quote (say), and they are different tables (and hence models).The schema is that a post holds data like number of shares, likes, description, etc. along with either a picture or a quote.So when writing getters for the post model I'm having to write I'm currently having to write this structure for many getter. Is there something I can do to avoid that?PS: Tagged as PHP because that's my code in.EDITChanged comments to code.This is a model (and a corresponding table in the DB) that has more data than just a picture and quote. Example, description that's part of the post and doesn't reside on either the picture or the quote.There's tables for pictures and quotes.Using PHP Active Record and each of the three classes extends the generic model class provided by PHP Active Record.The picture model has it's own data. Same for quote. <code>  public function getX() { if ($this->isPicture()) { return $this->picture->getX(); } else if ($this->isQuote()) { return $this->quote->getX() } else { return self::DEFAULT_X }}",Design pattern for repetitive switch in getters?
"PHP Warning ""Warning: ob_start(): function '' not found or invalid function name in""?", Why am I getting: Warning: ob_start(): function '' not found or invalid function name in /symfony-1.3\lib\config\sfApplicationConfiguration.class.php on line 155This occurs with Symfony 1.x projects. I am using Apache 2.2 and PHP 5.4.1.The mentioned line has: <code>  ob_start(sfConfig::get('sf_compressed') ? 'ob_gzhandler' : '');,"PHP Warning ""Warning: ob_start(): function '' not found or invalid function name"" in Symfony 1?"
How to create a success message within a div upon successfull form submission?," The following form displays the success message every time on page launch in the browser logically but the form should display the success message only after it is submitted successfully. The html part of the form is as following: This is how the success message is displayed within a div on the page: What I'm doing wrong here? <code>  $editFormAction = $_SERVER['PHP_SELF'];if (isset($_SERVER['QUERY_STRING'])) {$editFormAction .= ""?"" . htmlentities($_SERVER['QUERY_STRING']);}$message = ""Record has been updated successfully."";if ((isset($_POST[""MM_update""])) && ($_POST[""MM_update""] == ""form1"")) {$updateSQL = sprintf(""UPDATE table SET name=%s, email=%s, GetSQLValueString($_POST['name'], ""text""), GetSQLValueString($_POST['email'], ""text""),mysql_select_db($database_test, $test);$Result1 = mysql_query($updateSQL, $test) or die(mysql_error()); $updateGoTo = ""test.php"";if (isset($_SERVER['QUERY_STRING'])) {$updateGoTo .= (strpos($updateGoTo, '?')) ? ""&"" : ""?"";$updateGoTo .= $_SERVER['QUERY_STRING'];}header(sprintf(""Location: %s"", $updateGoTo));} <form action=""<?php echo $editFormAction; ?>"" method=""post"" name=""form1"" id=""form1""> <table align=""center"" class=""test_table""> <tr valign=""baseline""> <td align=""right"" nowrap=""nowrap"" class=""table-title"">Name:</td> <td class=""table-content""><input type=""text"" name=""name"" value=""<?php echo htmlentities($row_user['name'], ENT_COMPAT, 'utf-8'); ?>"" size=""32"" /></td> </tr> <tr valign=""baseline""> <td align=""right"" nowrap=""nowrap"" class=""table-title"">E-mail:</td> <td class=""table-content""><input type=""text"" name=""email"" value=""<?php echo htmlentities($row_user['email'], ENT_COMPAT, 'utf-8'); ?>"" size=""32"" /></td> </tr> </table> <input type=""hidden"" name=""MM_update"" value=""form1"" /> <input type=""hidden"" name=""id"" value=""<?php echo $row_user['id']; ?>"" /> <input class=""submit"" name=""UpdateRecord"" type=""submit"" id=""UpdateRecord"" value=""Update Record"" /></form> <p> <?php if (!empty($message)) { echo ""<div class=\""successmessage\"">"" . $message . ""</div>""; } ?></p>",How to create a success message within a div upon successful form submission?
Is a PHP Session acceptable with the new cookie law?," I am just looking for some advice on the new UK Cookie Law and how it affects PHP sessions. I understand that you do not need the users to opt in when a cookie is ""strictly necessary"" and the example given is adding an item to a shopping cart.I am using similar functionality that remembers what you have stored in a contact form, which I feel is strictly necessary use of a session and therefore no opt in is required.However the confusion for me arises because I have a session_start(); at the top of each page, which means the cookie is set straight away. Some users will not then go to use the contact form, so this means that the cookie is not strictly necessary for them. I could remove session_start(); from the top of each page, but this functionality is used throughout a number of websites and it would be preferable if we could leave it in.Could anyone shed any more light on this? <code> ",Is a PHP Session acceptable with the new UK cookie law?
whats wrong with this simple code," I am not getting what is wrong with this code. It's returning ""Found"", which it should not. <code>  $lead = ""418176000000069007"";$diff = array(""418176000000069003"",""418176000000057001"");if (in_array($lead,$diff)) echo ""Found"";else echo ""Not found"";",Why does in_array() wrongly return true with these (large numeric) strings?
What's wrong with this simple code?," I am not getting what is wrong with this code. It's returning ""Found"", which it should not. <code>  $lead = ""418176000000069007"";$diff = array(""418176000000069003"",""418176000000057001"");if (in_array($lead,$diff)) echo ""Found"";else echo ""Not found"";",Why does in_array() wrongly return true with these (large numeric) strings?
"PHP display local time, based on the visitor's position"," We're developing a website, that will be used from people all over the world. There's a chat section in the website and we want the messages to appear with a timestamp. I'm storing in a database a timestamp for each message.What is the way to show the right time for each message to visitor, based on his local time.I don't want to ask the user for his timezone. Is there a way to do this, using only PHP? If not - what is the way to show the current time, based on the visitors' current time, using javascript? <code> ","How to display localized time, based on a visitor's location?"
"What should be passed into if() to print ""Hello World""?"," What should be passed into the if() to print the output as ""Hello World""? [Note: It should execute the else block.] <code>  if(?){} else { echo ""World"";}",What should be passed into if() to print 'Hello World'?
How can I get around this?," I want to still use the array input like this: Otherwise I cannot reuse the same method for executing my queries.At the same time, the :limit1 and :limit2 doesn't work unless it is put in like this: I tried to do both but it doesn't execute with the bindParams: What is the way around it?I thought I could extend PDOStatement and add a new method ""bindLimit"" or something but I can't figure out what internal method PDO uses to bind parameters to a variable. <code>  $sql = ""SELECT * FROM table WHERE id LIKE CONCAT('%', :id, '%')LIMIT :limit1, :limit2""; $stmt->execute($array); $stmt->bindParam(':limit1', $limit1, PDO::PARAM_INT); $stmt->bindParam(':limit2', $limit2, PDO::PARAM_INT);$stmt->execute($array);",How can I pass an array of PDO parameters yet still specify their types?
Union of arrays in PHP," There are 3 operations with sets in mathematics: intersection, difference and union (unification). In PHP we can do this operations with arrays:intersection: array_intersectdifference: array_diffWhat function is for union? No duplicates can be in the result array (like array_intersect and array_diff).If indexes are numeric then array_merge will not overwrite the original value, but will be appended (PHP docs).  <code> ",Set Theory Union of arrays in PHP
arrays-references being copied (serialize PHP object-graph to JSON)," I wanted to serialize a complete PHP object-graph to a JSON string representation, and unserialize it back to an identical PHP object-graph.Here is a summary of options I considered, and reasons why they don't work for me:serialize() doesn't do what I want, because it uses a format specific to PHP. I want a format that is widely supported by most languages, and human-readable/editable.json_encode() doesn't do what I want, because it only does simple values and arrays, not objects. (I'm actually using this in my implementation, see below.)var_export() doesn't handle circular references, and doesn't do what I want (see above.) (note that my current implementation does not handle circular references either - see comments and reply below for clarification of this issue.)Sebastian Bergmann's Object Freezer is a nice implementation, but it doesn't do what I want either - it uses a very long form, and relies on stuffing serialized objects with GUIDs.Serialized doesn't do what I want - it does not actually perform serialization, it parses the output of serialize() and produces a different representation, e.g. XML, but is unable to parse that representation. (it also does not support JSON - XML is very long form, and is not what I want.)I now have a working implementation to share:https://github.com/mindplay-dk/jsonfreezeThe JSON-representation of the object-graph looks like this: This approach is designed to work for a pure tree-structure aggregate - circular references are not allowed, nor multiple references to the same objects. In other words, this is not general-purpose like e.g. serialize() and unserialize() which function for any PHP object-graph.In my initial approach I used a serialized form that was essentially a base-0 list of objects. The first object in the list (number 0) is the root of the serialized object-graph, any other objects are stored in the order they're found.In the current implementation, the JSON representation resembles the original tree-structure to the extend that this is possible, making it possible to actually work with the JSON representation of an object-graph in JavaScript. The only deviation is the magic #type property (prefixed with # to prevent collision with property-names) and the #hash ""type"", used to distinguish array-type hashes (stored as JSON objects) from regular array-type arrays (stored as JSON arrays).I'm leaving these notes about the previous version here for historical purposes.Circular references are handled simply by never storing nested objects inside the serialized representation of each object - instead, any object-reference is stored as a JSON-object with the object-index - e.g. {""__oref"":2} is a reference to the object with index 2 in the object-list.I'm having a problem with array-references in my implementation - when I var_dump() inside the code that restores references to objects to the array, they are being populated, but at some point the array gets copied, and you end up with the empty copy. I've tried placing & characters everywhere in the code, but regardless of where I pass by reference, the end-result is an empty array. <code>  { ""#type"": ""Order"", ""orderNo"": 123, ""lines"": [{ ""#type"": ""OrderLine"", ""item"": ""milk \""fuzz\"""", ""amount"": 3, ""options"": null }, { ""#type"": ""OrderLine"", ""item"": ""cookies"", ""amount"": 7, ""options"": { ""#type"": ""#hash"", ""flavor"": ""chocolate"", ""weight"": ""1\/2 lb"" } }], ""paid"": true}",Serialize/unserialize PHP object-graph to JSON
"Serialize/unserialize PHP object-graph to JSON (partially working solution, needs help)"," I wanted to serialize a complete PHP object-graph to a JSON string representation, and unserialize it back to an identical PHP object-graph.Here is a summary of options I considered, and reasons why they don't work for me:serialize() doesn't do what I want, because it uses a format specific to PHP. I want a format that is widely supported by most languages, and human-readable/editable.json_encode() doesn't do what I want, because it only does simple values and arrays, not objects. (I'm actually using this in my implementation, see below.)var_export() doesn't handle circular references, and doesn't do what I want (see above.) (note that my current implementation does not handle circular references either - see comments and reply below for clarification of this issue.)Sebastian Bergmann's Object Freezer is a nice implementation, but it doesn't do what I want either - it uses a very long form, and relies on stuffing serialized objects with GUIDs.Serialized doesn't do what I want - it does not actually perform serialization, it parses the output of serialize() and produces a different representation, e.g. XML, but is unable to parse that representation. (it also does not support JSON - XML is very long form, and is not what I want.)I now have a working implementation to share:https://github.com/mindplay-dk/jsonfreezeThe JSON-representation of the object-graph looks like this: This approach is designed to work for a pure tree-structure aggregate - circular references are not allowed, nor multiple references to the same objects. In other words, this is not general-purpose like e.g. serialize() and unserialize() which function for any PHP object-graph.In my initial approach I used a serialized form that was essentially a base-0 list of objects. The first object in the list (number 0) is the root of the serialized object-graph, any other objects are stored in the order they're found.In the current implementation, the JSON representation resembles the original tree-structure to the extend that this is possible, making it possible to actually work with the JSON representation of an object-graph in JavaScript. The only deviation is the magic #type property (prefixed with # to prevent collision with property-names) and the #hash ""type"", used to distinguish array-type hashes (stored as JSON objects) from regular array-type arrays (stored as JSON arrays).I'm leaving these notes about the previous version here for historical purposes.Circular references are handled simply by never storing nested objects inside the serialized representation of each object - instead, any object-reference is stored as a JSON-object with the object-index - e.g. {""__oref"":2} is a reference to the object with index 2 in the object-list.I'm having a problem with array-references in my implementation - when I var_dump() inside the code that restores references to objects to the array, they are being populated, but at some point the array gets copied, and you end up with the empty copy. I've tried placing & characters everywhere in the code, but regardless of where I pass by reference, the end-result is an empty array. <code>  { ""#type"": ""Order"", ""orderNo"": 123, ""lines"": [{ ""#type"": ""OrderLine"", ""item"": ""milk \""fuzz\"""", ""amount"": 3, ""options"": null }, { ""#type"": ""OrderLine"", ""item"": ""cookies"", ""amount"": 7, ""options"": { ""#type"": ""#hash"", ""flavor"": ""chocolate"", ""weight"": ""1\/2 lb"" } }], ""paid"": true}",Serialize/unserialize PHP object-graph to JSON
Serialize/unserialize PHP object-graph to JSON (solved)," I wanted to serialize a complete PHP object-graph to a JSON string representation, and unserialize it back to an identical PHP object-graph.Here is a summary of options I considered, and reasons why they don't work for me:serialize() doesn't do what I want, because it uses a format specific to PHP. I want a format that is widely supported by most languages, and human-readable/editable.json_encode() doesn't do what I want, because it only does simple values and arrays, not objects. (I'm actually using this in my implementation, see below.)var_export() doesn't handle circular references, and doesn't do what I want (see above.) (note that my current implementation does not handle circular references either - see comments and reply below for clarification of this issue.)Sebastian Bergmann's Object Freezer is a nice implementation, but it doesn't do what I want either - it uses a very long form, and relies on stuffing serialized objects with GUIDs.Serialized doesn't do what I want - it does not actually perform serialization, it parses the output of serialize() and produces a different representation, e.g. XML, but is unable to parse that representation. (it also does not support JSON - XML is very long form, and is not what I want.)I now have a working implementation to share:https://github.com/mindplay-dk/jsonfreezeThe JSON-representation of the object-graph looks like this: This approach is designed to work for a pure tree-structure aggregate - circular references are not allowed, nor multiple references to the same objects. In other words, this is not general-purpose like e.g. serialize() and unserialize() which function for any PHP object-graph.In my initial approach I used a serialized form that was essentially a base-0 list of objects. The first object in the list (number 0) is the root of the serialized object-graph, any other objects are stored in the order they're found.In the current implementation, the JSON representation resembles the original tree-structure to the extend that this is possible, making it possible to actually work with the JSON representation of an object-graph in JavaScript. The only deviation is the magic #type property (prefixed with # to prevent collision with property-names) and the #hash ""type"", used to distinguish array-type hashes (stored as JSON objects) from regular array-type arrays (stored as JSON arrays).I'm leaving these notes about the previous version here for historical purposes.Circular references are handled simply by never storing nested objects inside the serialized representation of each object - instead, any object-reference is stored as a JSON-object with the object-index - e.g. {""__oref"":2} is a reference to the object with index 2 in the object-list.I'm having a problem with array-references in my implementation - when I var_dump() inside the code that restores references to objects to the array, they are being populated, but at some point the array gets copied, and you end up with the empty copy. I've tried placing & characters everywhere in the code, but regardless of where I pass by reference, the end-result is an empty array. <code>  { ""#type"": ""Order"", ""orderNo"": 123, ""lines"": [{ ""#type"": ""OrderLine"", ""item"": ""milk \""fuzz\"""", ""amount"": 3, ""options"": null }, { ""#type"": ""OrderLine"", ""item"": ""cookies"", ""amount"": 7, ""options"": { ""#type"": ""#hash"", ""flavor"": ""chocolate"", ""weight"": ""1\/2 lb"" } }], ""paid"": true}",Serialize/unserialize PHP object-graph to JSON
CamelCase to dash - two capitals next to each other," I'm using this function to convert CamelCase to dashed string: it kinda works but theres problem when I have for ex. this string: getADog. It returns get-adog but I want get-a-doghow should I change my code? Thanks <code>  function camel2dashed($className) { return strtolower(preg_replace('/([^A-Z-])([A-Z])/', '$1-$2', $className));}",camelCase to dash - two capitals next to each other
Count result accourding level," I have Adjacency list mode structure like that and i want to count all title of parent according level like Food = (2,4,3), Fruit = (3,3)tree tabel structure after that make tree like thatby this code i m getting right total like for Food =9, Fruit = 6 call function Result : 9 // but i want to get result like 2,4,3But i want to get count total result like that For Food 2,4,3 and For Fruit 3,3 according levelso plz guide how to get total according level <code>  function display_children($parent, $level) { $result = mysql_query('SELECT title FROM tree '.'WHERE parent=""'.$parent.'""'); $count = 0; while ($row = mysql_fetch_array($result)) { $data= str_repeat(' ',$level).$row['title'].""\n""; echo $data; $count += 1 + $this->display_children($row['title'], $level+1); } return $count; } display_children(Food, 0) ",Count result according level
What is the purpost of the printf function?," This may seem like a really daft question, but what is the reason for the existence of the printf() function in PHP?It seems to me that that using echo will achieve the exact same results, with the added bonus that you don't get confused if you have several variables being output on one line (true, you can use %1$s as opposed to just %s, but it can still get messey with a few variables all being declared).I know you can also define the type of the variable, without the need to amend it before outputting the string, but to me that doesn't seem like enough to warrent creating a function.Maybe I'm wrong, maybe I'm missing something obvious, but if someone can help me to understand why it exists (so that I know whether or not I should really be using it!) I'd appriciate it. Thanks. <code> ",What is the purpose of the printf() function in PHP?
count number of items in array, I have an array as below. I want to print :- how to do it? <code>  Array([0] => Array ( [item] => Banana Cream Cheesecake [item_id] => 3 [product] => Desserts )[1] => Array ( [item] => Banana Cream Cheesecake [item_id] => 3 [product] => Desserts )[2] => Array ( [item] => Banana Cream Cheesecake [item_id] => 3 [product] => Desserts )[3] => Array ( [item] => Banana Cream Cheesecake [item_id] => 3 [product] => Desserts )[4] => Array ( [item] => Milk [item_id] => 2 [product] => Soda )[5] => Array ( [item] => Banana Cream Cheesecake [item_id] => 3 [product] => Desserts )) Banana Cream Cheesecake = 5,how to count the number of items in a php associative array
creating a json object in pHP," how do i create a json object similar to this in PHP? <code>  { ""employees"": [ { ""firstName"":""John"" , ""lastName"":""Doe"" }, { ""firstName"":""Anna"" , ""lastName"":""Smith"" }, { ""firstName"":""Peter"" , ""lastName"":""Jones"" } ]}",creating a json object in PHP
Android c2dm regigistration id format," I suspect I am going to feel really stupid after posting this but here goes. I have two main questions:1) What is an appropriate regex to use for the registration id? Currently I have the following but I have not been able to find any docs to support whether this is sufficient: 2) Is it ""valid"" for a regID to contain ""--""? I know that android can't go worrying about what every language - in this case mysql - uses for comments, etc. but this caught me a little off guard. Up to this point I had always flagged that in my sanitizer(s) because of the possibility of being used for sql injection. <code>  '/^[a-z0-9_-]{40,255}$/i'",Android c2dm registration id format
(CodeIgniter) How can I display single validation error?, If I used this the result is what I actually need is to display those errors inline with their elementexample: <code>  <?= validation_errors(); ?> Username field is requiredPassword field is required<textbox for username><textbox for password> <textbox for username> Username field is required<textbox for password> Password field is required,CodeIgniter: How can I display single validation error?
Remotely Scrape Page and Get most Relevant title or Description for Images," What I'm looking at doing is essentially the same thing a Tweet button or Facebook Share / Like button does, and that is to scrape a page and the most relevant title for a piece of data. The best example I can think of is when you're on the front page of a website with many articles and you click a Facebook Like Button. It will then get the proper information for the post relative to (nearest) the Like button. Some sites have Open Graph tags, but some do not and it still works.Since this is done remotely, I only have control of the data that I want to target. In this case the data are images. Rather than retrieving just the <title> of the page, I am looking to somehow traverse the dom in reverse from the starting point of each image, and find the nearest ""title"". The problem is that not all titles occur before an image. However, the chance of the image occurring after the title in this case seems fairly high. With that said, it is my hope to make it work well for nearly any site.Thoughts:Find the ""container"" of the image and then use the first block of text.Find the blocks of text in elements that contain certain classes (""description"", ""title"") or elements (h1,h2,h3,h4).Title backups:Using Open Graph TagsUsing just the <title>Using ALT tags onlyUsing META TagsSummary: Extracting the images isn't the problem, it's how to get relevant titles for them.Question: How would you go about getting relevant titles for each of the images? Perhaps using DomDocument or XPath? <code> ",Remotely Scrape Page and Get most Relevant title or Description for Images with XPath
how to configure Rockmongo for Mongo replicaSet," I recently switched to the RockMongo browser, but I am having a hard time making it work with a replicaSet.Per the official documentation, I declared the server as: RockMongo complains with the following: I also tried another variant which resulted in the same error: Can RockMongo work with a replicaSet? <code>  $MONGO[""servers""][$i][""mongo_name""] = ""localhost"";//mongo server name$MONGO[""servers""][$i][""mongo_host""] = ""127.0.0.1"";//mongo host$MONGO[""servers""][$i][""mongo_port""] = ""27017"";//mongo port$MONGO[""servers""][$i][""mongo_timeout""] = 0;//mongo connection timeout Execute failed:not masterfunction (){ return db.getCollectionNames(); } $MONGO[""servers""][$i][""mongo_host""] = ""mongodb://192.168.0.2,192.168.0.3"";// multiple hosts",How to configure RockMongo for Mongo replicaSet
"convert days to year(s), month(s), day(s) in MySQL"," I am trying to get the date and time duration between the Loan taken and Paid date. I used the PHP date and time functions, but it is not always accurate. How can I do this accurately in MySQL?Let assume two dates, The Loan taken date 2009-05-24and the Loan return date 2012-04-30I write a MySQL query return 1072 days, which is roughly 2 Years, 11 Months, 12 Days. Please do not answer with PHP code, I already try it. Here is the code.The function below uses PHP >= 5.3 functions and convert days to years, months and days. The function below uses PHP >= 5.2 functions and convert days to years, months and days. <code>  SELECT DATEDIFF('2012-04-30', '2009-05-24') `total_days`; function date_interval($date1, $date2){ $date1 = new DateTime($date1); $date2 = new DateTime($date2); $interval = date_diff($date2, $date1); return ((($y = $interval->format('%y')) > 0) ? $y . ' Year' . ($y > 1 ? 's' : '') . ', ' : '') . ((($m = $interval->format('%m')) > 0) ? $m . ' Month' . ($m > 1 ? 's' : '') . ', ' : '') . ((($d = $interval->format('%d')) > 0) ? $d . ' Day' . ($d > 1 ? 's' : '') : '');} function date_interval($date1, $date2){ $diff = abs(strtotime($date2) - strtotime($date1)); $years = floor($diff / (365 * 60 * 60 * 24)); $months = floor(($diff - $years * 365 * 60 * 60 * 24) / (30 * 60 * 60 * 24)); $days = floor(($diff - $years * 365 * 60 * 60 * 24 - $months * 30 * 60 * 60 * 24) / (60 * 60 * 24)); return (($years > 0) ? $years . ' Year' . ($years > 1 ? 's' : '') . ', ' : '') . (($months > 0) ? $months . ' Month' . ($months > 1 ? 's' : '') . ', ' : '') . (($days > 0) ? $days . ' Day' . ($days > 1 ? 's' : '') : '');}","How to convert given number of days to years, months and days in MySQL?"
Encode only the `&` for get_the_title() for Twitter text," I am using a direct link with a popup for a share button on Twitter:<a href=""https://twitter.com/intent/tweet?url=<?php echo urlencode(get_permalink());?>&amp;text=<?php echo get_the_title(); ?>&amp;via=username"" target=""_blank""With all the crazy social media plugins out there, this is the simplest and most direct way for me to implement a share button. However, when there is an & in the title, the title will break the text that is supposed to show for the status. I understand you need to urlencode() the title, but when I do that, it displays the special characters in the status message. Since you do not need a + for a [space] in the Twitter share now, I need to replace any &'s with &amp;. However, it does not seem to work with str_replace(). It for some reasons outputs the HTML special characters. Doing something like <?php echo str_replace('&', '&amp;', urldecode(get_the_title())); ?> doesn't work either. <code> ",Encoding get_the_title() for Twitter share URL
vagrant & ant: stty: standard input: Invalid argument," I am trying to move my development environment (symfony2 application) from my windows 7 localhost to a virtual machine using vagrant and the default ubuntu 10.04 64 bit machine. Everything is set up and it almost works, but there is one thing bothering me:When I run ant and it executes phpunit, I get the following error while executing my selfmade bootstrap: I could narrow the problem down to the following line of code, which executes the symfony cache:warmup command: This executes the following command: Running phpunit without ant works fine, so does running ant without the executeCommand line.I read a bit about this stty error and looked up ~/.bashrc, ~./profile, /etc/bash.bashrc, /etc/profile as well as /root/.bashrc and /root/.profile without finding anything like tty or stty. SO I don't know what I could delete to make it work.I am a bit stuck as I need the cache warmup and cannot figure out what is going wrong. <code>  stty: standard input: Invalid argument executeCommand($application, ""cache:warmup""); php app/console -e test -q cache:warmup","symfony2 application, vagrant & ant: stty: standard input: Invalid argument"
Check that record is successfully insert in Symfony2," How can I check if a record is successfully inserted in database using Doctrine in symfony2?My action in controller is What should I write in the if statement? <code>  public function createAction(){ $portfolio = new PmPortfolios(); $portfolio->setPortfolioName('Umair Portfolio'); $em = $this->getDoctrine()->getEntityManager(); $em->persist($portfolio); $em->flush(); if(){ $this->get('session')->setFlash('my_flash_key',""Record Inserted!""); }else{ $this->get('session')->setFlash('my_flash_key',""Record notInserted!""); }}",Check that record is successfully inserted in Symfony2
How to check if entity is changed in Doctrine 2?," I need to check if a persisted entity has changed and needs to be updated on the database.What I made (and did not work) was the following: That code prints always false, I also tried to flush before check the unit of work, but did not work.Anyone has a suggestion? <code>  $product = $entityManager->getRepository('Product')->find(3);$product->setName('A different name');var_export($entityManager->getUnitOfWork()->isScheduledForUpdate($product));",How to check if entity changed in Doctrine 2?
Determine if Session variable exists in php," I want to do something like this: I want to create a session on page1 and then go to page2 where it will check for errors, if there are errors it returns to page1 with the errors.But page1 will give errors if the variable hasn't been created yet on page 2.If I do $_SESSION['errors'] == """" on page1 it will reset the variable so that's no good.  <code>  if ($_SESSION['errors'] exists){ //Do stuff}",Determine if $_SESSION superglobal exists in PHP
PHP: Corrupt image when extract," I trying download a zip file using curl from one virtual host to another, in a same server. Zip file contains *.php and *.jpg files. The problem is: sometimes JPG files get corrupt, like this:Here is my code : I don't understand what happen to my jpg. I also tried using pclzip.lib.php, but no luck. How to solve this problem ?Thanks in advance <code>  $out = fopen(ABSPATH.'/templates/default.zip','w+'); $ch = curl_init(); curl_setopt($ch, CURLOPT_FILE, $out); curl_setopt($ch, CURLOPT_HEADER, 0); curl_setopt($ch, CURLOPT_URL, 'http://share.example.com/templates/default.zip'); curl_exec($ch); curl_close($ch); $zip = new ZipArchive;if ($zip->open(ABSPATH.'/templates/default.zip') === TRUE) { if($zip->extractTo(ABSPATH.'/templates')) { echo 'OK'; } $zip->close();} //$zip->close();",Corrupt image when extract from zip
PHP: Corrupt image when extract from zip," I trying download a zip file using curl from one virtual host to another, in a same server. Zip file contains *.php and *.jpg files. The problem is: sometimes JPG files get corrupt, like this:Here is my code : I don't understand what happen to my jpg. I also tried using pclzip.lib.php, but no luck. How to solve this problem ?Thanks in advance <code>  $out = fopen(ABSPATH.'/templates/default.zip','w+'); $ch = curl_init(); curl_setopt($ch, CURLOPT_FILE, $out); curl_setopt($ch, CURLOPT_HEADER, 0); curl_setopt($ch, CURLOPT_URL, 'http://share.example.com/templates/default.zip'); curl_exec($ch); curl_close($ch); $zip = new ZipArchive;if ($zip->open(ABSPATH.'/templates/default.zip') === TRUE) { if($zip->extractTo(ABSPATH.'/templates')) { echo 'OK'; } $zip->close();} //$zip->close();",Corrupt image when extract from zip
cypher class and mcrypt_create_iv is slow at times," I am having an issue with my cipher class. At times it is very fast. Sometimes however it is slow. the code Im using is as follows Are there any suggestions on why this may be slow at times and how I could fix this? <code>  class Cipher { private $securekey, $iv; function __construct() { $this->securekey = hash('sha256','51(^8k""12cJ[6&cvo3H/!2s02Uh46vuT4l7sc7a@cZ27Q',TRUE); $this->iv = mcrypt_create_iv(32); } function encrypt($input) { return base64_encode(mcrypt_encrypt(MCRYPT_RIJNDAEL_256, $this->securekey, $input, MCRYPT_MODE_ECB)); } function decrypt($input) { return trim(mcrypt_decrypt(MCRYPT_RIJNDAEL_256, $this->securekey, base64_decode($input), MCRYPT_MODE_ECB)); } function storeIV() { return $this->iv; }}",cipher class and mcrypt_create_iv is slow at times
remove an value from link," I want remove a parameter from a URL: I am trying to get this result:https://stackoverflow.com/?name=alaa&https://stackoverflow.com/?&star=5I am trying to do it using preg_replace, but I've no idea how it can be done. <code>  $linkExample1='https://stackoverflow.com/?name=alaa&counter=1';$linkExample2='https://stackoverflow.com/?counter=4&star=5';",Remove specific parameter from URL while preserving other parameters
Conditional fieldgroups/fieldsets," Background: In Drupal 7, I have created a form with CCK (aka the Field UI). I used the Field group module to create a fieldgroup, but I need it to be conditional, meaning it will only display depending on a previous answer.Previous research: To create a conditional field, you can use hook_form_alter() to edit the #states attribute like so: However, there seems to be no way to use the States API for fieldgroups. One thing to note is that, while fields are stored in $form, fieldgroups are stored in $form['#groups'] as well as in $form['#fieldgroups']. I don't know how to distinguish between these, and with this in mind, I have tried to apply a #states attribute to a fieldgroup in the same manner as above. However, it only produces server errors.Question: Is there a way to make a fieldgroup display conditionally using the States API or some alternative approach? <code>  function MYMODULE_form_alter(&$form, &$form_state, $form_id) { if ($form_id == 'person_info_node_form') { // Display 'field_maiden_name' only if married $form['field_maiden_name']['#states'] = array( 'visible' => array( ':input[name=""field_married[und]""]' => array('value' => 'Yes'), ), ); }}",Conditional fieldgroups/fieldsets in Drupal 7
raphaeljs export to jpg issue with path background as image," I have a problem with raphaeljs export plugin ( https://github.com/ElbertF/Raphael.Export ). in a path element I use attribute fill and as a source I give a image url to fullfill. But when I export this to SVG I see a path element definition, but when I export it to PNG, I do not see again.So in my app I add an attr to path element like this: and I export this with paper.toSVG()and in my SVG I find a path: But when I transform this to PNG with: I cannot find this path fulfilled with my background. Can anybody help? <code>  paper.path(""M 195 10 L 300 L 195 z"").attr({'stroke-width': 0,'fill': 'url(images/alfen/02/murek.png)'}); <path transform=""matrix(1,0,0,1,0,0)"" fill=""url(images/alfen/02/murek.png)"" stroke=""#000"" d=""M203,183.94389438943895L948,183.94389438943895L948,195L203,195Z"" stroke-width=""0""></path> <?php $json = $_POST['json']; $output = str_replace('\""','""',$json); $filenameSVG = 'test'; file_put_contents(""$filenameSVG.svg"", $output); $konwert = ""convert $filenameSVG.svg $filenameSVG.jpg""; system($konwert);",Error in exporting raphaeljs to jpg with path background as image
Symfony2 - Accessing application parameters from a service," From my controllers, I access the application parameters (those in /app/config) with But I don't know how to access it from a service (I imagine my service class is not supposed to extend Symfony\Bundle\FrameworkBundle\Controller\Controller).Should I map needed parameters into my service registration like this: or something similar? How should I access to my application parameters from a service?This question seems like the same but mine actually answers to it (parameters from a controller), I'm talking about accessing from a service. <code>  $this->container->getParameter('my_param') #src/Me/MyBundle/Service/my_service/service.ymlparameters: my_param1: %my_param1% my_param2: %my_param2% my_param3: %my_param3%",How to access an application parameters from a service?
"phantomjs doesn't work in php through browser (but does via command line, and even by running php through command line!!!)"," I'm trying to get PhantomJS to run via PHP.When I run the JavaScript file directly through the command line, it works fine. When I run php render_html.php in the command line, which just runs an exec(), it works fine. However, when I try opening this php file in the browser, it does nothing. I don't even get anything back to echo.I've done all this testing locally on OS X, and on my EC2 server, and I get the same result. <code> ","PhantomJS doesn't work in PHP through browser (but does via command line, and even by running PHP through command line)"
"phantomjs doesn't work in php through browser (but does via command line, and even by running php through command line)"," I'm trying to get PhantomJS to run via PHP.When I run the JavaScript file directly through the command line, it works fine. When I run php render_html.php in the command line, which just runs an exec(), it works fine. However, when I try opening this php file in the browser, it does nothing. I don't even get anything back to echo.I've done all this testing locally on OS X, and on my EC2 server, and I get the same result. <code> ","PhantomJS doesn't work in PHP through browser (but does via command line, and even by running PHP through command line)"
how to send Html in eamil via PHP?, How can I send an HTML-formatted email with pictures using PHP?I want to have a page with some settings and HTML output which is sent via email to an address. What should I do?The main problem is to attach files. How can I do that? <code> ,Send HTML in email via PHP
Send HTML in email via PHP?, How can I send an HTML-formatted email with pictures using PHP?I want to have a page with some settings and HTML output which is sent via email to an address. What should I do?The main problem is to attach files. How can I do that? <code> ,Send HTML in email via PHP
"java equivalent of PHP's implode(',' , array_filter( array () ))"," I often use this piece of code in PHP It clears empty strings and join them with a "","". If only one remains it doesn't add an extra unneeded comma. It doesn't add a comma at the end. If none remains it returns empty string.Thus I can get one of the following results What is the best Java implementation (less code) in Java without having to add external libraries (designing for Android)? <code>  $ordine['address'] = implode(', ', array_filter(array($cliente['cap'], $cliente['citta'], $cliente['provincia']))); """"""Street abc 14""""Street abc 14, 00168""""Street abc 14, 00168, Rome""","Java equivalent of PHP's implode(',' , array_filter( array () ))"
Finding Similar HEX colors using a tolerance, I have an array of RGB hex colors.I would like to find a quick and dirty way to group them by color similarity and threshold value.spec:  <code> ,Finding Similar HEX colors using a threshold
Can a sinle apache server handle both tomcat and php?," I have a requirement as to have a single server with both a Java application and a PHP application, running on the same Apache. Is this possible?This question may be very silly but I have no clue about java requirements or installation procedures.Can I do such a thing that as to have the java application running on one port and the PHP application on another port, both on the same Apache? <code> ",Can a single Apache server handle both Tomcat and PHP?
Can a single apache server handle both tomcat and php?," I have a requirement as to have a single server with both a Java application and a PHP application, running on the same Apache. Is this possible?This question may be very silly but I have no clue about java requirements or installation procedures.Can I do such a thing that as to have the java application running on one port and the PHP application on another port, both on the same Apache? <code> ",Can a single Apache server handle both Tomcat and PHP?
How to calculate new gradient positions after the polygon it fills changes dimensions?," What I want to do?Updates to this question: 7/10/2012 - ""gradientTransform not quite"" Inspired by Duopixel7/11/2012 - ""SVG Code from the example"" 7/16/2012 - ""@dignifiedquire take on this problem""I'm trying to create a tool that let's the user dynamically resize polygons. Most of the polygons are filled with gradients fill=""url(#top_surface_1_gradient)"". The way I go about this is a simple JavaScript script that:looks for mousemove & click events over a certain polygonmeasures the amount of movementchanges half of the coordinates of the polygon (in order to have the effect of stretching) using this algorithm to define new coordinates: x = x_movement, y = x_movement * Math.tan( 31 * (Math.PI/180) )polygons that are filled with a single colour are OKpolygons that are filled with a gradient are not, let me demonstrate:VisuallySo this is step one, no stretching has been done by the user.This is where the problem happens. Since I don't know how should I change the x1, y1 and x2, y2 coordinates for the gradient, it just stays hanging in it's old position while the polygon has been stretched. The result is a shape that fails to sustain the illusion of depth.The end result I'm looking for. And bare in mind that the gradient might have a completely random angle from the get go. In this end result, that I'm looking for, both the x1, y1 and x2, y2 coordinates of the gradient have been changed. What algorithm should be used to calculate these positions? I'm looking for a solution that is completely blind to the angle of the gradient.Below is the SVG with all the appropriate coordinates that was used to generate these examples:Using SVG codeStep1: Step 2 Step 3 I've spent countless hours developing solutions for this problem and I just couldn't get my head around it. Any help would be greatly appreciated.Update: gradientTransform not quiteUsing the gradientTransform attribute and no x1,y1; x2,y2 coordinates for the gradient, we achieve results that fill the polygon in a way that is almost as needed (This solution can be found here: http://jsfiddle.net/hqXx2/). The only place where the solution breaks is when the polygon is filled with a gradient that starts outside of the polygon and/or ends somewhere outside/inside. Let me illustrate:This is what is achieved with the solution, that Duopixel is suggesting.This is the usage case that is impossible to achieve using the solution mentioned above. I changed the colouring in order to visibly amplify the angle and gradient stops.SVG Code from the exampleHere's the code for the larger, correctly expanded group of polygons: And here's the SVG code for the smaller one, which I need to expand: @dignifiedquire take on this problemI've implemented @dignifiedquire suggested algo in a test site: Here's the test link. I did the absolute to relative conversion on my own and it just shows the same result I would have normally adding the same polygon x and y change values to the gradient x and y. That is the main issue - how to translate those values into such value, that transform the gradient as in my examples above?More help is needed. <code>  <!-- Step 1 --><linearGradient id=""top_surface_1_gradient"" gradientUnits=""userSpaceOnUse"" x1=""165.3425"" y1=""39.7002"" x2=""-49.991"" y2=""43.0337""> <stop offset=""0"" style=""stop-color:#FFFFFF""/> <stop offset=""0.6687"" style=""stop-color:#CCCCCC""/> <stop offset=""1"" style=""stop-color:#FFFFFF""/></linearGradient><polygon id=""top_surface_1"" fill=""url(#top_surface_1_gradient)"" points=""137.145,41.204 68.572,0 0,41.204 68.572,82.396""/> <!-- Step 2 --> <linearGradient id=""top_surface_2_gradient"" gradientUnits=""userSpaceOnUse"" x1=""250.0491"" y1=""233.8115"" x2=""23.7637"" y2=""237.3146""> <stop offset=""0"" style=""stop-color:#FFFFFF""/> <stop offset=""0.6687"" style=""stop-color:#CCCCCC""/> <stop offset=""1"" style=""stop-color:#FFFFFF""/></linearGradient><polygon id=""top_surface_2"" fill=""url(#top_surface_2_gradient)"" points=""205.788,215.557 137.215,174.354 0.078,256.629 68.649,297.823""/> <!-- Step 3 --> <linearGradient id=""top_surface_3_gradient"" gradientUnits=""userSpaceOnUse"" x1=""248.4543"" y1=""454.5225"" x2=""-75.535"" y2=""459.5381""> <stop offset=""0"" style=""stop-color:#FFFFFF""/> <stop offset=""0.6687"" style=""stop-color:#CCCCCC""/> <stop offset=""1"" style=""stop-color:#FFFFFF""/></linearGradient><polygon id=""top_surface_3"" fill=""url(#top_surface_3_gradient)"" points=""205.788,415.557 137.215,374.354 0.078,456.629 68.649,497.823""/> <g> <linearGradient id=""surface_center_inside_bottom_1_"" gradientUnits=""userSpaceOnUse"" x1=""167.7629"" y1=""634.5986"" x2=""-72.9039"" y2=""599.2647""> <stop offset=""0"" style=""stop-color:#FFFFFF""/> <stop offset=""0.8528"" style=""stop-color:#CCCCCC""/> <stop offset=""0.9954"" style=""stop-color:#CCCCCC""/> </linearGradient> <polygon id=""surface_center_inside_bottom_9_"" fill=""url(#surface_center_inside_bottom_1_)"" points=""137.145,620.04 68.572,578.837 0,620.04 68.572,661.233""/> <linearGradient id=""surface_right_inside_side_1_"" gradientUnits=""userSpaceOnUse"" x1=""178.8889"" y1=""600.1787"" x2=""33.103"" y2=""517.9229""> <stop offset=""0"" style=""stop-color:#FFFFFF""/> <stop offset=""0.9816"" style=""stop-color:#A3A5A8""/> </linearGradient> <polygon id=""surface_right_inside_side_3_"" fill=""url(#surface_right_inside_side_1_)"" points=""136.526,620.374 68.359,578.501 68.572,493.837 137.358,535.37""/> <linearGradient id=""surface_right_inside_side_2_"" gradientUnits=""userSpaceOnUse"" x1=""126.2664"" y1=""563.249"" x2=""-28.4"" y2=""621.916""> <stop offset=""0"" style=""stop-color:#FF0000""/> <stop offset=""0.6698"" style=""stop-color:#00FFFF""/> <stop offset=""1"" style=""stop-color:#FF0000""/> </linearGradient> <polygon id=""surface_right_inside_side_5_"" fill=""url(#surface_right_inside_side_2_)"" points=""68.573,661.239 0,620.036 0,535.036 68.573,576.231""/> <linearGradient id=""surface_center_outside_top_1_"" gradientUnits=""userSpaceOnUse"" x1=""167.3728"" y1=""533.5059"" x2=""-47.9608"" y2=""536.8394""> <stop offset=""0.0016"" style=""stop-color:#FF0000""/> <stop offset=""0.6735"" style=""stop-color:#00FFFF""/> <stop offset=""1"" style=""stop-color:#FF0000""/> </linearGradient> <polygon id=""surface_center_outside_top_3_"" fill=""url(#surface_center_outside_top_1_)"" points=""137.145,535.041 68.572,493.837 0,535.041 68.572,576.233""/></g> <g> <linearGradient id=""surface_right_inside_side_4_"" gradientUnits=""userSpaceOnUse"" x1=""273.4377"" y1=""319.251"" x2=""78.0696"" y2=""209.0197""> <stop offset=""0"" style=""stop-color:#FFFFFF""/> <stop offset=""0.9816"" style=""stop-color:#A3A5A8""/> </linearGradient> <polygon id=""surface_right_inside_side_9_"" fill=""url(#surface_right_inside_side_4_)"" points=""205.112,366.797 136.945,324.924 137.157,156.261 205.731,197.464""/> <linearGradient id=""SVGID_1_"" gradientUnits=""userSpaceOnUse"" x1=""247.2952"" y1=""408.1992"" x2=""-103.1108"" y2=""356.7538""> <stop offset=""0"" style=""stop-color:#FFFFFF""/> <stop offset=""0.8528"" style=""stop-color:#CCCCCC""/> <stop offset=""0.9954"" style=""stop-color:#CCCCCC""/> </linearGradient> <polygon fill=""url(#SVGID_1_)"" points=""205.731,366.465 137.157,325.262 0.021,407.536 68.592,448.729""/> <linearGradient id=""surface_right_inside_side_7_"" gradientUnits=""userSpaceOnUse"" x1=""160.3313"" y1=""296.623"" x2=""-52.0119"" y2=""377.1676""> <stop offset=""0"" style=""stop-color:#FF0000""/> <stop offset=""0.6698"" style=""stop-color:#00FFFF""/> <stop offset=""1"" style=""stop-color:#FF0000""/> </linearGradient> <polygon id=""surface_right_inside_side_6_"" fill=""url(#surface_right_inside_side_7_)"" points=""68.532,448.767 0,407.497 0.021,238.536 68.592,279.729""/> <linearGradient id=""SVGID_2_"" gradientUnits=""userSpaceOnUse"" x1=""248.4749"" y1=""215.7417"" x2=""-75.5139"" y2=""220.7572""> <stop offset=""0.0016"" style=""stop-color:#FF0000""/> <stop offset=""0.6735"" style=""stop-color:#00FFFF""/> <stop offset=""1"" style=""stop-color:#FF0000""/> </linearGradient> <polygon fill=""url(#SVGID_2_)"" points=""205.731,197.464 137.157,156.261 68.592,197.333 0.021,238.536 68.592,279.729""/></g>",Calculate new gradient positions after the polygon it fills changes dimensions
PHP: How to override register_argc_argv?," I'm using a shared host (fasthostingdirect) and for some reason they have this flag turned off by default. This means I'm unable to access PHP command line parameters... unless I use the -n (= --no-php-info) flag after php.exe.Have tried ini_set('register_argc_argv', 1) in my php file but it has no effect. Am guessing this is due to the clamped down nature of the hosting provider, however they don't stop the -n option - not sure of the other implications of using this though. Does anyone have any better suggestions? <code> ",How to override register_argc_argv in PHP?
check file existance from root," I tried the following code to check existence of file in root. It works only on root directory not sub directory. I'm not sure whether function file_exist checks for both absolute and relative paths so I tried adding ROOT and $_SERVER['DOCUMENT_ROOT']. But still it didn't worked out. Any Help? <code>  if($res['profile_picture']!="""" && file_exists(""images/"".$res['users_id'].""/thumnails/"".$res['profile_picture'])){ $photo_p=""images/"".$res['users_id'].""/thumnails/"".$res['profile_picture'];}",check file existence from root
Microsoft Word and Excel Header," I can download my microsoft word successfully if I named it in the filename by default. But if I use $variables to name it. The document extension will be unknown.Sample: So if i rename my filename as variables. The file download will be without the docx extension. Anyone can advise?Thanks <code>  $No = 1; $Name = 'John'; $Test = 'Science';//Download header$document->save($doc);header('Content-Description: File Transfer');header('Content-Type: application/msword');header(""Content-Disposition: attachment; filename='$No_$Name_$Test.docx"");header('Content-Transfer-Encoding: binary');header('Expires: 0');header('Cache-Control: must-revalidate');header('Pragma: public');header('Content-Length: ' . filesize($doc));ob_clean();flush();readfile($doc);",http header for downloading Microsoft Word and Excel files
Does php conserver order in associative array?," Possible Duplicate: Are PHP Associative Arrays ordered? If I add items to associative array with different keys, does order of addition conserved? How can I access ""previous"" and ""next"" elements of given element?  <code> ",Does php conserve order in associative array?
"how to execute remaining php code after ""exit"""," How can a client send a request to a server just to trigger an execution, where the server immediately sends a response then executes the requested code? Similar to this: I want the response to be immediate so the client can do other things while the server executes the request. <code>  echo 'the execution is starting';exit;execution_function(); // <--- is it possible to this function being executed after exit ","How can I  execute remaining php code after calling ""exit""?"
How to make ngix virtual directories accessible in php?," Let's say I have a web server (nginx) server.com where I have only one php file index.php (there is no directory structure). I want to be able to access anything after server.com. It will be an url structure. For example server.com/google.com, server.com/yahoo.com.au etc...An example would be http://whois.domaintools.com/google.com (They don't have a directory that's called /google.com, right?)Q1: How can I access whatever is after 'server.com' from index.phpQ2: Can I get the protocol from such URL? For example server.com/http://www.google.com or server.com/https://www.google.comPSI'm not certain if the term virtual directory is used here correctly. I just want to do what I saw somewhere else. <code> ",How to make nginx virtual directories accessible in php?
"When I use jQuery AJAX to submit a form on my page, it takes two clicks to actually submit to my database"," I've been trying different options for over a week now and nothing seems to work. What makes this slightly more complicated is that I have multiple forms on the page that all need to be tied to this same submit function. They all have different IDs.The following is a simplified version of my jQuery: I have also tried using $('form').submit() with the same results.Relevant sections of process.php: <code>  $('form').on('submit', function(form){ var data = $(this).serialize(); $.ajax({ type: 'POST', cache: false, url: 'inc/process.php', data: data, success: function(){ // The following fires on first AND second submit console.log(""Updates have successfully been ajaxed""); } }); return false;}); $query = 'UPDATE pop_contents SET ';$id = $_POST['content_id'];/* to avoid including in MySQL query later */unset($_POST['content_id']);$length = count($_POST);$count = 0;foreach($_POST as $col => $value){ $value = trim($value); $query .= $col.""='"".escapeString($value); // don't add comma after last value to update if(++$count != $length){ $query .= ""', ""; } // add space before WHERE clause else{ $query .= ""' ""; }}$query .= 'WHERE id='.$id;$update_result = $mysqli->query($query);","When I use jQuery AJAX to submit tinyMCE forms on my page, it takes two clicks to actually submit to database"
zend multicountry redirect," currently I have an Zend application on default location www.example.com/{controller}/{action}but when a user visit from a specific country, how to detect their ip address and redirect them to this countryCode based urlwww.example.com/uk/{controller}/{action}?To detect the country from which the user are visiting I have written a helper: The above code will return the country name. If a user is visiting from France how can I rewrite the url so that the url becomes example.com/france/{controller}/{action}? <code>  require_once '../library/Ipinfo/ip2locationlite.class.php';class Application_View_Helper_GetLocation extends Zend_View_Helper_Abstract{ public function getLocation() { $ipLite = new ip2location_lite; $ipLite->setKey('APIKEY'); //Get errors and locations $locations = $ipLite->getCity($_SERVER['REMOTE_ADDR']); $errors = $ipLite->getError(); $country = strtolower($locations['countryName']); return ""$country""; }}",Zend multicountry redirect
how to use mysqli_insert_id to retrieve ImageId and insert it into another table?," I am using the code below that uploads a file and inserts data into the ""Image"" table using mysqli: So for example if I insert 2 images ""cat.png"" and ""dog.png"" into ""Image"" Database table, it will insert it like this: (ImageId is an auto increment)Anyway what I want to do is that when a file is uploaded, not only is the data inserted into the table above, but I want to also be able to retrieve the ImageId that was inserted above and place it in the ""Image_Question"" table below so it would be like this: The problem is that it is not inserting any data into the second table ""Image_Question"", does anyone know why it is not inserting any data? There is no errors in the php file.To upload a file, the user selects a file for the ajax uploader in the ""QandATable.php"" page, when the user clicks on upload, using AJAX it will go onto the imageupload.php page and does the uploading there. So the problem I have is that no errors will appear as they are on seperate pages. <code>  <?phpsession_start();$username=""xxx"";$password=""xxx"";$database=""mobile_app"";$mysqli = new mysqli(""localhost"", $username, $password, $database);/* check connection */if (mysqli_connect_errno()) { printf(""Connect failed: %s\n"", mysqli_connect_error()); die();}$result = 0;//UPLOAD IMAGE FILEmove_uploaded_file($_FILES[""fileImage""][""tmp_name""], ""ImageFiles/"" . $_FILES[""fileImage""][""name""]);$result = 1;//INSERT INTO IMAGE DATABASE TABLE$imagesql = ""INSERT INTO Image (ImageFile) VALUES (?)"";if (!$insert = $mysqli->prepare($imagesql)) { // Handle errors with prepare operation here}//Dont pass data directly to bind_param store it in a variable$insert->bind_param(""s"", $img);//Assign the variable$img = 'ImageFiles/' . $_FILES['fileImage']['name'];$insert->execute();//RETRIEVE IMAGEID FROM IMAGE TABLE$lastID = $mysqli->insert_id;//INSERT INTO IMAGE_QUESTION DATABASE TABLE$imagequestionsql = ""INSERT INTO Image_Question (ImageId, SessionId, QuestionId) VALUES (?, ?, ?)"";if (!$insertimagequestion = $mysqli->prepare($imagequestionsql)) { // Handle errors with prepare operation here}$sessid = $_SESSION['id'] . ($_SESSION['initial_count'] > 1 ? $_SESSION['sessionCount'] : '');$insertimagequestion->bind_param(""sss"", $lastID, $sessid, $_POST['numQuestion'][$i]);$insertimagequestion->execute();//IF ANY ERROR WHILE INSERTING DATA INTO EITHER OF THE TABLESif ($insert->errno) { // Handle query error here}$insert->close();if ($insertimagequestion->errno) { // Handle query error here}$insertimagequestion->close();}}?> ImageId ImageFile220 cat.png221 dog.png ImageId SessionId QuestionId 220 cat.png 1 221 dog.png 4",Data is not being inserted into second table (MYSQLi)
PHP Framework to request emails from IMAP, There are many libraries for PHP which are great to send emails. But which is the most reliable one to request emails from an IMAP account? Especially emails with attachments. <code> ,PHP Library to request emails from IMAP
How can I improve the standard NONCE library for PHP?," This is the first time I've worked with nonces, so I downloaded the script from http://fullthrottledevelopment.com/php-nonce-library. I did not like the code, especially because there's a chance of a legitimate request being treated as invalid because the function works in intervals of a defined amount of time (default is 300 seconds).For example, we could be 299 seconds into the 300 seconds when the nonce is generated, so the nonce would only work for 1 second.I modified the library into the following functions. What I did was check for the current interval and the previous interval by using nonce_create(time()-NONCE_DURATION)==$nonce. Are there ways to further improve the functions?: Also, I have two questions regarding the original library:Why isn't NONCE_UNIQUE_KEY used? Did the author simply forget?Why does the author divide by two here: $i = ceil( time() / ( FT_NONCE_DURATION / 2 ) );, it only works for half the time then (I tried it) <code>  define( 'NONCE_UNIQUE_KEY' , '123123' );define( 'NONCE_DURATION' , 300 );function nonce_create($time=false){ if(!$time) $time=time(); $i=ceil($time/(NONCE_DURATION)); return substr(md5($i.NONCE_UNIQUE_KEY),-12,10);}function nonce_is_valid($nonce){ if (nonce_create()==$nonce || nonce_create(time()-NONCE_DURATION)==$nonce) return true; return false;}",How can I improve this NONCE library for PHP?
Optimize javascript css download," I have a number of pages for my website all use jQuery and JSON and the same CSS, except for a few pages. The first page is user login. As the user will take time to type in his username and password, I want to download all the required JavaScript and CSS files for the entire user session during login. How can this be done? The header is the same for all pages. How do I optimize it? <code> ",Optimize JavaScript CSS download
Check if array emty or exists," When the page is loading for the first time, I need to check if there is an image in image_array and load the last image.Otherwise, I disable the preview buttons, alert the user to push new image button and create an empty array to put the images;The problem is that image_array in the else fires all time. If an array exists - it just overrides it, but alert doesn't work. UPDATEBefore loading html, I have something like this: <code>  if(image_array.length > 0) $('#images').append('<img src=""'+image_array[image_array.length-1]+'"" class=""images"" id=""1"" />');else{ $('#prev_image').attr('disabled', 'true'); $('#next_image').attr('disabled', 'true'); alert('Please get new image'); var image_array = [];} <?php if(count($images) != 0): ?><script type=""text/javascript""> <?php echo ""image_array = "".json_encode($images);?></script><?php endif; ?>",Check if an array is empty or exists
Check if array is empty or exists," When the page is loading for the first time, I need to check if there is an image in image_array and load the last image.Otherwise, I disable the preview buttons, alert the user to push new image button and create an empty array to put the images;The problem is that image_array in the else fires all time. If an array exists - it just overrides it, but alert doesn't work. UPDATEBefore loading html, I have something like this: <code>  if(image_array.length > 0) $('#images').append('<img src=""'+image_array[image_array.length-1]+'"" class=""images"" id=""1"" />');else{ $('#prev_image').attr('disabled', 'true'); $('#next_image').attr('disabled', 'true'); alert('Please get new image'); var image_array = [];} <?php if(count($images) != 0): ?><script type=""text/javascript""> <?php echo ""image_array = "".json_encode($images);?></script><?php endif; ?>",Check if an array is empty or exists
preg_split how to include the split delimiter in results?," I have this simple pattern that splits a text into periods: But I want to include . : or ! at the end of the array items.That is, now for ""good:news.everyone!"" I have: But I want: <code>  $text = preg_split(""/[\.:!\?]+/"", $text); array(""good"", ""news"", ""everyone"", """"); array(""good:"", ""news."", ""everyone!"", """");",How do I include the split delimiter in results for preg_split()?
Cannot read the id after tokenizing process," I have tb_sentence table : I wanna tokenize the sentence_content, so the tb_tokens tables will contain : here's my code : with the function of tokenizing is : the problem is The document_id cannot be read and cannot be inserted in tb+tokens table. How to call those document_id ? thank you :)EDITED QUESTION :every words (the result of tokenizing) has document_id and sentence_id. my problem is cannot call the document_id. how to call both sentence_id and document_id in every words ?  <code>  =========================================================================| id_row | document_id | sentence_id | sentence_content |=========================================================================| 1 | 1 | 0 | Introduction to Data Mining. || 2 | 1 | 1 | Describe how data mining. || 3 | 2 | 0 | The boss is right. |========================================================================= ==========================================================================| tokens_id | tokens_word | tokens_freq | sentence_id | document_id |==========================================================================| 1 | Introduction | 1 | 0 | 1 || 2 | to | 1 | 0 | 1 || 3 | Data | 1 | 0 | 1 || 4 | Mining | 1 | 0 | 1 || 5 | Describe | 1 | 1 | 1 |etc... $sentence_clean = array();$q1 = mysql_query(""SELECT document_id FROM tb_sentence ORDER BY document_id "") or die(mysql_error());while ($row1 = mysql_fetch_array($q1)) { $doc_id[] = $row1['document_id'];}$q2 = mysql_query('SELECT sentence_content, sentence_id, document_id FROM tb_sentence ') or die(mysql_error());while ($row2 = mysql_fetch_array($q2)) { $sentence_clean[$row2['document_id']][] = $row2['sentence_content'];}foreach ($sentence_clean as $kal) { if (trim($kal) === '') continue; tokenizing($kal);} function tokenizing($sentence) { foreach ($sentence as $sentence_id => $sentences) { $symbol = array(""."", "","", ""\\"", ""-"", ""\"""", ""("", "")"", ""<"", "">"", ""?"", "";"", "":"", ""+"", ""%"", ""\r"", ""\t"", ""\0"", ""\x0B""); $spasi = array(""\n"", ""/"", ""\r""); $replace = str_replace($spasi, "" "", $sentences); $cleanSymbol = str_replace($symbol, """", $replace); $quote = str_replace(""'"", ""\'"", $cleanSymbol); $element = explode("" "", trim($quote)); $elementNCount = array_count_values($element); foreach ($elementNCount as $word => $freq) { if (ereg(""([a-z,A-Z])"", $word)) { $query = mysql_query("" INSERT INTO tb_tokens VALUES ('','$word','$freq','$sentence_id', '$doc_id')""); } } }}",Cannot store the document_id
Cannot read the id_document ," I have tb_sentence table : I wanna tokenize the sentence_content, so the tb_tokens tables will contain : here's my code : with the function of tokenizing is : the problem is The document_id cannot be read and cannot be inserted in tb+tokens table. How to call those document_id ? thank you :)EDITED QUESTION :every words (the result of tokenizing) has document_id and sentence_id. my problem is cannot call the document_id. how to call both sentence_id and document_id in every words ?  <code>  =========================================================================| id_row | document_id | sentence_id | sentence_content |=========================================================================| 1 | 1 | 0 | Introduction to Data Mining. || 2 | 1 | 1 | Describe how data mining. || 3 | 2 | 0 | The boss is right. |========================================================================= ==========================================================================| tokens_id | tokens_word | tokens_freq | sentence_id | document_id |==========================================================================| 1 | Introduction | 1 | 0 | 1 || 2 | to | 1 | 0 | 1 || 3 | Data | 1 | 0 | 1 || 4 | Mining | 1 | 0 | 1 || 5 | Describe | 1 | 1 | 1 |etc... $sentence_clean = array();$q1 = mysql_query(""SELECT document_id FROM tb_sentence ORDER BY document_id "") or die(mysql_error());while ($row1 = mysql_fetch_array($q1)) { $doc_id[] = $row1['document_id'];}$q2 = mysql_query('SELECT sentence_content, sentence_id, document_id FROM tb_sentence ') or die(mysql_error());while ($row2 = mysql_fetch_array($q2)) { $sentence_clean[$row2['document_id']][] = $row2['sentence_content'];}foreach ($sentence_clean as $kal) { if (trim($kal) === '') continue; tokenizing($kal);} function tokenizing($sentence) { foreach ($sentence as $sentence_id => $sentences) { $symbol = array(""."", "","", ""\\"", ""-"", ""\"""", ""("", "")"", ""<"", "">"", ""?"", "";"", "":"", ""+"", ""%"", ""\r"", ""\t"", ""\0"", ""\x0B""); $spasi = array(""\n"", ""/"", ""\r""); $replace = str_replace($spasi, "" "", $sentences); $cleanSymbol = str_replace($symbol, """", $replace); $quote = str_replace(""'"", ""\'"", $cleanSymbol); $element = explode("" "", trim($quote)); $elementNCount = array_count_values($element); foreach ($elementNCount as $word => $freq) { if (ereg(""([a-z,A-Z])"", $word)) { $query = mysql_query("" INSERT INTO tb_tokens VALUES ('','$word','$freq','$sentence_id', '$doc_id')""); } } }}",Cannot store the document_id
Cannot read the document_id," I have tb_sentence table : I wanna tokenize the sentence_content, so the tb_tokens tables will contain : here's my code : with the function of tokenizing is : the problem is The document_id cannot be read and cannot be inserted in tb+tokens table. How to call those document_id ? thank you :)EDITED QUESTION :every words (the result of tokenizing) has document_id and sentence_id. my problem is cannot call the document_id. how to call both sentence_id and document_id in every words ?  <code>  =========================================================================| id_row | document_id | sentence_id | sentence_content |=========================================================================| 1 | 1 | 0 | Introduction to Data Mining. || 2 | 1 | 1 | Describe how data mining. || 3 | 2 | 0 | The boss is right. |========================================================================= ==========================================================================| tokens_id | tokens_word | tokens_freq | sentence_id | document_id |==========================================================================| 1 | Introduction | 1 | 0 | 1 || 2 | to | 1 | 0 | 1 || 3 | Data | 1 | 0 | 1 || 4 | Mining | 1 | 0 | 1 || 5 | Describe | 1 | 1 | 1 |etc... $sentence_clean = array();$q1 = mysql_query(""SELECT document_id FROM tb_sentence ORDER BY document_id "") or die(mysql_error());while ($row1 = mysql_fetch_array($q1)) { $doc_id[] = $row1['document_id'];}$q2 = mysql_query('SELECT sentence_content, sentence_id, document_id FROM tb_sentence ') or die(mysql_error());while ($row2 = mysql_fetch_array($q2)) { $sentence_clean[$row2['document_id']][] = $row2['sentence_content'];}foreach ($sentence_clean as $kal) { if (trim($kal) === '') continue; tokenizing($kal);} function tokenizing($sentence) { foreach ($sentence as $sentence_id => $sentences) { $symbol = array(""."", "","", ""\\"", ""-"", ""\"""", ""("", "")"", ""<"", "">"", ""?"", "";"", "":"", ""+"", ""%"", ""\r"", ""\t"", ""\0"", ""\x0B""); $spasi = array(""\n"", ""/"", ""\r""); $replace = str_replace($spasi, "" "", $sentences); $cleanSymbol = str_replace($symbol, """", $replace); $quote = str_replace(""'"", ""\'"", $cleanSymbol); $element = explode("" "", trim($quote)); $elementNCount = array_count_values($element); foreach ($elementNCount as $word => $freq) { if (ereg(""([a-z,A-Z])"", $word)) { $query = mysql_query("" INSERT INTO tb_tokens VALUES ('','$word','$freq','$sentence_id', '$doc_id')""); } } }}",Cannot store the document_id
Compressing and caching css with PHP," I am currently trying to achieve a compression method for my CSS files. I am basically copying the same way I do it for my JS files, but it is not working. I checked with Firebug tool, but there is no CSS being loaded.How can I call the css.php which will then call the compressed CSS files?Working code with JS, the file is scripts.php (I did not specify the .js extension): I wanted to do the same for my CSS files: The css.php is supposed to do the compression: <code>  <script type=""text/javascript"" src=""js/scripts.php?build=123&load=foo,bar""></script> <link href=""styles/css.php?build=123&load=foo,bar/jquery-ui-1.8rc2.custom"" type=""text/css""> <?phperror_reporting(E_ERROR);// see http://web.archive.org/web/20071211140719/http://www.w3.org/2005/MWI/BPWG/techs/CachingWithPhp// $lastModifiedDate must be a GMT Unix Timestamp// You can use gmmktime(...) to get such a timestamp// getlastmod() also provides this kind of timestamp for the last// modification date of the PHP file itselffunction cacheHeaders($lastModifiedDate) { if ($lastModifiedDate) { if (isset($_SERVER['HTTP_IF_MODIFIED_SINCE']) && strtotime($_SERVER['HTTP_IF_MODIFIED_SINCE']) >= $lastModifiedDate) { if (php_sapi_name()=='CGI') { Header(""Status: 304 Not Modified""); } else { Header(""HTTP/1.0 304 Not Modified""); } exit; } else { $gmtDate = gmdate(""D, d M Y H:i:s \G\M\T"",$lastModifiedDate); header('Last-Modified: '.$gmtDate); } }}// This function uses a static variable to track the most recent// last modification timefunction lastModificationTime($time=0) { static $last_mod ; if (!isset($last_mod) || $time > $last_mod) { $last_mod = $time ; } return $last_mod ;}lastModificationTime(filemtime(__FILE__));cacheHeaders(lastModificationTime());header(""Content-type: text/css; charset: UTF-8"");ob_start (""ob_gzhandler"");foreach (explode("","", $_GET['load']) as $value) { if (is_file(""$value.css"")) { $real_path = mb_strtolower(realpath(""$value.css"")); if (strpos($real_path, mb_strtolower(dirname(__FILE__))) !== false ||strpos($real_path, mb_strtolower(dirname(dirname(__FILE__)).DIRECTORY_SEPARATOR.'modules'.DIRECTORY_SEPARATOR)) !== false) { lastModificationTime(filemtime(""$value.css"")); include(""$value.css""); echo ""\n""; } }}?>",Compressing and caching CSS with PHP
php curl timeout error detection," I use curl to perform a HTTP request like this: How can I check if an error occurred, and whether it was a timeout error? <code>  $ch = curl_init();$timeout = 5;curl_setopt($ch,CURLOPT_URL,$url);curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);curl_setopt($ch,CURLOPT_CONNECTTIMEOUT,$timeout);$data = curl_exec($ch);curl_close($ch);",PHP curl timeout error detection
How to convert Excel 2003 File-Format to G-Sheet?," I can upload and convert CSV files by Drive API without any problem,but when sending XLS (rendered with PEAR XLS-Writer) or XLSX (rendered with PHPExcel) the Drive API complains: MIME type ""application/vnd.ms-excel"" apparently works better than ""application/vnd-excel""When I write out XLSX with content-type ""application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"" it's quite the same ...it gets stuck when loading the preview, when convert=true.When creating files with MS Excel and uploading them manually it works fine.I can insert/update, download/open the files (all fine) - but I want to convert them.With all the tests performed I guess the problem is related to the created file-format - or MIME type.Any hints why the conversion might fail...""Did ever someone managed to convert rendered XLS/XLSX?""The question basically is: What is the expected file-format + MIME-type in order to convert to gSheet?I'd accept any answer for the bounty, which provides a way to convert a multi-dimensional array to gSheet with several pages, in case it's not (yet) possible via the Drive API (for sure that would be the preferred way).This is a Google Drive API question - there's just no individual tag for this available. <code>  ""Error calling POST https://www.googleapis.com/upload/drive/v2/files?convert=true&uploadType=multipart&key=123: (500) Internal Error""",How to convert Excel File-Format to G-Sheet by Drive API upload?
How to convert Excel File-Format to G-Sheet by Drive API upload?," I can upload and convert CSV files by Drive API without any problem,but when sending XLS (rendered with PEAR XLS-Writer) or XLSX (rendered with PHPExcel) the Drive API complains: MIME type ""application/vnd.ms-excel"" apparently works better than ""application/vnd-excel""When I write out XLSX with content-type ""application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"" it's quite the same ...it gets stuck when loading the preview, when convert=true.When creating files with MS Excel and uploading them manually it works fine.I can insert/update, download/open the files (all fine) - but I want to convert them.With all the tests performed I guess the problem is related to the created file-format - or MIME type.Any hints why the conversion might fail...""Did ever someone managed to convert rendered XLS/XLSX?""The question basically is: What is the expected file-format + MIME-type in order to convert to gSheet?I'd accept any answer for the bounty, which provides a way to convert a multi-dimensional array to gSheet with several pages, in case it's not (yet) possible via the Drive API (for sure that would be the preferred way).This is a Google Drive API question - there's just no individual tag for this available. <code>  ""Error calling POST https://www.googleapis.com/upload/drive/v2/files?convert=true&uploadType=multipart&key=123: (500) Internal Error""",How to convert Excel File-Format to G-Sheet by Drive API upload?
How to convert Excel 2007 File-Format to G-Sheet by Drive API upload?," I can upload and convert CSV files by Drive API without any problem,but when sending XLS (rendered with PEAR XLS-Writer) or XLSX (rendered with PHPExcel) the Drive API complains: MIME type ""application/vnd.ms-excel"" apparently works better than ""application/vnd-excel""When I write out XLSX with content-type ""application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"" it's quite the same ...it gets stuck when loading the preview, when convert=true.When creating files with MS Excel and uploading them manually it works fine.I can insert/update, download/open the files (all fine) - but I want to convert them.With all the tests performed I guess the problem is related to the created file-format - or MIME type.Any hints why the conversion might fail...""Did ever someone managed to convert rendered XLS/XLSX?""The question basically is: What is the expected file-format + MIME-type in order to convert to gSheet?I'd accept any answer for the bounty, which provides a way to convert a multi-dimensional array to gSheet with several pages, in case it's not (yet) possible via the Drive API (for sure that would be the preferred way).This is a Google Drive API question - there's just no individual tag for this available. <code>  ""Error calling POST https://www.googleapis.com/upload/drive/v2/files?convert=true&uploadType=multipart&key=123: (500) Internal Error""",How to convert Excel File-Format to G-Sheet by Drive API upload?
How to use OrderBy in Doctrine with findBY function in symfony2, I am using the findBy() method on a Doctrine repository: How can I order the results? <code>  $entities = $repository->findBy(array('type'=> 'C12'));,How to order results with findBy() in Doctrine
PHP Function to get MP# duration," Is there any PHP function that will give me the MP3 duration. I looked at ID 3 function but i don't see any thing there for duration and apart from this,id3 is some kind of tag,which will not be there in all MP3 so using this will not make any sense. <code> ",PHP Function to get MP3 duration
PHPUnit testing, Let's say I want to test a simple helper that takes a class name as an argument and makes a redirection. How am I supposed to test this if the function is called in many places from inside a couple of controllers? Should I test every class name that was passed as a parameter in the whole code (write them in the provider function myself)? Or is there a magical function which does that for me? <code> ,Using PHPUnit to test helper functions
howc can i encrypt password before submit the form to the controller codeigniter," I have a simple html login form when I submit the form and in the controller The problem here, it shows the plain password, if I type 123456 in controller , I get 123456.Is this a security issue?Can any one get my password through a network monitoring tool like wireshark?how to avoid this? Can I encrypt the password in view, before send to the controller? <code>  <form method=""post"" action=""http://www.example.com/login""> <input type=""text"" name=""text_box"" /> <input type=""password"" name=""pass_word"" /> <input type=""submit"" name=""submit""></form> public function login(){ $pass_word = $this->input->post('pass_word'); die($pass_word);}",Codeigniter: How can I encrypt password before submitting the form to the controller?
Codeigniter: How can i encrypt password before submitting the form to the controller?," I have a simple html login form when I submit the form and in the controller The problem here, it shows the plain password, if I type 123456 in controller , I get 123456.Is this a security issue?Can any one get my password through a network monitoring tool like wireshark?how to avoid this? Can I encrypt the password in view, before send to the controller? <code>  <form method=""post"" action=""http://www.example.com/login""> <input type=""text"" name=""text_box"" /> <input type=""password"" name=""pass_word"" /> <input type=""submit"" name=""submit""></form> public function login(){ $pass_word = $this->input->post('pass_word'); die($pass_word);}",Codeigniter: How can I encrypt password before submitting the form to the controller?
Magento - Get Default Store Code within Backend," I am trying to find out the default store code from within Magento's backend. While this sounds rather simple, I just couldn't find any solution.The snippets I found are either (although this doesn't correspond to the default but the current store) or But from within the backend these will only return ""admin"" (since the backend is treated as some kind of special store with store ID 0 - which is the value of DEFAULT_STORE_ID). Could anyone please point me to a way to get the actual default store code from anywhere? (That store code that is set by Magento if both ""Add Store Code to URLs"" and ""Auto-redirect to Base URL"" options are activated)Just a little background why I need this: I need to generate a URL within the Magento configuration that still works if ""Add Store Code to URLs"" is activated. I can set any store code, so if I'm within the configuration scope of one of them, I can just use that one. But since it also has to work if the configuration scope is set to default or website, I want to use the default store code in that case.I found a solution with: However, this leaves me with some follow-up questions.Why does Mage::app()->getWebsite() return a special website object that only includes the special admin store, while Mage::app()->getWebsites() will return an array that only includes the usual frontend website, but not the object returned by getWebsite()?Why does the frontend website object occupy index 1 in the array, while index 0 is unused? I would really like to know the reason for having to use a magic number there (if I have to). <code>  Mage::app()->getStore()->getCode() Mage::app()->getStore(Mage_Catalog_Model_Abstract::DEFAULT_STORE_ID)->getCode(); $websites = Mage::app()->getWebsites();$code = $websites[1]->getDefaultStore()->getCode();",How to get the default Store code within the Magento backend
Replace a color with anoter in a image with PHP, Can someone help me with a simple script to replace a specific color with another color in an image using PHP?Here is a example (color changed from green to yellow). <code> ,Replace a color with another in an image with PHP
mcrypt_create_iv PHP openssl_random_pseudo_bytes," I need to up the security of our website, and is currently using the guide here: http://crackstation.net/hashing-security.htm, and also the generation of random passwords here: https://defuse.ca/generating-random-passwords.htm. I gather that both uses the function mcrypt_create_iv() for generating random bytes (or bits?), but for some reason, I encounter errors in installing php-mcrypt under CentOS 6. Fortunately, the first link said that openssl_random_pseudo_bytes() is a CSPRNG (and the PHP documentation and other sources also back that claim), and is available on the current server installation of PHP 5.4, so I have no choice but to use that at the moment. With these in mind, I would like to ask the following:Does a direct code substitution suffice without affecting security? (That is, just replacing calls to mcrypt_create_iv() to openssl_random_pseudo_bytes() would do?)About the constants mentioned in the code (http://crackstation.net/hashing-security.htm#properhashing), the guide says that ""[m]ake sure your salt is at least as long as the hash function's output."" Am I right in assuming that PBKDF2_SALT_BYTES and PBKDF2_HASH_BYTES are both set to 24 bytes since the output of the pbkdf2() function would be just 24 bytes, not 32 (for 256 bits) since the underlying algorithm used is sha256? (Yes, I am using key stretching too.) In a related note, is 24 bytes fine, or should be increased/decreased, and what effect would that have?Advanced thanks for those who will answer. <code> ",PHP - Replacing mcrypt_create_iv() with openssl_random_pseudo_bytes()
mcrypt_create_iv() vs openssl_random_pseudo_bytes()," I need to up the security of our website, and is currently using the guide here: http://crackstation.net/hashing-security.htm, and also the generation of random passwords here: https://defuse.ca/generating-random-passwords.htm. I gather that both uses the function mcrypt_create_iv() for generating random bytes (or bits?), but for some reason, I encounter errors in installing php-mcrypt under CentOS 6. Fortunately, the first link said that openssl_random_pseudo_bytes() is a CSPRNG (and the PHP documentation and other sources also back that claim), and is available on the current server installation of PHP 5.4, so I have no choice but to use that at the moment. With these in mind, I would like to ask the following:Does a direct code substitution suffice without affecting security? (That is, just replacing calls to mcrypt_create_iv() to openssl_random_pseudo_bytes() would do?)About the constants mentioned in the code (http://crackstation.net/hashing-security.htm#properhashing), the guide says that ""[m]ake sure your salt is at least as long as the hash function's output."" Am I right in assuming that PBKDF2_SALT_BYTES and PBKDF2_HASH_BYTES are both set to 24 bytes since the output of the pbkdf2() function would be just 24 bytes, not 32 (for 256 bits) since the underlying algorithm used is sha256? (Yes, I am using key stretching too.) In a related note, is 24 bytes fine, or should be increased/decreased, and what effect would that have?Advanced thanks for those who will answer. <code> ",PHP - Replacing mcrypt_create_iv() with openssl_random_pseudo_bytes()
"How to override the ""form_div_layout"" base template in symfony 2"," I want to override the base tempale to be used in twig.I have used this and I have copied the file from original location to app/resources/views/Form/form_div_layout.html.twig but still I am not able to see the changes in template rendering.Basically I just want to add the class in DIV box generated Do I need to make any more change ? <code>  twig: form: resources: - 'form_div_layout.html.twig' {% block form_widget_compound %}{% spaceless %} <div class=""MYCLASS"" {{ block('widget_container_attributes') }}> {% if form.parent is empty %} {{ form_errors(form) }} {% endif %} {{ block('form_rows') }} {{ form_rest(form) }} </div>{% endspaceless %}{% endblock form_widget_compound %}","How to override the ""form_div_layout"" base template?"
How to Compile LESS Server Side with PHP," I want the following things to occur:Have the process automated server side.Simply be able to reference the LESS file as I would a CSS file in my code.The user is returned minified CSS instead of the LESS file - cached so the compiler doesn't need to run unless the LESS file has been updated.For this to work with any LESS file that is referenced anywhere within my domain.I spotted Lessphp, but the documentation isn't very clear, nor does it explain how to dynamically get any LESS file to it. I thought I would post up how I got it all working as I haven't seen a run through on how to achieve this with PHP. <code> ",Compile a referenced LESS file into CSS with PHP automatically
Compile LESS CSS with PHP," I want the following things to occur:Have the process automated server side.Simply be able to reference the LESS file as I would a CSS file in my code.The user is returned minified CSS instead of the LESS file - cached so the compiler doesn't need to run unless the LESS file has been updated.For this to work with any LESS file that is referenced anywhere within my domain.I spotted Lessphp, but the documentation isn't very clear, nor does it explain how to dynamically get any LESS file to it. I thought I would post up how I got it all working as I haven't seen a run through on how to achieve this with PHP. <code> ",Compile a referenced LESS file into CSS with PHP automatically
Compile referenced LESS CSS with PHP automatically," I want the following things to occur:Have the process automated server side.Simply be able to reference the LESS file as I would a CSS file in my code.The user is returned minified CSS instead of the LESS file - cached so the compiler doesn't need to run unless the LESS file has been updated.For this to work with any LESS file that is referenced anywhere within my domain.I spotted Lessphp, but the documentation isn't very clear, nor does it explain how to dynamically get any LESS file to it. I thought I would post up how I got it all working as I haven't seen a run through on how to achieve this with PHP. <code> ",Compile a referenced LESS file into CSS with PHP automatically
how to check one array is exact subset of another array - php array," How can I determine if one array is a subset of another (all elements in the first are present in the second)? <code>  $s1 = ""string1>string2>string3>string4>string5>string6>""; $arr1 = explode("">"", $s1); $s2 = ""string1>string4>string5""; $arr2 = explode("">"", $s2); $isSubset = /* ??? */",Test if one array is a subset of another
How to create folder under Amazon S3 bucket through PHP API?," I am developing an iPhone app to allow user upload photo and share. I want to use S3 to store uploaded images as well as processed images (foe example, thumbnail, reduced size image). I've installed AWS PHP SDK on my EC2 instance, my questions are:1) Should photos uploaded from iPhone app go to a EC2 directory first, then copied over to S3 bucket, or it should directly uploaded to S3?2) How can I create different folders under the S3 bucket through PHP SDK and how to read the files from the folder?Thanks in advance! <code> ",How to create folder under Amazon S3 bucket through PHP SDK?
How foreach works in php?," I have a doubt in php foreach iteration.Please look my below code.CODE : OUTPUT : While iterating array i used same array name to value key foreach($arr as $arr) but it works fine. How it is working?.Why it doesn't override the array value while iterating?I want to know how foreach iteration is working.Please Help me! Thanks in advanceLogan <code>  $arr=array(1,2,3); echo '$arr value : '. $arr; echo '<br>'; foreach($arr as $arr){ echo $arr.'<br>'; } echo '$arr value : '. $arr; $arr value : Array123$arr value : 3",Php foreach- Why it doesn't override the array value while iterating?
convert -- or --- or ----... to - using preg_replace?," I have a string, I want to convert multiple appearances of - to just one -.I have tried preg_replace('/--+/g', '-', $string) but that simply returns nothing.. <code> ",convert multiple instances of a character to only one (aa = a) using preg_replace?
Returning custom input data from paypal," I created a basic purchase script where a user enters their desired username and password, then they can purchase the membership on my website. But, when it goes to the return page, the values Username and Password don't show in the url. Here is the code: <code>  <form action=""https://www.paypal.com/cgi-bin/webscr"" method=""post""> <input type=""hidden"" name=""cmd"" value=""_s-xclick""> <input type=""hidden"" name=""hosted_button_id"" value=""CKQH4CYEMYLWW""> <center> <span id=""msgbox"" style=""display:none;""></span> <br><br> <input type=""text"" id=""rusername"" name=""rusername"" placeholder=""Desired Username"" class=""usernamelogin""> <br><br> <input type=""password"" id=""rpassword"" name=""rpassword"" placeholder=""Desired Password"" class=""passwordlogin""> <br><br> <input type=""image"" src=""https://www.paypalobjects.com/en_US/GB/i/btn/btn_buynowCC_LG.gif"" border=""0"" name=""submit"" alt=""PayPal The safer, easier way to pay online.""> <img alt="""" border=""0"" src=""https://www.paypalobjects.com/en_GB/i/scr/pixel.gif"" width=""1"" height=""1""></form>",Returning custom input data from PayPal
limit file uploads using valums ajax uploader," Im using Valums awesome file uploader - https://github.com/valums/file-uploaderOne thing i want to add to it is a limit based on the users account balance.The first image is always free, so you may upload one image even if your balance is 0.Additional images will require 0.50 worth or credit. If they don't have enough credit it will show an alert and the file will not be uploaded.the balance can be received from a php session variable $_SESSION['user']['credit']Here is the code so far Sorry, the question is, can you offer any advice on implementing what i have described above?CheersEdit:I have tried the following using the recommendation below (probably incorrectly).My attempt to stop the file uploading with return false is unsuccessful, the upload starts immediately, seems to get paused by the alert and once the alert is closed the upload completes.documentation says onSubmit(String id, String fileName) - called when the file is submitted to the uploader portion of the code. Note that this does not mean the file upload will begin at this point. Return false to prevent submission to the uploader. Simplified it, this works i am then counting the uploaded files on a confirmation page which deducts the credit <code>  function createUploader(){ var running = 0; var uploader = new qq.FileUploader({ multiple: true, element: $('#file-uploader')[0], action: 'classes/upload.item.php', allowedExtensions: ['jpg', 'png', 'gif'], params: {item: '<?php echo $item_id ?>'}, onSubmit: function(id, fileName){ running++; $('.button').replaceWith('<a class=""button large grey full-width"">Please wait...</a>'); }, onComplete: function(id, fileName, responseJSON){ running--; $("".thumbnails"").append('<li class=""span2""> <a class=""thumbnail""><img src=""<?php echo $path; ?>'+fileName+'"" /></a> </li>'); if(running==0){ $('.button').replaceWith('<a class=""button large green full-width"" href=""confirm/<?php echo $item_id; ?>"">Continue to next step</a>'); } }, onCancel: function(id, fileName){ running--; }, debug: true }); } <?php// count uploaded files$path = 'uploads/' . $_SESSION['user']['username'] . '/' . $item_id . '/thumbs/s_';$files = glob($path . '*.*'); // has free upload been used yet? incase of page refresh etcif (count($files) >= 1) { $used_free = 'true';} else { $used_free = 'false';}?><script> function createUploader(){ var credit = <?php echo $_SESSION['user']['credit'] ?>; var used_free = <?php echo $used_free ?>; var running = 0; var uploader = new qq.FileUploader({ multiple: true, element: $('#file-uploader')[0], action: 'classes/upload.item.php', allowedExtensions: ['jpg', 'png', 'gif'], params: {item: '<?php echo $item_id ?>'}, onSubmit: function(id, fileName){ console.log(used_free); if (!used_free) { used_free = 'true'; running++; $('.button').replaceWith('<a class=""button large grey full-width"">Please wait...</a>'); } else { $.get('ajax/getCredit.php', function (data) { if (data.credit >= 0.5) { running++; $('.button').replaceWith('<a class=""button large grey full-width"">Please wait...</a>'); } else { alert('you do not have enough credits'); return false; } }, ""json""); } }, onComplete: function(id, fileName, responseJSON){ running--; $("".thumbnails"").append('<li class=""span2""> <a class=""thumbnail""><img src=""<?php echo $path; ?>'+fileName+'"" /></a> </li>'); if(running==0){ $('.button').replaceWith('<a class=""button large green full-width"" href=""confirm/<?php echo $item_id; ?>"">Continue to next step</a>'); } }, onCancel: function(id, fileName){ running--; }, debug: true }); }</script> function createUploader(){ var credit = <?php echo $_SESSION['user']['credit'] ?>; var used_free = <?php echo $used_free ?>; var running = 0; var uploader = new qq.FileUploader({ multiple: true, element: $('#file-uploader')[0], action: 'classes/upload.item.php', allowedExtensions: ['jpg', 'png', 'gif'], params: {item: '<?php echo $item_id ?>'}, onSubmit: function(id, fileName){ if (!used_free) { used_free = 'true'; running++; $('.button').replaceWith('<a class=""button large grey full-width"">Please wait...</a>'); } else { if (credit >= 0.5) { running++; credit = credit - 0.5; $('.button').replaceWith('<a class=""button large grey full-width"">Please wait...</a>'); } else { alert('you do not have enough credits'); return false; } } }, onComplete: function(id, fileName, responseJSON){ running--; $("".thumbnails"").append('<li class=""span2""> <a class=""thumbnail""><img src=""<?php echo $path; ?>'+fileName+'"" /></a> </li>'); if(running==0){ $('.button').replaceWith('<a class=""button large green full-width"" href=""confirm/<?php echo $item_id; ?>"">Continue to next step</a>'); } }, onCancel: function(id, fileName){ running--; }, debug: true }); }",Valums file-uploader: Limit uploads by users credit
PHP DOM prevent entities from causing errors," I need to load some arbitrary HTML into an existing DOMDocument tree. Previous answers suggest using DOMDocumentFragment and its appendXML method to handle this.As @Owlvark indicates in the comments, xml is not html and therefore this is not a good solution.The main issue that I had with it was that entities like &ndash were causing errors because the appendXML method expects well formed XML.We could define the entities, but this doesn't take care of the problem that not all html is valid xml.What is a good solution for importing HTML into a DOMDocument tree? <code> ",PHP DOM append HTML to existing document without DOMDocumentFragment::appendXML
zf2 doctrine2 getServiceLocator in Plugin class," I am trying to get service locator/entity manager in plugin class, How can I get that. In my controller I am getting it like this. but in plugin class I am getting error on $this->getServiceLocator() line. because this is not available in plugin class. How can I do the same so that I can fetch some records and insert few in database in plugin. I do have MvcEvent $e object in my plugin class, I can make use of this to get entity manager?I have used this plugin to create my pluginAny guide will be appriciated.update: I am calling above class in module.php I am registering this plugin in module.config.php <code>  public function getEntityManager(){ if(null === $this->em){ $this->em = $this->getServiceLocator()->get('doctrine.entitymanager.orm_default'); } return $this->em;}public function setEntityManager(EntityManager $em){ $this->em = $em;} namespace Auth\Controller\Plugin;use Zend\Mvc\Controller\Plugin\AbstractPlugin;use Zend\EventManager\EventInterface as Event;use Zend\Authentication\AuthenticationService;use Doctrine\ORM\EntityManager;use Auth\Entity\User;use Zend\Mvc\MvcEvent;class AclPlugin extends AbstractPlugin{ /* * @var Doctrine\ORM\EntityManager */ protected $em; public function checkAcl($e) { $auth = new AuthenticationService(); if ($auth->hasIdentity()) { $storage = $auth->getStorage()->read(); if (!empty($storage->role)) $role = strtolower ( $storage->role ); else $role = ""guest""; } else { $role = ""guest""; } $app = $e->getParam('application'); $acl = new \Auth\Acl\AclRules(); $matches = $e->getRouteMatch(); $controller = $matches->getParam('controller'); $action = $matches->getParam('action', 'index'); $resource = strtolower( $controller ); $permission = strtolower( $action ); if (!$acl->hasResource($resource)) { throw new \Exception('Resource ' . $resource . ' not defined'); } if ($acl->isAllowed($role, $resource, $permission)) { $query = $this->getEntityManager($e)->createQuery('SELECT u FROM Auth\Entity\User u'); $resultIdentities = $query->execute(); var_dump($resultIdentities); exit(); return; } else { $matches->setParam('controller', 'Auth\Controller\User'); // redirect $matches->setParam('action', 'accessdenied'); return; } } public function getEntityManager($e) { var_dump($this->getController()); // returns null exit(); if (null === $this->em) { $this->em = $this->getController()->getServiceLocator()->get('doctrine.entitymanager.orm_default'); } return $this->em; } public function setEntityManager(EntityManager $em) { $this->em = $em; }} public function onBootstrap(Event $e) { $application = $e->getApplication(); $services = $application->getServiceManager(); $eventManager = $e->getApplication()->getEventManager(); $eventManager->attach('dispatch', array($this, 'loadConfiguration'),101); }public function loadConfiguration(MvcEvent $e) { $e->getApplication()->getServiceManager() ->get('ControllerPluginManager')->get('AclPlugin') ->checkAcl($e); //pass to the plugin... } return array( 'controllers' => array( 'invokables' => array( 'Auth\Controller\User' => 'Auth\Controller\UserController', ), ), 'controller_plugins' => array( 'invokables' => array( 'AclPlugin' => 'Auth\Controller\Plugin\AclPlugin', ), ),);",ZF2 getServiceLocator in ControllerPlugin class
Testing REST API's using PHPUnit," I am building a set of RESTful APIs and am now required to write unit tests for them. I am not sure what the unit tests should actually test.Should unit tests check whether the response being received from the server is correct for various inputs? If so, is it a good practice to have a set of correct response formats pre-defined and check the responses against them?UPDATEI am calling these services through CURL and I can definitely check status code. The response may vary for different inputs, so should I check for all possible responses?How is unit testing usually done for RESTful APIs using PHPUnit in general? <code> ",Testing REST APIs using PHPUnit
Best engine to use for session storage," I want to use MySQL to store session variables. From what I understand this means that on every page request there will be one read and one write to the table.Which MySQL storage engine is best suited for this task? MyISAM, InnoDB , MariaDB (which I don't see in PHPMyAdmin), Memory, or something else entirely? <code> ",Best MySQL storage engine to use for PHP session storage
How to crop a section of a pdf file to png using ghostscript," I need to crop a certain section in my PDF file to PNG (this will be automated using Ghostscript with PHP). This is what i do now which basically turns the first page of a PDF to PNG: Specifically, i'm trying to crop this top left card to a PNG. I'm also open for more suggestions on how to accomplish this.  <code>  gs -q -dNOPAUSE -dBATCH \ -sDEVICE=pngalpha -dEPSCrop \ -sOutputFile=output.png input.pdf",How to crop a section of a PDF file to PNG using Ghostscript
timezone error when running app/console," Can anyone tell me why am I getting this error when running app/console in a brand new formatted macbook with the latest MAMP installed ? Warning: date_default_timezone_get(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'Europe/Helsinki' for 'EEST/3.0/DST' instead in /../Logger.php line 112I have checked the path of php.ini and marked out the date.timezone = ""Europe/Athens""Also restarted MAMP/apache several times. <code> ",date_default_timezone_get(): It is not safe to rely on the system's timezone settings
check javascript is ON or Not," Possible Duplicate: How to detect if JavaScript is disabled? In my php application i need to check whether the javascript is turn on or not in browser. I have tried this <noscript><p>javascript is off<p></noscript> it's working fine.But i need to redirect to a page if javascript is OFF so developed like this But i/ts always redirecting to index.php, there is any way to do this. <code>  <noscript><?php header('Location: index.php');?></noscript>",check if javascript is available and redirect if javascript is not available
Return the first 2 digits a number, How can I get the last 2 digits of: to my object:  <code>  <departureDate>200912</departureDate> $year = $flightDates->departureDate->year;,Return the last 2 digits a number
Search a string without case sensitivity in php," I have the following code: But I want that my delimiter is case-insensitive. <code>  explode(""delimiter"", $snippet);",PHP case-insensitive explode()
Echo html stored as string," In PHP (Wordpress theme function, trying to add html stored in theme options to blog header),I'm trying to get the following line: To render html just like: The results are different, the first one will display html tags while the second will process the html.Can someone please help.Thanks <code>  $x=""<p>html</p>""; echo $x; echo ""<p>html</p>"";",Do not escape html stored as string (execute or process html string)
php array group," I have the following array How can I group the array by id? Is there any native php functions are available to do this?While this approach works, I want to do this using a foreach, since with the above I will get duplicate items, which I'm trying to avoid?On the above example id have 2 items, so its need to be inside of the id <code>  Array( [0] => Array ( [id] => 96 [shipping_no] => 212755-1 [part_no] => reterty [description] => tyrfyt [packaging_type] => PC ) [1] => Array ( [id] => 96 [shipping_no] => 212755-1 [part_no] => dftgtryh [description] => dfhgfyh [packaging_type] => PC ) [2] => Array ( [id] => 97 [shipping_no] => 212755-2 [part_no] => ZeoDark [description] => s%c%s%c%s [packaging_type] => PC ))",How to group subarrays by a column value?
Cant run Zend Framework 2 on a server - Class 'Zend\Mvc\Application' not found, I can't run ZF2 on server. Every time I got this error: Class 'Zend\Mvc\Application' not found in /home/.../public/index.php on line 12.In apache logs: mod_fcgid: stderr: PHP Fatal error: Class 'Zend\\Mvc\\Application' not found in /home/.../index.php on line 12.I've tried to change permissions of ZF2_PATH with no results. Path is correct. Maybe that's something with mod_fcgid?Anyone have any ideas? <code> ,Can't run Zend Framework 2 on a server - Class 'Zend\Mvc\Application' not found
"regex guys, tow words and spaces"," I have two words spirited by space of course, and a lot of spaces before and after,what I need to do is to remove the before and after spaces without the in between once.How can I remove the spaces before and after it? <code> ",How to remove spaces before and after a string?
recursion vs iteration PHP," Iterative factorial function: Recursive factorial function: I have to develop a function to calculate factorial in my PHP program. I figured it out that I could do it in above both ways.What I don't know is which method is better to used and why? What's the industry standard? How can I select one of the methods between above two? What's the condition to determine which one is better?I know It's a lot of questions but since I'm new to PHP and hope someone will help me out. Given that, actually the function I'm using is not just factorial. It has got some other lines too which do some other tasks. For the sake of simplification let's assume that these are the two functions. So anyone can understand my question rather complexing it for no reason.What I'm basically referring to is the recursion vs. iteration in PHP. <code>  function factorial($number) { $result = 1; while ($number > 0) { $result *= $number; $number--; } return $result;} function factorial($number) { if ($number < 2) { return 1; } else { return ($number * factorial($number-1)); }}",Recursion vs. iteration in PHP
In Yii framework how can I Combine two columns and show as display string in dropdownlist," I have a dropDownList in my view, it is populating from clients table, the table contains columns like first_name, last_name,id etc., Now I want to show the first_name and last_name as display text and id as value in drop down list, I'm done with id as value and first_name as display text, but here I want to combine those columns (first_name and last_name) and use as display text.in model in view <code>  function getClients(){ $Clients = Client::model()->findAll(); $list = CHtml::listData($Clients , 'client_id', 'first_name'); return $list;} echo $form->dropDownList($model,'client_id',$model->getClients());",In Yii framework how can I Combine columns and show as display string in dropdownlist
how to assign php array values to javascript array," How to assign PHP array values to JavaScript array?Using below PHP code I am storing data in PHP array: Using below JavaScript code I am trying to store PHP array data into JavaScript arrayWhat and how to write variable at below 2 mentioned locations so my code can work? <code>  <?php$str_query=""SELECT title,description FROM tablename ORDER BY title"";$rs_sch=GetRecordset($str_query); $int_count=0;$schd_arr = array();while(!$rs_sch->EOF()){$schd_arr[$int_count] = $rs_sch->Fields(""title"")."": "".$rs_sch->Fields(""description"");$rs_sch->MoveNext();$int_count++;}?> <script type=""text/javascript"" language=""javascript"">var pausecontent=new Array()for (sch_cnt=0; sch_cnt<*Here I want to assign value of $int_count php variable*; sch_cnt++){pausecontent[sch_cnt]=<?php *Here I want to assign php array and counter values (something like this - $schd_arr[sch_cnt];)* ?>;}</script>",How to assign PHP array values to JavaScript array
Greedy matching multiple groups using regex," I would like to grab the contents of any value between pairs of <tag></tag> tags. The regex I have come up with is/<tag>(.*)</tag>/mThough, it appears to be greedy and is capturing everything within the enclosed parentheses up until the very last </tag>. I would like it to be as lazy as possible so that everytime it sees a closing tag, it will treat that as a match group and start over.How can I write the regex so that I will be able to get multiple matches in the given scenario?I have included a sample of what I am describing in the following linkhttp://rubular.com/r/JW5M3rnqIENote: This is not XML, nor is it really based on any existing standard format. I won't need anything sophisticated like a full-fledged library that comes with a nice parser. <code>  <tag>This is one block of text</tag><tag>This is another one</tag>",Lazy (ungreedy) matching multiple groups using regex
Doctrine2 silently fails to insert data the first time," I am using Doctrine and it fails to INSERT data the first time I do a persist/flush but works the second time, and fails the 3rd time: Here is what I notice on failing attempts:- There is nothing in the PHP logs (error_reporting is set to all, other Doctrine and PHP issues, including warnings, do show up in the logs).- The Doctrine SQLLogger doesn't show anything (on the second attempt it does show the INSERT). Some troubleshooting steps:- I wanted to troubleshoot further by replacing the failing attempt with a DQL INSERT query but ""INSERT statements are not allowed in DQL"" :(- Doing an additional flush before instantiating $entity in the failing attempt doesn't help- I can insert as many entries as I want to the database manually and it works, even on first attempt.- I have the same issue with 2.4.0-DEV.- I have the same issue with 2.2.2.I might add that the code is executed inside a PHPunit test, and that in a previous test, I am not experiencing the issue (i.e. Doctrine does properly perform an INSERT on the first persist/flush).Any idea where the problem might be coming from ? Version info:-PHP 5.4-Doctrine 2.3.0 (pdo_mysql driver)-MySQL 5.5.24-Ubuntu 12.04-PHPUnit 3.7.7Update 1:Alright, this is part of the answer. The problem seems to by a routine I use in my PHPUnit setUp() to truncate my database tables between each test: if I truncate my tables between each test, I have problems (i.e. some INSERTs fail). if I don't truncate, everything works fines.The way the INSERTs fail seem to be mode random than initially thought, as I created 2 tests of 3 inserts each (and only ran those). When truncating tables between each test, here is what happens to the 3 inserts in each test:-test 1: SUCCESS / SUCCESS / SUCCESS-test 2: SUCCESS / SUCCESS / FAILURE (I don't have FAILURE / SUCCESS / FAILURE like I used to).Here is the piece of code I'm using to truncate the tables: I got the code from this SO post and as far as I can see it looks good. I have the same issue if I use this other code: I modified my schema to test with and without the foreign keys and I have the same issue in both cases. <code>  // there is no code executed between any of the attempts$entity = new My\Entity();$entity->setTag('A'); // just a random field$em->persist($entity);$em->flush();// INSERT not performed// if I exit here and check the database, no entry is added$entity = new My\Entity();$entity->setTag('B');$em->persist($entity);$em->flush();// INSERT performed// if I exit here and check the database, 1 entry has been added// and I can see it's ""B""$entity = new My\Entity();$entity->setTag('C');$em->persist($entity);$em->flush();// INSERT not performed// if I exit here and check the database, there is still only 1 entry added// and I can see it's ""B"" $cmd = $em->getClassMetadata($className);$connection = $em->getConnection();$dbPlatform = $connection->getDatabasePlatform();$connection->beginTransaction();try { $connection->query('SET FOREIGN_KEY_CHECKS=0'); $q = $dbPlatform->getTruncateTableSql($cmd->getTableName()); $connection->executeUpdate($q); $connection->query('SET FOREIGN_KEY_CHECKS=1'); $connection->commit();}catch (\Exception $e) { $connection->rollback();} $connection = $entityManager->getConnection();$platform = $connection->getDatabasePlatform();$connection->executeUpdate($platform->getTruncateTableSQL('my_table', true /* whether to cascade */));",Doctrine2 silently fails to insert data
Doctrine2 silently fails to insert data the first time (only works on 2nd attempt)," I am using Doctrine and it fails to INSERT data the first time I do a persist/flush but works the second time, and fails the 3rd time: Here is what I notice on failing attempts:- There is nothing in the PHP logs (error_reporting is set to all, other Doctrine and PHP issues, including warnings, do show up in the logs).- The Doctrine SQLLogger doesn't show anything (on the second attempt it does show the INSERT). Some troubleshooting steps:- I wanted to troubleshoot further by replacing the failing attempt with a DQL INSERT query but ""INSERT statements are not allowed in DQL"" :(- Doing an additional flush before instantiating $entity in the failing attempt doesn't help- I can insert as many entries as I want to the database manually and it works, even on first attempt.- I have the same issue with 2.4.0-DEV.- I have the same issue with 2.2.2.I might add that the code is executed inside a PHPunit test, and that in a previous test, I am not experiencing the issue (i.e. Doctrine does properly perform an INSERT on the first persist/flush).Any idea where the problem might be coming from ? Version info:-PHP 5.4-Doctrine 2.3.0 (pdo_mysql driver)-MySQL 5.5.24-Ubuntu 12.04-PHPUnit 3.7.7Update 1:Alright, this is part of the answer. The problem seems to by a routine I use in my PHPUnit setUp() to truncate my database tables between each test: if I truncate my tables between each test, I have problems (i.e. some INSERTs fail). if I don't truncate, everything works fines.The way the INSERTs fail seem to be mode random than initially thought, as I created 2 tests of 3 inserts each (and only ran those). When truncating tables between each test, here is what happens to the 3 inserts in each test:-test 1: SUCCESS / SUCCESS / SUCCESS-test 2: SUCCESS / SUCCESS / FAILURE (I don't have FAILURE / SUCCESS / FAILURE like I used to).Here is the piece of code I'm using to truncate the tables: I got the code from this SO post and as far as I can see it looks good. I have the same issue if I use this other code: I modified my schema to test with and without the foreign keys and I have the same issue in both cases. <code>  // there is no code executed between any of the attempts$entity = new My\Entity();$entity->setTag('A'); // just a random field$em->persist($entity);$em->flush();// INSERT not performed// if I exit here and check the database, no entry is added$entity = new My\Entity();$entity->setTag('B');$em->persist($entity);$em->flush();// INSERT performed// if I exit here and check the database, 1 entry has been added// and I can see it's ""B""$entity = new My\Entity();$entity->setTag('C');$em->persist($entity);$em->flush();// INSERT not performed// if I exit here and check the database, there is still only 1 entry added// and I can see it's ""B"" $cmd = $em->getClassMetadata($className);$connection = $em->getConnection();$dbPlatform = $connection->getDatabasePlatform();$connection->beginTransaction();try { $connection->query('SET FOREIGN_KEY_CHECKS=0'); $q = $dbPlatform->getTruncateTableSql($cmd->getTableName()); $connection->executeUpdate($q); $connection->query('SET FOREIGN_KEY_CHECKS=1'); $connection->commit();}catch (\Exception $e) { $connection->rollback();} $connection = $entityManager->getConnection();$platform = $connection->getDatabasePlatform();$connection->executeUpdate($platform->getTruncateTableSQL('my_table', true /* whether to cascade */));",Doctrine2 silently fails to insert data
How to set default Doctrine2 mapping from services.yml?," Working on several projects which use the same database, we made a Symfony2 Bundle to map all common functions.Now the issue is that we have a second database, and we need the same kind of service, just as the first one.config.yml @AcmeMainBundle > services.yml Acme\MainBundle\MainManager This set works fine, I get all expected results since default_entity_manager is set to main which is the right EntityManager. But now here's the issue.@AcmeSubBundle > services.yml Acme\SubBundle\SubManager Unknown entity namespace alias AcmeSubBundleSince EntityManager goes into main by default.My question is, is there a ""clean"" way to inject a specific entity manager as argument in services.yml ? <code>  doctrine: dbal: default_connection: main connections: main: /* ... */ sub: /* ... */ orm: default_entity_manager: main entity_managers: main: connection: main mappings: AcmeMainBundle: ~ sub: connection: sub mappings: AcmeSubBundle: ~ auto_generate_proxy_classes: %kernel.debug% services: mainmanager: class: Acme\MainBundle\MainManager arguments: [ @doctrine.orm.entity_manager ] class MainManager{ public function __construct(EntityManager $em) { $em->getRepository('AcmeMainBundle:Foo'); }} submanager: class: Acme\SubBundle\SubManager arguments: [ @doctrine.orm.entity_manager ] class SubManager{ public function __construct(EntityManager $em) { $em->getRepository('AcmeSubBundle:Bar'); // Throws exception }}",How to inject specific Doctrine Entity Manager in Symfony2?
How to set Doctrine2 Entity Manager from services.yml?," Working on several projects which use the same database, we made a Symfony2 Bundle to map all common functions.Now the issue is that we have a second database, and we need the same kind of service, just as the first one.config.yml @AcmeMainBundle > services.yml Acme\MainBundle\MainManager This set works fine, I get all expected results since default_entity_manager is set to main which is the right EntityManager. But now here's the issue.@AcmeSubBundle > services.yml Acme\SubBundle\SubManager Unknown entity namespace alias AcmeSubBundleSince EntityManager goes into main by default.My question is, is there a ""clean"" way to inject a specific entity manager as argument in services.yml ? <code>  doctrine: dbal: default_connection: main connections: main: /* ... */ sub: /* ... */ orm: default_entity_manager: main entity_managers: main: connection: main mappings: AcmeMainBundle: ~ sub: connection: sub mappings: AcmeSubBundle: ~ auto_generate_proxy_classes: %kernel.debug% services: mainmanager: class: Acme\MainBundle\MainManager arguments: [ @doctrine.orm.entity_manager ] class MainManager{ public function __construct(EntityManager $em) { $em->getRepository('AcmeMainBundle:Foo'); }} submanager: class: Acme\SubBundle\SubManager arguments: [ @doctrine.orm.entity_manager ] class SubManager{ public function __construct(EntityManager $em) { $em->getRepository('AcmeSubBundle:Bar'); // Throws exception }}",How to inject specific Doctrine Entity Manager in Symfony2?
How to set specific Doctrine Entity Manager from services.yml?," Working on several projects which use the same database, we made a Symfony2 Bundle to map all common functions.Now the issue is that we have a second database, and we need the same kind of service, just as the first one.config.yml @AcmeMainBundle > services.yml Acme\MainBundle\MainManager This set works fine, I get all expected results since default_entity_manager is set to main which is the right EntityManager. But now here's the issue.@AcmeSubBundle > services.yml Acme\SubBundle\SubManager Unknown entity namespace alias AcmeSubBundleSince EntityManager goes into main by default.My question is, is there a ""clean"" way to inject a specific entity manager as argument in services.yml ? <code>  doctrine: dbal: default_connection: main connections: main: /* ... */ sub: /* ... */ orm: default_entity_manager: main entity_managers: main: connection: main mappings: AcmeMainBundle: ~ sub: connection: sub mappings: AcmeSubBundle: ~ auto_generate_proxy_classes: %kernel.debug% services: mainmanager: class: Acme\MainBundle\MainManager arguments: [ @doctrine.orm.entity_manager ] class MainManager{ public function __construct(EntityManager $em) { $em->getRepository('AcmeMainBundle:Foo'); }} submanager: class: Acme\SubBundle\SubManager arguments: [ @doctrine.orm.entity_manager ] class SubManager{ public function __construct(EntityManager $em) { $em->getRepository('AcmeSubBundle:Bar'); // Throws exception }}",How to inject specific Doctrine Entity Manager in Symfony2?
How to get PHP current file name," I've a file called demo.php where I don't have any GET variables in the URL, so if I want to hide a button if am on this page I can't use something like this: So I want something like I don't want to declare unnecessary GET variables just for doing this... <code>  if($_GET['name'] == 'value') { //Hide} else { //show} $filename = //get file nameif($filename == 'file_name.php') { //Hide} else { //show}",How to get current PHP page name
Where can I get a complete list of Laravel events (fired by the core libaries)?," I want to know what events are fired by Laravel core libraries. I want to get the complete list, such as laravel.query and laravel.done.There are four events listed at the official docs, but I think Laravel has more events than these four! <code> ",Where can I get a complete list of Laravel events (fired by the core libraries)?
Best way to develop a tracking pixel," I am trying to build a pixel that would track the current URL the user is on when they visit. I can use either JS (preferred) or a 1x1 image pixel. With JS I am assuming that I'd need to run an AJAX request to a PHP script to capture the info that I need and with an image pixel I am having issues getting the currently URL. I also thought about URL encoding the current URL with JS and dynamically placing the image pixel with the encoded current URL as a query string to a PHP script, but that I can get to be very long. If I am to go the AJAX route, which AJAX library can I use? JQuery is too bloated for this purpose. Any other ideas? <code> ",Developing a tracking pixel
Laravel cache/cookie error," Hello i started using Laravel framework for my Facebook apps lateley and i created a basic app that i copy for every new project and start modifying from there. First thing i do is i change couple of letters in the application key inside config/application.php file.Now if i develop 2 apps at the same time and keep switching between them i run into some sort of cache/cookie errors that block my app from displaying.I can get rid of them by deleting cookies that are related to my domain where i store the apps but as i understand same thing might happen to a user who happens to visit both my apps.How could i make it work right?here's the error i get: <code>  Unhandled ExceptionMessage:unserialize() [function.unserialize]: Error at offset 0 of 704 bytesLocation:/mydomainpath/myapp/laravel/session/drivers/cookie.php on line 24Stack Trace:#0 /mydomainpath/myapp/laravel/laravel.php(40): Laravel\Error::native(8, 'unserialize() [...', '/data01/virt319...', 24)#1 [internal function]: Laravel\{closure}(8, 'unserialize() [...', '/data01/virt319...', 24, Array)#2 /mydomainpath/myapp/laravel/session/drivers/cookie.php(24): unserialize('??1?:????9O??.?...')#3 /mydomainpath/myapp/laravel/session/payload.php(52): Laravel\Session\Drivers\Cookie->load('oBACwMEgwF2YXeZ...')#4 /mydomainpath/myapp/laravel/session.php(35): Laravel\Session\Payload->load('oBACwMEgwF2YXeZ...')#5 /mydomainpath/myapp/application/start.php(172): Laravel\Session::load()#6 /mydomainpath/myapp/laravel/bundle.php(102): require('/data01/virt319...')#7 /mydomainpath/myapp/laravel/laravel.php(76): Laravel\Bundle::start('application')#8 /mydomainpath/myapp/public/index.php(34): require('/data01/virt319...')#9 {main}",Session/cookie error when having multiple instance of Laravel in the same domain
"Yii, update registered user credentials"," I'm using Yii for an application, I'm writing a very simple user management, like registering, deleting and updating users... For updating the existing user I need to check the old password first before change it to the new inserted password. So here is the fields I have in the form: and my user table looks like this: How can I validate the old_password before updating it with the new_password? I know the usual php coding, but I want to know if there are any Yii tricks that does this automatically...Thanks in advance <code>  username:----old_password:---new_password:--- id, username, password","Yii, best way to implement ""user change of password"""
"In RegEx, I want to find everything between two XML tags"," In RegEx, I want to find the tag and everything between two XML tags, like the following: I want to find the tag and everything between primaryAddress, and erase that. Everything between the primaryAddress tag is a variable, but I want to remove the entire tag and sub-tags whenever I get primaryAddress.Anyone have any idea how to do that? <code>  <primaryAddress> <addressLine>280 Flinders Mall</addressLine> <geoCodeGranularity>PROPERTY</geoCodeGranularity> <latitude>-19.261365</latitude> <longitude>146.815585</longitude> <postcode>4810</postcode> <state>QLD</state> <suburb>Townsville</suburb> <type>PHYSICAL</type></primaryAddress>",Find everything between two XML tags with RegEx
How works HTTP_USER_AGENT," When I get the PHP server variable HTTP_USER_AGENT with this code: I get this in Google Chrome:Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4This in Firefox:Mozilla/5.0 (Windows NT 6.1; rv:16.0) Gecko/20100101 Firefox/16.0And this in IE:Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; BOIE9;NLNL)My obvious question is: how does this work? Why does my user-agent say Mozilla and Windows NT while I am using Google Chrome?Also, why does it say that I use Firefox when I am using IE? <code>  <?php $useragent = $_SERVER ['HTTP_USER_AGENT']; echo ""<b>Your User Agent is</b>: "" . $useragent;?>",How does HTTP_USER_AGENT function?
How does HTTP_USER_AGENT work?," When I get the PHP server variable HTTP_USER_AGENT with this code: I get this in Google Chrome:Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.4 (KHTML, like Gecko) Chrome/22.0.1229.94 Safari/537.4This in Firefox:Mozilla/5.0 (Windows NT 6.1; rv:16.0) Gecko/20100101 Firefox/16.0And this in IE:Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0; BOIE9;NLNL)My obvious question is: how does this work? Why does my user-agent say Mozilla and Windows NT while I am using Google Chrome?Also, why does it say that I use Firefox when I am using IE? <code>  <?php $useragent = $_SERVER ['HTTP_USER_AGENT']; echo ""<b>Your User Agent is</b>: "" . $useragent;?>",How does HTTP_USER_AGENT function?
How to add text to an image with PHP GDI library," I have image creation code in image_creator. The file for image output is image.php and has below code When I run image.php, I just get a blank page. Why is it so? <code>  <?phpheader(""Content-Type: image/jpeg"");$im = ImageCreateFromGif(""photo.gif""); $black = ImageColorAllocate($im, 255, 255, 255);$start_x = 10;$start_y = 20;Imagettftext($im, 12, 0, $start_x, $start_y, $black, 'verdana.ttf', ""text to write"");Imagejpeg($im, '', 100);ImageDestroy($im);?> <html><head></head><body> <img src=""http://localhost/image_creator.php""/> </body></html>",How to add text to an image with PHP GD library
How to add text to an image with PHP GD library," I have image creation code in image_creator. The file for image output is image.php and has below code When I run image.php, I just get a blank page. Why is it so? <code>  <?phpheader(""Content-Type: image/jpeg"");$im = ImageCreateFromGif(""photo.gif""); $black = ImageColorAllocate($im, 255, 255, 255);$start_x = 10;$start_y = 20;Imagettftext($im, 12, 0, $start_x, $start_y, $black, 'verdana.ttf', ""text to write"");Imagejpeg($im, '', 100);ImageDestroy($im);?> <html><head></head><body> <img src=""http://localhost/image_creator.php""/> </body></html>",How to add text to an image with PHP GD library
How to add text to an image with PHP GDI library," I have image creation code in image_creator. The file for image output is image.php and has below code When I run image.php, I just get a blank page. Why is it so? <code>  <?phpheader(""Content-Type: image/jpeg"");$im = ImageCreateFromGif(""photo.gif""); $black = ImageColorAllocate($im, 255, 255, 255);$start_x = 10;$start_y = 20;Imagettftext($im, 12, 0, $start_x, $start_y, $black, 'verdana.ttf', ""text to write"");Imagejpeg($im, '', 100);ImageDestroy($im);?> <html><head></head><body> <img src=""http://localhost/image_creator.php""/> </body></html>",How to add text to an image with PHP GD library
how to code beautiful php togather with html," When coding PHP together with HTML, it always seems confusing and very painful to look at. The structure is not easy to understand.Can anyone tell about how to code PHP with HTML in good structure? <code> ",how to code beautiful PHP together with HTML?
how to code beautiful php together with html?," When coding PHP together with HTML, it always seems confusing and very painful to look at. The structure is not easy to understand.Can anyone tell about how to code PHP with HTML in good structure? <code> ",how to code beautiful PHP together with HTML?
Access a file which is located before the server root directory?," I'm making an intranet for a post-sale customer service entreprise. Employee need to be able to upload img files to the intranet's server and i need to store them in a directory with is BEFORE www (the website's root directory).Doing this using php is pretty easy but how to include these imgs on the website once they're uploaded ?I tried this code This is not working because i can't send a file if it is OUTSIDE the server's www directory ...Is there any proper way to do that ?Current treeview : (the server's index.php is located in www and the files are in img) <code>  <img src=""../img/img.png""/> server root directory |www |(all server files) |img |(all img files)",Access a file which is located before / outside the server root directory?
Woocommerce getting custom attributes," In Woocommerce, I am trying to get product custom attribute values but I fail miserably and I don't get anything.So I tried: And I'm getting this raw data: I know that there is a value because it is shown in the attribute section, but I just can't find a way to get it displayed with my custom code. <code>  global $woocommerce, $post, $product;$res = get_post_meta($product->id);print_r(unserialize($res['_product_attributes'][0])); [pa_koostis] => Array ( [name] => pa_koostis [value] => [position] => 0 [is_visible] => 1 [is_variation] => 0 [is_taxonomy] => 1 )",Get custom product attributes in Woocommerce
How to get a products custom attributes from WooCommerce," In Woocommerce, I am trying to get product custom attribute values but I fail miserably and I don't get anything.So I tried: And I'm getting this raw data: I know that there is a value because it is shown in the attribute section, but I just can't find a way to get it displayed with my custom code. <code>  global $woocommerce, $post, $product;$res = get_post_meta($product->id);print_r(unserialize($res['_product_attributes'][0])); [pa_koostis] => Array ( [name] => pa_koostis [value] => [position] => 0 [is_visible] => 1 [is_variation] => 0 [is_taxonomy] => 1 )",Get custom product attributes in Woocommerce
Get custom product attributes in Woocommerce," In Woocommerce, I am trying to get product custom attribute values but I fail miserably and I don't get anything.So I tried: And I'm getting this raw data: I know that there is a value because it is shown in the attribute section, but I just can't find a way to get it displayed with my custom code. <code>  global $woocommerce, $post, $product;$res = get_post_meta($product->id);print_r(unserialize($res['_product_attributes'][0])); [pa_koostis] => Array ( [name] => pa_koostis [value] => [position] => 0 [is_visible] => 1 [is_variation] => 0 [is_taxonomy] => 1 )",Get custom product attributes in Woocommerce
Get custom product attributes in WooCommerce," In Woocommerce, I am trying to get product custom attribute values but I fail miserably and I don't get anything.So I tried: And I'm getting this raw data: I know that there is a value because it is shown in the attribute section, but I just can't find a way to get it displayed with my custom code. <code>  global $woocommerce, $post, $product;$res = get_post_meta($product->id);print_r(unserialize($res['_product_attributes'][0])); [pa_koostis] => Array ( [name] => pa_koostis [value] => [position] => 0 [is_visible] => 1 [is_variation] => 0 [is_taxonomy] => 1 )",Get custom product attributes in Woocommerce
Paypal notify_url and return_url. Recieving variables without IPN using PHP," I am trying to set up a simple payment option to paypal, but am having some trouble/confusion with the return and notify URLS. I am fairly new to php and have accomplished this previously in asp, but I have now become lost. SO my basic paypal form: As you can see the form posts to paypal, and then returns depending on the outcome, if failed/cancelled it goes to paypal-notcompleted.php.If its successful it goes to paypal-completed.php. And this is where I am unable to understand, I haven't set up an IPN, all I want to do is grab some of the variables paypal posts back to me, to run a simple insert query and display some details in a confirmation message to the customer. Am I allowed to have the notify_url and return_url as the same page?Why does paypal not post the full expected (as seen here: Notify url of Paypal ) back to the page?I understand there is something to do with XML and such, but I just figured that I would be able to $_GET the variables that paypal sent back. Has anyone done it this way, can they tell me where I am going wrong? <code>  <form action=""https://www.paypal.com/cgi-bin/webscr"" method=""post"" id=""PayPalForm"" name=""PayPalForm"" target=""_top""> <input type=""hidden"" name=""cmd"" value=""_xclick""> <input type=""hidden"" name=""business"" value=""email@hotmail.com""> <input type=""hidden"" name=""amount"" value=""0.01""> <input type=""hidden"" name=""item_name"" value=""Composite Door""> <input type=""hidden"" name=""item_number"" value=""<?php echo $orderID ?>""> <input type=""hidden"" name=""currency_code"" value=""GBP""> <input type=""hidden"" name=""cancel_return"" value=""http://www.mydomain.co.uk/paypal-notcompleted.php""><input type=""hidden"" name=""return"" value=""http://www.mydomain.co.uk/paypal-completed.php""><input type=""hidden"" name=""notify_url"" value=""http://www.mydomain.co.uk/paypal-completed.php""> </form> <script> document.PayPalForm.submit(); </script>",Paypal notify_url and return_url. Receiving variables without IPN using PHP
How to use socks 5 proxy in cURL?," Normal proxies (ex: 72.41.132.22:3128) work well with cURL, however when I use SOCKS 5 proxies with username/pass, It just gives me ""[1"" on the page. Is there a way to use SOCKY 5 proxies with cURL ? <code>  $proxy = ""cagsan:jw22wdw@108.61.25.223:34792"";$ch = curl_init();curl_setopt($ch, CURLOPT_URL,$url);curl_setopt($ch, CURLOPT_PROXY, $proxy);curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 0);curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);curl_setopt($ch, CURLOPT_HEADER, 1);$curl_scraped_page = curl_exec($ch);curl_close($ch);",How to use a SOCKS 5 proxy with cURL?
"How to get id of submit type button, when button is pressed (PHP + HTML)"," I want to print out the id of the button I pressed. The id is set dynamically for each button in a table. This is my HTML code: And I want to print the id of the button here. <code>  echo '<td><center><input type=""submit"" id=""'.$row['I_ID'].'"" class=""btn""name=""Add"" value =""Add to cart""><center></td><tr>'; if (isset($_POST['Add'])) { $ID = $_GET['id']; echo $ID; echo '<br/>' . ""* The item has been added to your cart."";}","How to get id of submit type button, when button is pressed"
Getting strange error while installing aws SDK via PEAR," I am getting this error while installing AWS SDK via PEAR. I never got this before. Can somebody give me a hand. <code>  $ sudo pear channel-discover pear.amazonwebservices.comAdding Channel ""pear.amazonwebservices.com"" succeededDiscovery of channel ""pear.amazonwebservices.com"" succeeded $ sudo pear install aws/sdkUnknown remote channel: guzzlephp.org/pearaws/sdk requires package ""channel://guzzlephp.org/pear/Guzzle"" (version >= 3.0.2)No valid packages foundinstall failed",Getting strange error while installing AWS SDK via PEAR
Transliterate any utf8 char into ascii equivalent," Is there any good solution out there that does this transliteration in a good manner?I've tried using iconv(), but is very annoying and it does not behave as one might expect.Using //TRANSLIT will try to replace what it can, leaving everything nonconvertible as ""?"" Using //IGNORE will not leave ""?"" in text, but will also not transliterate and will also raise E_NOTICE when nonconvertible char is found, so you have to use iconv with @ error suppressorUsing //IGNORE//TRANSLIT (as some people suggested in PHP forum) is actually same as //IGNORE (tried it myself on php versions 5.3.2 and 5.3.13)Also using //TRANSLIT//IGNORE is same as //TRANSLITIt also uses current locale settings to transliterate.WARNING - a lot of text and code is following!Here are some examples: Ok, that did convert and , but why not and ? Lets try with //IGNORE: Using solution of this guy also does not work as wanted: Regular ascii text + YYYYY + aous + eYYYeY + aoY + $ + + @Even using PECL intl Normalizer class (which is not awailable always even if you have PHP > 5.3.0, since ICU package intl uses may not be available to PHP i.e. on certain hosting servers) produces wrong result: So is there any other way of doing this right or the only proper thing to do is to do preg_replace() or str_replace() and define transliteration tables yourself?// appendix:I have found on ZF wiki debate from 2008 about proposal for Zend_Filter_Transliterate but project was dropped since in some languages it is not possible to convert (i.e. chinese), but still for any latin- and cyrilic-based language IMO this option should exist. <code>  $text = 'Regular ascii text + + + + + $ + + @';echo '<br />original: ' . $text;echo '<br />regular: ' . iconv(""UTF-8"", ""ASCII//TRANSLIT"", $text);//> regular: Regular ascii text + ????? + ???ss + ?????? + ae?EUR + $ + ? + @setlocale(LC_ALL, 'en_GB');echo '<br />en_GB: ' . iconv(""UTF-8"", ""ASCII//TRANSLIT"", $text);//> en_GB: Regular ascii text + cczs? + aouss + eeeeee + ae?EUR + $ + ? + @setlocale(LC_ALL, 'en_GB.UTF8'); // will this work?echo '<br />en_GB.UTF8: ' . iconv(""UTF-8"", ""ASCII//TRANSLIT"", $text);//> en_GB.UTF8: Regular ascii text + cczs? + aouss + eeeeee + ae?EUR + $ + ? + @ // now specific localessetlocale(LC_ALL, 'hr_Hr'); // this should fix croatian , right?echo '<br />hr_Hr: ' . iconv(""UTF-8"", ""ASCII//TRANSLIT"", $text);// wrong > hr_Hr: Regular ascii text + cczs? + aouss + eeeeee + ae?EUR + $ + ? + @setlocale(LC_ALL, 'sv_SE'); // so this will fix swedish ?echo '<br />sv_SE: ' . iconv(""UTF-8"", ""ASCII//TRANSLIT"", $text);// will not > sv_SE: Regular ascii text + cczs? + aouss + eeeeee + ae?EUR + $ + ? + @//this is interestingsetlocale(LC_ALL, 'de_DE');echo '<br />de_DE: ' . iconv(""UTF-8"", ""ASCII//TRANSLIT"", $text);//> de_DE: Regular ascii text + cczs? + aeoeuess + eeeeee + ae?EUR + $ + ? + @// actually this is what any german would expect since really is same as ae oe ue echo '<br />ignore: ' . iconv(""UTF-8"", ""ASCII//IGNORE"", $text);//> ignore: Regular ascii text + + + + + $ + + @//+ E_NOTICE: ""Notice: iconv(): Detected an illegal character in input string in /var/www/test.server.web/index.php on line 49""// with translit?echo '<br />ignore/translit: ' . iconv(""UTF-8"", ""ASCII//IGNORE//TRANSLIT"", $text);//same as ignore only> ignore/translit: Regular ascii text + + + + + $ + + @//+ E_NOTICE: ""Notice: iconv(): Detected an illegal character in input string in /var/www/test.server.web/index.php on line 54""// translit/ignore?echo '<br />translit/ignore: ' . iconv(""UTF-8"", ""ASCII//TRANSLIT//IGNORE"", $text);//same as translit only> translit/ignore: Regular ascii text + cczs? + aouss + eeeeee + ae?EUR + $ + ? + @ echo '<br />normalize: ' .preg_replace('/\p{Mn}/u', '', Normalizer::normalize($text, Normalizer::FORM_KD));//>normalize: Regular ascii text + cczs + aou + eeeeee + + $ + + @",Transliterate any convertible utf8 char into ascii equivalent
Other php file doesn't want to load until a long user_ignor_abort(true) script running in background, I made a long script in PHP as such: It runs perfectly in the background even if I close the page. My problem is that I can't open other PHP files until this script finishes running in the background. How can I solve this problem? <code>  ignore_user_abort(true);set_time_limit(0);,Long running background PHP script blocks other PHP pages until it is finished
MySQL query information," Ok, so i'm a newbie here at SQL..I'm settings up my tables, and i'm getting confused on indexes, keys, foreign keys..I have a users table, and a projects table.I want to use the users (id) to attach a project to a user.This is what I have so far: So what I'm getting lost on is what is the differences between a key, an index, a constraint and a foreign key?I've been looking online and can't find a newbie explanation for it.PS. I'm using phpactiverecord and have the relationships set up in the modelsuser-> has_many('projects');projects -> belongs_to('user');Not sure if that has anything to do with it, but thought i'd throw it in there.. Thanks.EDIT:I thought it could possible be something to do with Navicat, so I went into WampServer -> phpMyAdmin and ran this... Still nothing... :( <code>  DROP TABLE IF EXISTS projects;CREATE TABLE projects ( id int(8) unsigned NOT NULL, user_id int(8), name varchar(120) NOT NULL, description varchar(300), created_at date, updated_at date, PRIMARY KEY (id), KEY users_id (user_id)) ENGINE=InnoDB;ALTER TABLE projects ( ADD CONSTRAINT user_projects, FOREIGN KEY (user_id) REFERENCES users(id), ON DELETE CASCADE) DROP TABLE IF EXISTS projects;CREATE TABLE projects ( id int(8) unsigned NOT NULL, user_id int(8) NOT NULL, name varchar(120) NOT NULL, description varchar(300), created_at date, updated_at date, PRIMARY KEY (id), KEY users_id (user_id), FOREIGN KEY (user_id) REFERENCES users(id)) ENGINE=InnoDB;","MySQL: what's the difference between INDEX, UNIQUE, FOREIGN KEY, and PRIMARY KEY?"
PHP5: how to get current time in hour:minute:second?," In order to get the date in the right format I want I used date(""d-m-Y""). Now I want to get the time in addition to the date in the following format H:M:S How can I procede ? <code> ",PHP: How to get current time in hour:minute:second?
How to get current time in hour:minute:second?," In order to get the date in the right format I want I used date(""d-m-Y""). Now I want to get the time in addition to the date in the following format H:M:S How can I procede ? <code> ",PHP: How to get current time in hour:minute:second?
new modifiers on html_entity_decode of php 5.4," Since php 5.4 html_entity_decode introduces four new flags, with a minimal explanation I want to understand what are they for. In which cases are they significant? My guess, (but may I be wrong) is that any different standard, encodes some unusual chars but any other don't, so in order to respect that, they are here.My research: htmlentities has the same minimal explanation, with no examples too. I have googled with no luck. <code>  ENT_HTML401 Handle code as HTML 4.01.ENT_XML1 Handle code as XML 1.ENT_XHTML Handle code as XHTML.ENT_HTML5 Handle code as HTML 5. ","What do the ENT_HTML5, ENT_HTML401, ... modifiers on html_entity_decode do?"
Losing 5 bytes but only if socket goes quiet for 60 seconds?," I've been running two socket clients side-by-side, collecting http streaming data (not Twitter, but similar kind of thing). The data comes through in chunked encoding.One of the clients is curl (on the commandline, not php-curl), where both http and https work fine. The other is my own PHP script, using fsockopen and fgets. Works fine for https, but I have a specific problem with http. How specific? It only happens if the stream goes quiet for 60 seconds. If there is only 50 seconds of quiet it works fine. I've been comparing curl's http headers sent and received to my script, and have removed all differences. I thought I knew everything there was to know about PHP sockets, and especially chunked encoding, but it is time to eat humble pie as this one has me stumped.So, running curl with ""--trace - --trace-time"", I see this come through for the first packet after the 60 second quiet period: The 82 is hex for size of the chunk. The \r\n marks the end of the chunk size line. The chunk starts at the ""{"".Over on the PHP side, my loop starts like this: With https, or with a less than 60 second gap, this works fine, $len is 100 or whatever the chunk size is.But, after that 60 second gap, what I get in $chunk_info is: So, I seem to have lost the first six bytes: 38 32 0d 0a 7b 22All subsequent chunks are fine, and exactly the same as what curl is receiving.Version Detailscurl 7.19.7 (x86_64-pc-linux-gnu) libcurl/7.19.7 OpenSSL/0.9.8k zlib/1.2.3.3 libidn/1.15Protocols: tftp ftp telnet dict ldap ldaps http file https ftps Features: GSS-Negotiate IDN IPv6 Largefile NTLM SSL libz PHP 5.3.2-1ubuntu4.18 with Suhosin-Patch (cli) (built: Sep 12 2012 19:12:47) Server: Apache/2.2.14 (Ubuntu)(I've only tested with localhost connections so far.)The rest of the loop looks like this: (Aside: in the way I've tested so far, the code has passed through this loop exactly once, before the 60 second quiet period.)NOTE: I have numerous workarounds to get things working: e.g. enforce use of https, or use curl-php. This question is because I want to know what is going on, know what is changing after 60 seconds, and learn how to stop it happening. And maybe learn a new troubleshooting idea. Think of it as bloody-minded intellectual curiosity :-) <code>  05:56:57.025023 <= Recv data, 136 bytes (0x88)0000: 38 32 0d 0a 7b 22 64 61 74 61 66 65 65 64 22 3a 82..{""datafeed"":0010: 22 64 65 6d 6f 2e 31 64 36 2e 31 6d 2e 72 61 6e ""demo.1d6.1m.ran...0080: 34 22 7d 5d 7d 0a 0d 0a 4""}]}... while(true){ if(feof($fp)){fclose($fp);return ""Remote server has closed\n"";} $chunk_info=trim(fgets($fp)); //First line is hex digits giving us the length $len=hexdec($chunk_info); //$len includes the \r\n at the end of the chunk (despite what wikipedia says) datafeed"":""demo.1d6.1m.ran... $s='';$len+=2; //For the \r\n at the end of the chunkwhile(!feof($fp)){ $s.=fread($fp,$len-strlen($s)); if(strlen($s)>=$len)break; //TODO: Can never be >$len, only ==$len?? }$s=substr($s,0,-2);if(!$s)continue;$d=json_decode($s);//Do something with $d here}",Losing 6 bytes after 60 seconds of inactivity in socket
Losing 6 bytes but only if socket goes quiet for 60 seconds?," I've been running two socket clients side-by-side, collecting http streaming data (not Twitter, but similar kind of thing). The data comes through in chunked encoding.One of the clients is curl (on the commandline, not php-curl), where both http and https work fine. The other is my own PHP script, using fsockopen and fgets. Works fine for https, but I have a specific problem with http. How specific? It only happens if the stream goes quiet for 60 seconds. If there is only 50 seconds of quiet it works fine. I've been comparing curl's http headers sent and received to my script, and have removed all differences. I thought I knew everything there was to know about PHP sockets, and especially chunked encoding, but it is time to eat humble pie as this one has me stumped.So, running curl with ""--trace - --trace-time"", I see this come through for the first packet after the 60 second quiet period: The 82 is hex for size of the chunk. The \r\n marks the end of the chunk size line. The chunk starts at the ""{"".Over on the PHP side, my loop starts like this: With https, or with a less than 60 second gap, this works fine, $len is 100 or whatever the chunk size is.But, after that 60 second gap, what I get in $chunk_info is: So, I seem to have lost the first six bytes: 38 32 0d 0a 7b 22All subsequent chunks are fine, and exactly the same as what curl is receiving.Version Detailscurl 7.19.7 (x86_64-pc-linux-gnu) libcurl/7.19.7 OpenSSL/0.9.8k zlib/1.2.3.3 libidn/1.15Protocols: tftp ftp telnet dict ldap ldaps http file https ftps Features: GSS-Negotiate IDN IPv6 Largefile NTLM SSL libz PHP 5.3.2-1ubuntu4.18 with Suhosin-Patch (cli) (built: Sep 12 2012 19:12:47) Server: Apache/2.2.14 (Ubuntu)(I've only tested with localhost connections so far.)The rest of the loop looks like this: (Aside: in the way I've tested so far, the code has passed through this loop exactly once, before the 60 second quiet period.)NOTE: I have numerous workarounds to get things working: e.g. enforce use of https, or use curl-php. This question is because I want to know what is going on, know what is changing after 60 seconds, and learn how to stop it happening. And maybe learn a new troubleshooting idea. Think of it as bloody-minded intellectual curiosity :-) <code>  05:56:57.025023 <= Recv data, 136 bytes (0x88)0000: 38 32 0d 0a 7b 22 64 61 74 61 66 65 65 64 22 3a 82..{""datafeed"":0010: 22 64 65 6d 6f 2e 31 64 36 2e 31 6d 2e 72 61 6e ""demo.1d6.1m.ran...0080: 34 22 7d 5d 7d 0a 0d 0a 4""}]}... while(true){ if(feof($fp)){fclose($fp);return ""Remote server has closed\n"";} $chunk_info=trim(fgets($fp)); //First line is hex digits giving us the length $len=hexdec($chunk_info); //$len includes the \r\n at the end of the chunk (despite what wikipedia says) datafeed"":""demo.1d6.1m.ran... $s='';$len+=2; //For the \r\n at the end of the chunkwhile(!feof($fp)){ $s.=fread($fp,$len-strlen($s)); if(strlen($s)>=$len)break; //TODO: Can never be >$len, only ==$len?? }$s=substr($s,0,-2);if(!$s)continue;$d=json_decode($s);//Do something with $d here}",Losing 6 bytes after 60 seconds of inactivity in socket
Loosing 6 bytes after 60 seconds of inactivity in socket," I've been running two socket clients side-by-side, collecting http streaming data (not Twitter, but similar kind of thing). The data comes through in chunked encoding.One of the clients is curl (on the commandline, not php-curl), where both http and https work fine. The other is my own PHP script, using fsockopen and fgets. Works fine for https, but I have a specific problem with http. How specific? It only happens if the stream goes quiet for 60 seconds. If there is only 50 seconds of quiet it works fine. I've been comparing curl's http headers sent and received to my script, and have removed all differences. I thought I knew everything there was to know about PHP sockets, and especially chunked encoding, but it is time to eat humble pie as this one has me stumped.So, running curl with ""--trace - --trace-time"", I see this come through for the first packet after the 60 second quiet period: The 82 is hex for size of the chunk. The \r\n marks the end of the chunk size line. The chunk starts at the ""{"".Over on the PHP side, my loop starts like this: With https, or with a less than 60 second gap, this works fine, $len is 100 or whatever the chunk size is.But, after that 60 second gap, what I get in $chunk_info is: So, I seem to have lost the first six bytes: 38 32 0d 0a 7b 22All subsequent chunks are fine, and exactly the same as what curl is receiving.Version Detailscurl 7.19.7 (x86_64-pc-linux-gnu) libcurl/7.19.7 OpenSSL/0.9.8k zlib/1.2.3.3 libidn/1.15Protocols: tftp ftp telnet dict ldap ldaps http file https ftps Features: GSS-Negotiate IDN IPv6 Largefile NTLM SSL libz PHP 5.3.2-1ubuntu4.18 with Suhosin-Patch (cli) (built: Sep 12 2012 19:12:47) Server: Apache/2.2.14 (Ubuntu)(I've only tested with localhost connections so far.)The rest of the loop looks like this: (Aside: in the way I've tested so far, the code has passed through this loop exactly once, before the 60 second quiet period.)NOTE: I have numerous workarounds to get things working: e.g. enforce use of https, or use curl-php. This question is because I want to know what is going on, know what is changing after 60 seconds, and learn how to stop it happening. And maybe learn a new troubleshooting idea. Think of it as bloody-minded intellectual curiosity :-) <code>  05:56:57.025023 <= Recv data, 136 bytes (0x88)0000: 38 32 0d 0a 7b 22 64 61 74 61 66 65 65 64 22 3a 82..{""datafeed"":0010: 22 64 65 6d 6f 2e 31 64 36 2e 31 6d 2e 72 61 6e ""demo.1d6.1m.ran...0080: 34 22 7d 5d 7d 0a 0d 0a 4""}]}... while(true){ if(feof($fp)){fclose($fp);return ""Remote server has closed\n"";} $chunk_info=trim(fgets($fp)); //First line is hex digits giving us the length $len=hexdec($chunk_info); //$len includes the \r\n at the end of the chunk (despite what wikipedia says) datafeed"":""demo.1d6.1m.ran... $s='';$len+=2; //For the \r\n at the end of the chunkwhile(!feof($fp)){ $s.=fread($fp,$len-strlen($s)); if(strlen($s)>=$len)break; //TODO: Can never be >$len, only ==$len?? }$s=substr($s,0,-2);if(!$s)continue;$d=json_decode($s);//Do something with $d here}",Losing 6 bytes after 60 seconds of inactivity in socket
Catch a exception with interface. [PHP]," I have a question about the exception handling in PHP.I have a lot of exception those means the same: Couldn't found something. All those exception implements the interface (not class) NotFoundException.So to my question: It's possible to check if the exception implement the interface at the catch-block.I know i could change the NotFoundException-interface to a class but some exceptions extended already an other exception. (Example: CategoryNotFoundException extends CategoryException and implements NotFoundException).Why should I need this interface?When an page is showing and some exception which implements the interface will throw an Error404 should shown.Example:  <code>  $userPage = $_GET[""page""];try{ showPage($userPage);} catch (){ //How to catch the `NotFoundException` interface? showPage(""Error404"");} catch (Exception $e){ showPage(""Error500""); //Something is wrong...}",Catch a exception with interface.
Get base url in YII consol application, How to get base URL in a Yii CConsoleApplication application? I tried Yii::app()->request->getBaseUrl(true) and ended up with the following error. Undefined index: SERVER_NAME (/var/www/yii/framework/web/CHttpRequest.php:279) <code> ,Get base URL in Yii console application
Get base url in YII console application, How to get base URL in a Yii CConsoleApplication application? I tried Yii::app()->request->getBaseUrl(true) and ended up with the following error. Undefined index: SERVER_NAME (/var/www/yii/framework/web/CHttpRequest.php:279) <code> ,Get base URL in Yii console application
PHP: Is it possible to combine to arrays within an array?," I have an array that has some data that looks like this I need to combine the firstname and last name fields but can't figure out a solution. This is the only file in the module that references anything lastname / first name / name so it's calling it externally from within the magento framework. Ideally they would be stored in variables and I could just combine them $fullname = $first . $last etc but this won't work in arrays.I don't understand the usage of => too well but I know if I edit the right hand side and make this : => Mage::helper('orders2csv')->__('order shipping fullname') the option will appear where I want (in a dropdown), so I guess I'm trying to combine 'order_shipping_data_firstname'&'order_shipping_data_lastname' and put it before this, but within the array?I've also tried starting another array in a variable and inserting the variable in the valueOptions array but this broke. <code>  $valueOptions = array( 'order_shipping_data_firstname' => Mage::helper('orders2csv')->__('order shipping firstname'), 'order_shipping_data_lastname' => Mage::helper('orders2csv')->__('order shipping lastname'), 'order_shipping_data_region' => Mage::helper('orders2csv')->__('order shipping region'), 'order_shipping_data_street' => Mage::helper('orders2csv')->__('order shipping street'), 'order_shipping_data_city' => Mage::helper('orders2csv')->__('order shipping city') );",Is it possible to combine two arrays within an array in PHP?
Is it possible to combine to arrays within an array in PHP?," I have an array that has some data that looks like this I need to combine the firstname and last name fields but can't figure out a solution. This is the only file in the module that references anything lastname / first name / name so it's calling it externally from within the magento framework. Ideally they would be stored in variables and I could just combine them $fullname = $first . $last etc but this won't work in arrays.I don't understand the usage of => too well but I know if I edit the right hand side and make this : => Mage::helper('orders2csv')->__('order shipping fullname') the option will appear where I want (in a dropdown), so I guess I'm trying to combine 'order_shipping_data_firstname'&'order_shipping_data_lastname' and put it before this, but within the array?I've also tried starting another array in a variable and inserting the variable in the valueOptions array but this broke. <code>  $valueOptions = array( 'order_shipping_data_firstname' => Mage::helper('orders2csv')->__('order shipping firstname'), 'order_shipping_data_lastname' => Mage::helper('orders2csv')->__('order shipping lastname'), 'order_shipping_data_region' => Mage::helper('orders2csv')->__('order shipping region'), 'order_shipping_data_street' => Mage::helper('orders2csv')->__('order shipping street'), 'order_shipping_data_city' => Mage::helper('orders2csv')->__('order shipping city') );",Is it possible to combine two arrays within an array in PHP?
Deleting a Facebook post with $facebook->api," I am having trouble deleting a facebook post from my web app. Now I know the Facebook documentation and other SO posts say to do this: But since Im such a noob, I dont fully understand the short explanation of deleting with an HTTP request. Since it did not work when I tried, I assume that simply redirecting to the formed url in the example above does not delete anything. This means theres some new area of web development that I now have to understand... HTTP requests. How are these done in php? The php manual isnt helping much either.Additional Information:I have tried many different variations of: The URL I am passing is '/post_id'. The post_id is being captured at post creation and stored into the database. This id matched the $_GET['story_fbid'] that can be found on any post permalink. Perhaps this is not the correct id? I am retrieving the id with the following: When I run the code above, no errors are thrown. It is being touched because a diagnostic echo after it is running. These are the different combinations of strings I have passed to api with $post_url: <code>  You can delete objects in the graph by issuing HTTP DELETE requests to the object URLs, i.e,DELETE https://graph.facebook.com/ID?access_token=... HTTP/1.1 $facebook->api($post_url, 'DELETE', array('method'=> 'delete') ); //post to wall$postResult = $facebook->api($post_url, 'post', $msg_body );//capture the id of the post$this->fb_post_id = $postResult['id']; /postid api returns true, nothing is deleted from Facebook/userid_postid api returns false, Error: (#100) Invalid parameter/postid_userid api returns false, Error: (#1705) : Selected wall post for deletion does not exist/accesstoken_postid api returns false, Error: (#803) Some of the aliases you requested do not exist /postid_accestoken api returns false, Error: (#803) Some of the aliases you requested do not exist",Deleting a Facebook Post from a Page with $facebook->api
FB252 with PHP5.4.10 Apache 2.2.22 gives PHP Warning: PHP Startup: Unable to load dynamic library C:\Program Files (x86)\PHP\ext\php_interbase.dll," I am trying to use Firebird 2.5.2.26539 with:Windows 8Apache 2.2.22PHP 5.4.10When i enable the extensions of firebird in php: I get these errors: [26-Dec-2012 12:08:11 UTC] PHP Warning: PHP Startup: Unable to load dynamic library 'C:\Program Files (x86)\PHP\ext\php_interbase.dll' - Impossible to locate the specified module. in Unknown on line 0 [26-Dec-2012 12:08:13 UTC] PHP Warning: PHP Startup: Unable to load dynamic library 'C:\Program Files (x86)\PHP\ext\php_pdo_firebird.dll' - Impossible to locate the specified module. in Unknown on line 0if i make PHP -a in command line, the error message is different: cannot find fbclient.dll.I have the flamerobin running and it opens the database. So i copy the fbclient.dll to the PHP root path.Then the errors change to: [26-Dec-2012 11:55:46 UTC] PHP Warning: PHP Startup: Unable to load dynamic library 'C:\Program Files (x86)\PHP\ext\php_interbase.dll' - %1 is not a valid Win32 application. in Unknown on line 0 [26-Dec-2012 11:55:46 UTC] PHP Warning: PHP Startup: Unable to load dynamic library 'C:\Program Files (x86)\PHP\ext\php_pdo_firebird.dll' - %1 is not a valid Win32 application. in Unknown on line 0Can anyone help me on this one? I suspect that this version of Firebird still does not have the correct extensions made for the PHP.Thank you. <code>  - extension=php_interbase.dll- extension=php_pdo_firebird.dll",PHP Startup: Unable to load dynamic library
Looking for a PHP regex or funtion to filter variations using . of an email for security," I am getting spam due to gmail allowing the use of . in their emails, so someone like this spammer. can get through by removing and/or adding another period in his naming structure. This happens to be on a Joomla install, so I am specifically looking to create a component so I can add to multiple sites, or if there is a simple regex to add inline existing code. Also, is there anything being done about this, as this seems to be along the lines of and be newly termed a loosely typed email address.. that is crazy to me. <code>  q.i.n.ghu.im.i.n.g.o.u.r@gmail.com ",Looking for a PHP regex or function to filter variations using . of an email for security
How does PHP interact with http servers? (like lighthttpd)," Possible Duplicate: I never really understood: what is CGI? In the lighttpd config, we define two paths (as shown below), one of them is the binary of PHP, the other is the socket path. My question is, in which point does the lighttpd fetches the final HTML output created by PHP? Does the binary give an output to lighttpd as a response? Or does it create a temporary file in another place and server fetches it?  <code>  fastcgi.server = ( "".php"" => (( ""bin-path"" => ""/usr/bin/php-cgi"", ""socket"" => ""/tmp/php.socket"" )))",How does PHP interact with HTTP servers? (like lighttpd)
Confusion with the looping part in multidimensional array PHP," I am having some trouble with multidimensional array and its value.What i am looking for is , from my query I am searching teachers name in the array. And after that i want to create a pdf using dompdf. The problem is with looping. I am not able to create a proper loop which will work the way I want it to work. My sample query is Now i know , this code is confusing, but what i want is, it should create dompdf for every teacher in one single pdf file. Like from the query it should fetch teachers, and for each teacher it should create a dompdf page. Currently it is making just one page according to the last value that my query has search. Please help. It is kinda urgent. <code>  $q11 = ""select id from teachers order by teacher ""; $r11 = mysql_query($q11) or die(mysql_error()); while($rows11 = mysql_fetch_array($r11)){ $teacher = $rows11['id']; $dompdf->""It will start working""; }",How to create several pages with dompdf
PHP: Order of object deconstruction/desctruct?," What is the exact order of object deconstruction?From testing, I have an idea: FIFO for the current scope. Which produces the same results time and time again: The PHP manual is vague (emphasis mine to highlight uncertainty): ""The destructor method will be called as soon as there are no other references to a particular object or in any order during the shutdown sequence.""What is the exact order of deconstruction? Can anyone describe in details the implementation of destruction order that PHP uses? And, if this order is not consistent between all the PHP versions, can anyone pinpoint which PHP versions change in this order? <code>  class test1{ public function __destruct() { echo ""test1\n""; }}class test2{ public function __destruct() { echo ""test2\n""; }}$a = new test1();$b = new test2(); test1test2",In which order are objects destructed in PHP?
Order of object deconstruction/desctruct?," What is the exact order of object deconstruction?From testing, I have an idea: FIFO for the current scope. Which produces the same results time and time again: The PHP manual is vague (emphasis mine to highlight uncertainty): ""The destructor method will be called as soon as there are no other references to a particular object or in any order during the shutdown sequence.""What is the exact order of deconstruction? Can anyone describe in details the implementation of destruction order that PHP uses? And, if this order is not consistent between all the PHP versions, can anyone pinpoint which PHP versions change in this order? <code>  class test1{ public function __destruct() { echo ""test1\n""; }}class test2{ public function __destruct() { echo ""test2\n""; }}$a = new test1();$b = new test2(); test1test2",In which order are objects destructed in PHP?
Order of object deconstruction/desctruct?," What is the exact order of object deconstruction?From testing, I have an idea: FIFO for the current scope. Which produces the same results time and time again: The PHP manual is vague (emphasis mine to highlight uncertainty): ""The destructor method will be called as soon as there are no other references to a particular object or in any order during the shutdown sequence.""What is the exact order of deconstruction? Can anyone describe in details the implementation of destruction order that PHP uses? And, if this order is not consistent between all the PHP versions, can anyone pinpoint which PHP versions change in this order? <code>  class test1{ public function __destruct() { echo ""test1\n""; }}class test2{ public function __destruct() { echo ""test2\n""; }}$a = new test1();$b = new test2(); test1test2",In which order are objects destructed in PHP?
Order of object deconstruction/destruct?," What is the exact order of object deconstruction?From testing, I have an idea: FIFO for the current scope. Which produces the same results time and time again: The PHP manual is vague (emphasis mine to highlight uncertainty): ""The destructor method will be called as soon as there are no other references to a particular object or in any order during the shutdown sequence.""What is the exact order of deconstruction? Can anyone describe in details the implementation of destruction order that PHP uses? And, if this order is not consistent between all the PHP versions, can anyone pinpoint which PHP versions change in this order? <code>  class test1{ public function __destruct() { echo ""test1\n""; }}class test2{ public function __destruct() { echo ""test2\n""; }}$a = new test1();$b = new test2(); test1test2",In which order are objects destructed in PHP?
How to fix 'Notice: Undefined index:' in PHP form action?," I received the following error message when I tried to submit the content to my form. How may I fix it? Notice: Undefined index: filename in D:\wamp\www\update.php on line 4Example Update.php code: And $_POST['filename'] comes from another page: <code>  <?php $index = 1; $filename = $_POST['filename']; echo $filename;?> <?php $db = substr($string[0],14) . ""_"" . substr($string[1],14) . ""_db.txt"";?><input type=""hidden"" name=""filename"" value=""<?php echo $db; ?>"">",How to fix 'Notice: Undefined index:' in PHP form action
"remove NULL , FALSE , '' but not 0 from a PHP array"," I want to remove NULL, FALSE and '' values .I used array_filter but it removes the 0' s also.Is there any function to do what I want? <code>  array(NULL,FALSE,'',0,1) -> array(0,1)","Remove NULL, FALSE, and '' - but not 0 - from a PHP array"
How can I build a condition based query in laravel," I can do this in Code Igniter: How can this code be translated so that it works in Laravel? <code>  $this->db->select();$this->from->('node');if ($published == true){ $this->db->where('published', 'true');}if (isset($year)){ $this->db->where('year >', $year);}$this->db->get();",How can I build a condition based query in Laravel?
how to i Can show time with php code with right timezone," I need to show current time on my site in my city Iran/TehranI'm using this code: but it doesn't show the right time.my country timezone : iran/tehranmy city time now is : 17:45but on the site it shows me : 23:15I don't know what time zone my server is in & I can't change that, please help me. <code>  <?php echo date('H:i'); ?> ",How to show time with php code with the right timezone
Open ERP Create Method returns Access Denied error," Hello I am new in OpenERP and when I am trying to insert a record in Open ERP using Create Method in PHP it returns error Access denied. Following is my Code for Insert: in above code test_sys is database name and 1 is my user id. Following is the Output: <code>  <?phpinclude('xmlrpc.inc');$arrayVal = array('name'=>new xmlrpcval('Fabien Pinckaers', ""string"") ,'vat'=>new xmlrpcval('BE477472701' , ""string""));$client = new xmlrpc_client(""http://107.23.27.60:8069/xmlrpc/object"");$msg = new xmlrpcmsg('execute');$msg->addParam(new xmlrpcval(""test_sys"", ""string""));$msg->addParam(new xmlrpcval(""1"", ""int""));$msg->addParam(new xmlrpcval(""demo"", ""string""));$msg->addParam(new xmlrpcval(""res.partner"", ""string""));$msg->addParam(new xmlrpcval(""create"", ""string""));$msg->addParam(new xmlrpcval($arrayVal, ""struct""));$resp = $client->send($msg);if ($resp->faultCode())echo 'Error: '.$resp->faultString();elseecho 'Partner '.$resp->value()->scalarval().' created !';?> xmlrpcresp Object([val] => 0[valtyp] => [errno] => -1[errstr] => Access denied.[payload] => [hdrs] => Array ( [content-type] => text/xml [content-length] => 286 [server] => Werkzeug/0.8.3 Python/2.7.3 [date] => Thu, 10 Jan 2013 04:29:55 GMT )[_cookies] => Array ( )[content_type] => text/xml[raw_data] => HTTP/1.0 200 OKContent-Type: text/xmlContent-Length: 286Server: Werkzeug/0.8.3 Python/2.7.3Date: Thu, 10 Jan 2013 04:29:55 GMTfaultCodeAccessDeniedfaultStringAccess denied.)",OpenERP Create Method returns Access Denied error
ftp upload via php form, I want to upload a file via FTP upload in a form. Here is the PHP file: The FTP connection connects successfully but the file is nowhere.Can anybody help me?Thanks! <code>  <html>,FTP upload via PHP form
How to set env with artisan?," I looking for setup a multi-environment project using Laravel3 but I dont understand the command to set the environment.I see here: http://laravel.com/docs/artisan/commandsThe command is: I already used artisan and bob with success, what I can't undertand the foo, I try to change to my project name but always the same output: ""Sorry, I can't find that task.""If I try: php artisan --env=localThat will return: ""You forgot to provide the task name.""Anybody can help? Thanks for your time.[edit] With the answers now I can understand better and improve my question:I have a project with those folders created: http://d.pr/i/5nZSWith that in mind, I need to set my local env as development and production as production. So, I can do that with any variation of the command ""php artisan --env=local"" or I need to add on my public/.htaccess ""SetEnv LARAVEL_ENV development""?Thanks again. <code>  php artisan foo --env=local",How to set env with laravel artisan to have two different database connections (local/remote)?
How to use a PHP class from another file," Let's say I've got two files class.php and page.phpclass.php That's a very rudamentary example, but let's say I want to use: in my page.php file; how do I go about doing that? If I do include(LIB.'/class.php'); it yells at me and gives me Fatal error: Cannot redeclare class IUarts in /dir/class.php on line 4 <code>  <?php class IUarts { function __construct() { $this->data = get_data('mydata'); } }?> $vars = new IUarts(); print($vars->data);",How to use a PHP class from another file?
How to use a PHP class from another file?," Let's say I've got two files class.php and page.phpclass.php That's a very rudamentary example, but let's say I want to use: in my page.php file; how do I go about doing that? If I do include(LIB.'/class.php'); it yells at me and gives me Fatal error: Cannot redeclare class IUarts in /dir/class.php on line 4 <code>  <?php class IUarts { function __construct() { $this->data = get_data('mydata'); } }?> $vars = new IUarts(); print($vars->data);",How to use a PHP class from another file?
Zend2 - TableGateway with multiple FROM tables," I would like to do a simple INNER JOIN between two tables in Zend2.Concretely, I would like to do this in Zend2:SELECT * FROM foo, bar WHERE foo.foreign_id = bar.id;I have a FooTable: The $select->from('foo'); returns an error:==> Since this object was created with a table and/or schema in the constructor, it is read only.So, I can't tweak my FROM statement to match a simple inner join between FooTable and BarTable. <code>  class FooTable{ protected $tableGateway; public function __construct(TableGateway $tableGateway) { $this->tableGateway = $tableGateway; } public function get($id) { $rowset = $this->tableGateway->select(function (Select $select) { $select->from('foo'); }); }}",TableGateway with multiple FROM tables
"Why does PHP's garbage collector slow down perfomance, and how to manage memory without it?"," This relates to a PHP 5.3 Cli application that processes a lot of data in a complex way, taking hours to run. Someone discovered that turning off garbage collection made it run a great deal faster (maybe as much as 50%). The only article I've come across that mentions this performance hit is http://derickrethans.nl/collecting-garbage-performance-considerations.html. I'm not sure I follow it entirely, but it seems to suggest that it only applies to code with a lot of circular references.Could someone shed some light on this please?Also, given that we have turned gc off, is there any way to manually reduce memory? Using unset() has been suggested. A quick test has shown that eighty or so bytes is freed by unset() regardless of the size of the object. This suggests it's just unsetting the reference, which is borne out by what I have read online. Am I right in thinking that these eighty bytes would be freed anyway, even without garbage collection, when the variable falls out of scope? <code> ","Why does PHP's garbage collector slow down performance, and how to manage memory without it?"
mobile app development with oauth 2 - how to create a server implementation, EDIT Originally I thought Oauth2 is the way to go but maybe it is not. I'll leave that out of this question for now as it is confusing things.I'm creating a mobile app (Android/iOS). I'd like the user to enter their credentials (user/pass) in the mobile device which would then get sent to my server (Joomla CMS) to verify the credentials and create/send a token. I don't want to store the user/pass on the device just the token.In addition this token needs to have a timeout to be refreshed when needed. Such as credentials have changed.At this point I'm trying to figure out what the architecture of this will look like.Are there any tutorials on how you can achieve this (ideally with Joomla)? Anything that someone could point me to? <code> ,mobile app development - how to create a server implementation
Editing html is browser," Many people are aware that people can edit the html source code of a website using the inspect element function available on most browsers. This is pretty harmless since the edits just take place on the local machine, and not on the actual website. I'm worried about one security issue it might have though and I'm wondering if anyone knows the answer to it.How might this function effect forms that are submitted. Fields can often be made hidden and store a value that is necessary to run a certain query. I'm wondering if people changed that value on the hidden field could that compromise the security of the site? Is there any security threat associated with this? I have a way to easily defend it, but I was just wondering if it was a flaw worth defending against.Thanks for the help. <code> ",Editing html in browser
Yii CGridView as class or style fo header cell," I want to set some style or css class for header cell in specific column.This changes css only for data cells in a column. How to set css or style in header cell of this column? <code>  'columns'=>array( array( 'name'=>'id', 'header'=>'#', 'htmlOptions'=>array('style'=>'width: 50px; text-align: center;', 'class'=>'zzz'), ),",Yii CGridView add class or style for header cell
Do I need doctype in a php file with html?," I have a php file with my website content in it. The file needs to be .php because i get some variables first and then use it later in the website content. Like this example: Do I need the <!DOCTYPE HTML>, since the file extension is php? Also, is it placed corretly? Should it come before the tag or in the very first line of my file?I also noticed that if I remove the <!DOCTYPE HTML>, some of my css code stops working...Thank you very much. <code>  <?php$user_name = $_REQUEST['username'];?><!DOCTYPE HTML><html><head> <meta charset=""utf-8""> <title>Page Title</title> <link rel=""stylesheet"" href=""css/style.css"" /></head><body>Welcome <?php echo $username;?></body></html>",Do I need a !DOCTYPE declaration in a php file with html?
PHPUnit Mocking a Class?," Is there a way to create a mock class with PHPUnit which I can then create a new instance of by using its class name?I have an interface which defines two methods. Something like: I then have another class which accepts a class name, creates an instance of that class, checks if it is an instance of what it expects (FooInterface) and then calls two methods on that class to get some information. I know how to mock an object just fine. The problem is, since this class accepts a class name, not an object (it is a part of a Manager which creates instances of the given class as needed), I can't use a normal mock object.I tried to make a mock object then use that class name. It seems to create the object just fine, and even seems to have the functions I mocked out. However, it doesn't seem to follow the will($this->returnValue('myValue')) portion I set up later. So, it does have the functions which were mocked, but they all return null.Any ideas? <code>  interface FooInterface { function getA(); function getB();} class FooInfo { protected $a; protected $b; public function __construct($fooClass) { $foo = new $fooClass; if (!($foo instanceof FooInterface)) { throw new \Exception(); } $this->a = $foo->getA(); $this->b = $foo->getB(); }} public function testConstruct(){ $foo = $this->getMockForAbstractClass('Foo', array('getA', 'getB')); $foo->expects($this->any())->method->('getA')->will($this->returnValue('a')); $foo->expects($this->any())->method->('getB')->will($this->returnValue('b')); $copyClass = get_class($foo); $copy = new $copyClass(); // Passes $this->assertTrue(method_exists($copy, 'getA'); // Fails, $copy->getA() returns null. $this->assertEquals($copy->getA(), $foo->getA());}",PHPUnit turning an instance of a class into a mock after instantiation
how can i override the value form php.ini in php, I don't have acess to php.ini in my server. I want to change the maximum execution time so that my script can runs for more than 30 seconds.is there any way i can do that on the start of my script? <code> ,How can I override the php.ini value of max_execution_time at runtime?
PHP determine if store is open check between to AM times," My code works fine if the times are AM to PM (Ex: 11 AM - 10 PM), but if the locations hours of operation are AM to AM (Ex: 9 AM - 1 AM) it breaks. Here is my code: <code>  $datedivide = explode("" - "", $day['hours']); //$day['hours'] Example 11:00 AM - 10:00 PM$from = ''.$day['days'].' '.$datedivide[0].'';$to = ''.$day['days'].' '.$datedivide[1].'';$date = date('l g:i A');$date = is_int($date) ? $date : strtotime($date);$from = is_int($from) ? $from : strtotime($from);$to = is_int($to) ? $to : strtotime($to);if (($date > $from) && ($date < $to) && ($dateh != 'Closed')) { ?> <script type=""text/javascript""> $(document).ready(function(){ $('.entry-title-container').append('<div class=""column two""><h2 style=""color:green;text-align: left;margin: 0;"">OPEN<br /><span style=""color:#222;font-size:12px;display: block;"">Closes at <?php echo $datedivide[1]; ?></span></h2></div><br clear=""all"" />'); }); </script> <?php}",Determine If Business Is Open/Closed Based On Business Hours
"Using PHP 5.5's `password_hash()` and verify function, am I doing it right?"," Say I wanted to store a password for a user, would this be the right way to do it with PHP 5.5's password_hash() function (or this version for PHP 5.3.7+: https://github.com/ircmaxell/password_compat)? Then I would do: To insert into database.Then to verify: <code>  $options = array(""cost"" => 10, ""salt"" => uniqid());$hash = password_hash($password, PASSWORD_BCRYPT, $options); mysql_query(""INSERT INTO users(username,password, salt) VALUES($username, $hash, "" . $options['salt']); $row = mysql_fetch_assoc(mysql_query(""SELECT salt FROM users WHERE id=$userid""));$salt = $row[""salt""];$hash = password_hash($password, PASSWORD_BCRYPT, array(""cost"" => 10, ""salt"" => $salt));if (password_verify($password, $hash) { // Verified}",Using PHP 5.5's password_hash and password_verify function
PHP: Blocking direct script access to a file," At the moment I do it like this:In one file, lets call it file_one.php, I have And in file_two.php I then have this at the top: So the contents of file_two.php can only be accessed if ROOT is defined, which happens in file_one.php. If you try to access file_two.php directly it won't work, is it right? Are there any flaws in this method? <code>  define( 'ROOT', realpath( dirname( __FILE__ ) ) );require_once( ROOTPATH . '/file_two.php' ); if ( ! defined( 'ROOT' ) ) exit;",Blocking direct script access to a file
"Getting GET ""?"" variable in laravel"," Hello I'm creating an API using REST and Laravel following this article.Everything works well as expected.Now, I want to map a GET request to recognise a variable using ""?"".For example: domain/api/v1/todos?start=1&limit=2.Below is the contents of my routes.php : My controllers/api/todos.php : How do I GET a parameter using ""?"" ? <code>  Route::any('api/v1/todos/(:num?)', array( 'as' => 'api.todos', 'uses' => 'api.todos@index')); class Api_Todos_Controller extends Base_Controller { public $restful = true; public function get_index($id = null) { if(is_null($id)) { return Response::eloquent(Todo::all(1)); } else { $todo = Todo::find($id); if (is_null($todo)) { return Response::json('Todo not found', 404); } else { return Response::eloquent($todo); } } }}","Getting GET ""?"" Variable in Laravel"
What is difference between orm and dbal?, I'm using Doctrine which provides both ORM and DBAL.What is difference between them? How should one decide when to use which? <code> ,Object-Relational Mapping vs Database Abstraction Layer
php chmod() not working correctly," I am having problems with a picture uploading script.I know there are hundreds of the same questions, but I haven't found the one that would be work for me. This always returns that the file is ""not writable""I tried setting chmod to 0777 and -rwxrwxrwx. But result was always the same. Any Ideas? <code>  $upload_dir = ""images/postcards/"";chmod($upload_dir, 777);if (is_writable($upload_dir)) { echo 'The file is writable';} else { echo 'The file is not writable';}",php chmod() not changing permissions
how can i get pixel value of image in php," I need to use PHP to read every pixel in a image. It's for graphical password project. When user chooses a password, they will select some area on the image. and I'm trying to do it by pixel value. Is it possible?? <code> ",How can I get the pixel value of image in PHP?
Ensure file contents are UTF-8 encoded," In my application I read a csv file and display contents to the user. But there is a problem with encoding.I have two csv files example1.csv and example2.csv. I have both opened in notepad++, which shows ANSI encoding for example1 and UTF-8 without BOM for example2.First, I tried mb_detect_encoding function to detect encoding but it shows me UTF-8 in both cases, which is not correct.Second, I try to convert the file content to UTF-8 using utf8_encode. That works for the ANSI file. But for the UTF-8 without BOM file it seems that it was encoded back to ANSI. It displays instead of the german . Same for other special characters.I want to ensure that contents are always in UTF-8 format before displaying or processing them. So is there anything I do wrong? This is how I use the mb_detect_encoding function: and it prints UTF-8 for both examples. <code>  $file_content = file_get_contents($_FILES['file']['tmp_name']);die(var_dump( mb_detect_encoding($file_content))); ",Ensure a string is UTF-8 encoded
FPDF - Can it handle original PDF with mixed orientations?," I am using the FPDF() method (from FPDI_Protection.php) to import existing PDFs and apply password protection. The problem I'm having is that the original PDF has a mix of portrait and landscape pages (8.5""X11"" & 11""X8.5""), whereas the import method makes you define it once. I can define the newly created pdf to be 11""X11"", which fixes the problem of one of the orientations cropping, but this is not ideal for printing purposes, as the PDF is scaled and left aligned, causing poor readability/printout. Is there any sort of routine I could use, as the original document is being looped through, to detect the original size and set the new page orientation on the fly? Or, alternatively, is there a simpler way to add a password to an existing pdf using php? <code>  function pdfEncrypt ($origFile, $password, $destFile) // RESPONSIBLE FOR ADDING PASSWORD PROTECTION TO PDF FILES{ require_once('fpdi/FPDI_Protection.php'); $pdf = new FPDI_Protection(); // set the format of the destinaton file, in our case 69 inch $pdf->FPDF('P', 'in', array('11','11')); //calculate the number of pages from the original document $pagecount = $pdf->setSourceFile($origFile); // copy all pages from the old unprotected pdf in the new one for ($loop = 1; $loop <= $pagecount; $loop++) { $tplidx = $pdf->importPage($loop); $pdf->addPage(); $pdf->useTemplate($tplidx); } // protect the new pdf file, and allow no printing, copy etc and leave only reading allowed $pdf->SetProtection(array('print'), $password, ''); $pdf->Output($destFile, 'F'); return $destFile;}",FPDF - Can it handle original PDF with mixed orientations (portrait/landscape)?
FPDF - Can it handle original PDF with mixed orientations (page sizes)?," I am using the FPDF() method (from FPDI_Protection.php) to import existing PDFs and apply password protection. The problem I'm having is that the original PDF has a mix of portrait and landscape pages (8.5""X11"" & 11""X8.5""), whereas the import method makes you define it once. I can define the newly created pdf to be 11""X11"", which fixes the problem of one of the orientations cropping, but this is not ideal for printing purposes, as the PDF is scaled and left aligned, causing poor readability/printout. Is there any sort of routine I could use, as the original document is being looped through, to detect the original size and set the new page orientation on the fly? Or, alternatively, is there a simpler way to add a password to an existing pdf using php? <code>  function pdfEncrypt ($origFile, $password, $destFile) // RESPONSIBLE FOR ADDING PASSWORD PROTECTION TO PDF FILES{ require_once('fpdi/FPDI_Protection.php'); $pdf = new FPDI_Protection(); // set the format of the destinaton file, in our case 69 inch $pdf->FPDF('P', 'in', array('11','11')); //calculate the number of pages from the original document $pagecount = $pdf->setSourceFile($origFile); // copy all pages from the old unprotected pdf in the new one for ($loop = 1; $loop <= $pagecount; $loop++) { $tplidx = $pdf->importPage($loop); $pdf->addPage(); $pdf->useTemplate($tplidx); } // protect the new pdf file, and allow no printing, copy etc and leave only reading allowed $pdf->SetProtection(array('print'), $password, ''); $pdf->Output($destFile, 'F'); return $destFile;}",FPDF - Can it handle original PDF with mixed orientations (portrait/landscape)?
FPDF - Can it handle original PDF with mixed orientations (portait/landscape)?," I am using the FPDF() method (from FPDI_Protection.php) to import existing PDFs and apply password protection. The problem I'm having is that the original PDF has a mix of portrait and landscape pages (8.5""X11"" & 11""X8.5""), whereas the import method makes you define it once. I can define the newly created pdf to be 11""X11"", which fixes the problem of one of the orientations cropping, but this is not ideal for printing purposes, as the PDF is scaled and left aligned, causing poor readability/printout. Is there any sort of routine I could use, as the original document is being looped through, to detect the original size and set the new page orientation on the fly? Or, alternatively, is there a simpler way to add a password to an existing pdf using php? <code>  function pdfEncrypt ($origFile, $password, $destFile) // RESPONSIBLE FOR ADDING PASSWORD PROTECTION TO PDF FILES{ require_once('fpdi/FPDI_Protection.php'); $pdf = new FPDI_Protection(); // set the format of the destinaton file, in our case 69 inch $pdf->FPDF('P', 'in', array('11','11')); //calculate the number of pages from the original document $pagecount = $pdf->setSourceFile($origFile); // copy all pages from the old unprotected pdf in the new one for ($loop = 1; $loop <= $pagecount; $loop++) { $tplidx = $pdf->importPage($loop); $pdf->addPage(); $pdf->useTemplate($tplidx); } // protect the new pdf file, and allow no printing, copy etc and leave only reading allowed $pdf->SetProtection(array('print'), $password, ''); $pdf->Output($destFile, 'F'); return $destFile;}",FPDF - Can it handle original PDF with mixed orientations (portrait/landscape)?
Remove empty lines in Netbeans 7.2," Is there any plugin, macro or built-in function that can remove empty or redundant empty lines in Netbeans 7.2 (PHP bundle, Windows 7)? Due to different line-break formats in my upload and download process (Win <> Unix, via FileZilla and Netbeans), many PHP files doubled (even quadrupled) their line breaks. I could remove them file by file using PSPad - but I am looking for an automatic or batch-capable solution. I can accept an external tool if available.Edit: I know about the Source > Format helper, but there are no settings to remove blank lines.  <code> ",Remove empty lines in Netbeans 7.x
"php: Cannot access cookies in Chrome, works properly in Firefox"," Basic situation and basic relevant info: I have a php code that executes before the opening <doctype> tag. The hope was to (if necessary) send a redirect based on user's browser's language preferences before anything else loads. The script attempts to do two things based on highest supported language preference:Use php: setcookie() to create a cookie with the two-letter language code. Example cookie name = value: x_language = esUse php: header(""Location: "" . $requestedSite); to redirect to a subdomain, Example domain: es.domain.comExample: The problem: Firefox works perfectly. Chrome (and other browsers) fail to recognize the cookies at all.I've boiled it down to this:print_r($_COOKIE) works properly in Firefox, and returns a lovely, populated array.print_r($_COOKIE) fails in Chrome, and returns an empty array.This is the core of the problem, my function doesn't recognize the existence of a cookie because Chrome doesn't. I've made sure every browser accepts cookies. I've checked dev tools to make sure the cookie is in place on all browsers, (it is).I realize a cookie's value isn't available until the next page load, but that isn't an issue here. Even after it is set, it won't read.There is no output above the initial setcookie();So how do I get Chrome (and other browsers) to recognize its own cookies?! Does anyone know why this would all work flawlessly on Firefox but fail elsewhere?On a lark I decided to try this. I created a file that only contains: Again, I see the cookie array in Firefox. Meanwhile, in Chrome, IE, Opera, Safari, I get an empty array. Could this be a server issue? <code>  if (isset($_COOKIE['x_language'])) { -Determine correct subdomain based on cookie value- -If not currently on that subdomain, redirect to it-} else { setcookie('x_language','es',time() + 31536000 ,'/','.domain.com' ); header(""Location: "" . $requestedSite);} <?phpprint_r($_COOKIE);?>","Cannot access cookies in Chrome, works properly in Firefox"
Error insert in session xml value," Hi all I have a site developed in codeigniter.I'm parsing an xml that I retrieve from a server and I want to put the return value into a session variable.But return me this error: Fatal error: Uncaught exception 'Exception' with message 'Serialization of 'SimpleXMLElement' is not allowedMy PHP version on my vps is:PHP Version 5.3.10-1ubuntu3.4This is my code: <code>  $xml = new SimpleXMLElement(curl_exec($ch2));$error2=curl_getinfo( $ch2, CURLINFO_HTTP_CODE );curl_close($ch2);foreach ($xml->DATA as $entry){ $code_travco = $entry->attributes()->COUNTRY_CODE; $name_en = $entry->COUNTRY_NAME; $newdata = array( 'code' => $code_travco, 'name_en' => $name_en ); $this->session->set_userdata($code_travco.'_nation_en', $newdata); } ",'Serialization of 'SimpleXMLElement' is not allowed Error insert in session xml value
How to copy files from server to dropbox using PHP?," I think I may have found a PHP program to upload files from a specific folder onto my Dropbox account. The full solution can be found here.The code seems to work because files and folders a like are being uploaded. However, I don't want the files on my server to be compressed beforehand: I want to copy all files with the files and folders within.How can the code be modified please? All I want is to copy a specific directory called uploads from my server to dropbox. After modifying the code I managed to arrive at this code: Actual SolutionSpecial thanks to Alireza Noori, halfer and everyone else. <code>  <?php // Set the timezone so filenames are correct date_default_timezone_set('Europe/London'); // Dropbox username/password $dropbox_email='dropbox@dropbox.com'; $dropbox_pass='password'; // Filenames for backup files $backup_files = ""files_"" . date(""Y.m.d-h.i.s_l"") . '.zip'; // File to backup $siteroot = ""/site/home/public_html/website/parent/child/uploads/""; // Backup all files in public_html apart from the gz system(""zip -r $backup_files $siteroot""); include(""DropboxUploader.php""); $uploader = new DropboxUploader($dropbox_email, $dropbox_pass); $uploader->upload($backup_files,'Backup/Files/'); system(""rm $backup_files""); ?> <?php// Set the timezone so filenames are correctdate_default_timezone_set('Europe/London');// Backup all files in public_html apart from the gz$siteroot = ""/path/to/backup"";$dropbox_email='dropbox@email'; //Dropbox username$dropbox_pass='pass'; // Dropbox passwordinclude(""DropboxUploader.php"");$uploader = new DropboxUploader($dropbox_email, $dropbox_pass);function FolderToDropbox($dir, $dropbox_link){ $dropbox_folder = 'FolderInDropboxRoot/'; $files = scandir($dir); foreach($files as $item){ if($item != '.' && $item != '..'){ if(is_dir($dir.'/'.$item)) FolderToDropbox($dir.'/'.$item,$dropbox_link); else if(is_file($dir.'/'.$item)) { $clean_dir = str_replace(""/path/to/backup"", """", $dir); $dropbox_link->upload($dir.'/'.$item,$dropbox_folder.$clean_dir.'/'); } } }}FolderToDropbox($siteroot,$uploader);?>",How to copy files from server to Dropbox using PHP?
search for multiple keywords (where X like)," I have a code that dynamically search for data in the database using ajax but I can search for only 1 keyword in a time. I would like to modify it so I can search for multiple keywords. Now, if I type 2 keywords separated by a space and in the database, the data is not separated by a space, there will be no result.If in the database the data is: 'playstation3' or 'play cool station3' and I search for: play stationthere would be no results. I would like to know if it possible to modify my code so I can search 2 or more keywords or words separated by a space or another word or a DOT or an underscore or a (-) or a (+) or a (%) or (anything else lol). I know that I should use pdo or mysqli but i'm using this for testing only! <code>  $queried = $_POST['query'];$search = mysql_query(""SELECT * FROM links WHERE name LIKE '%$queried%'"");while($searche = mysql_fetch_array($search)){ echo """".$searche['link'].""</br>"".$searche['name'].""</br>"".$searche['size'].""</br>"".$searche['category'].""<hr></br></br>""; }",search for multiple keywords with php and mysql (where X like)
PHP Namespaces with or without curly braces, PHP offers two syntax for declaring namespaces. You can use a namespace with no braces or with braces as seen below.Without Braces With Braces Is there a difference in the functionality or behavior of these two ways of using namespaces or do they both work/function the same way? <code>  namespace foo/bar;class Any{} namespace foo/bar { class Any{}},PHP Namespace Syntax: What is the Difference with Braces vs. without Braces?
PHP namespaces with curly braces vs without, PHP offers two syntax for declaring namespaces. You can use a namespace with no braces or with braces as seen below.Without Braces With Braces Is there a difference in the functionality or behavior of these two ways of using namespaces or do they both work/function the same way? <code>  namespace foo/bar;class Any{} namespace foo/bar { class Any{}},PHP Namespace Syntax: What is the Difference with Braces vs. without Braces?
Get JSON object from url," I have a URL that returns a JSON object like this: I want to get JSON object from the URL and then the access_token value.So how can I retrieve it through PHP? <code>  { ""expires_in"":5180976, ""access_token"":""AQXzQgKTpTSjs-qiBh30aMgm3_Kb53oIf-VA733BpAogVE5jpz3jujU65WJ1XXSvVm1xr2LslGLLCWTNV5Kd_8J1YUx26axkt1E-vsOdvUAgMFH1VJwtclAXdaxRxk5UtmCWeISB6rx6NtvDt7yohnaarpBJjHWMsWYtpNn6nD87n0syud0""} ",Get JSON object
Get JSON object from URL," I have a URL that returns a JSON object like this: I want to get JSON object from the URL and then the access_token value.So how can I retrieve it through PHP? <code>  { ""expires_in"":5180976, ""access_token"":""AQXzQgKTpTSjs-qiBh30aMgm3_Kb53oIf-VA733BpAogVE5jpz3jujU65WJ1XXSvVm1xr2LslGLLCWTNV5Kd_8J1YUx26axkt1E-vsOdvUAgMFH1VJwtclAXdaxRxk5UtmCWeISB6rx6NtvDt7yohnaarpBJjHWMsWYtpNn6nD87n0syud0""} ",Get JSON object
PHP DateTime/DateInterval adding 25 hours each refresh gives a completely different result," Here is my code: This should add 24 hours to the current time. Problem is, each time I refresh the page, I get a different result. And I don't mean by just a couple seconds like one would expect, I mean lots of minutes. Some above the actual time some below it.Three refreshes right now at 9:51pm give the following results: 2013-03-26 09:09:03, 2013-03-26 09:17:03, 2013-03-26 09:30:03Why can't I get the real time? What is going on?Thanks for the help! <code>  $timezone = new \DateTimeZone('America/New_York'); $date1 = new \DateTime (date(""Y:m:d H:i:s"", time()), $timezone); $date1->add(new \DateInterval (""PT24H"")); echo $date1->format('Y-m-d h:s:m');",DateTime/DateInterval adding 25 hours each refresh gives a completely different result
Unable to expand navigation of wordpress website when the browser sizeis reduced," I am looking for help in verefly.com. I have developed this website with an online theme and have made the necessary changes .My issue is that the navigation menu when the browser is reduced from its original size , does not expand . It should ideally do that and was performing normally until some days ago . The normal website looks like this :The website looks different when the browser is reduced in size :In the above picture you will see the navigation menu , however the Plus sign is no longer clickable . Neither does it expand . I am not able to understand where i can change it to work again . I would appreciate any help .** I tried to check if the secondary Menu had an issue , but nothing is evident * <code> ",Unable to expand navigation of wordpress website when the browser size is reduced
2 simultaneous ajax / progress of PHP script," I have problem with two simultaneous AJAX requests running. I have a PHP script which is exporting data to XSLX. This operation take a lot of time, so I'm trying to show progress to the user. I'm using AJAX and database approach. Actually, I'm pretty sure it used to work but I can't figure out why, it's no longer working in any browser. Did something change in new browsers? the progress is correctly updating in databasethe JS timer is trying to get the progress, I can see it in console, but all these request are loading the whole duration of the first script, as soon as the script ends, these ajax progress calls are loadedSo, why is the second AJAX call waiting for the first one to finish? <code>  $(document).ready(function() { $(""#progressbar"").progressbar(); $.ajax({ type: ""POST"", url: ""{$BASE_URL}/export/project/ajaxExport"", data: ""type={$type}&progressUid={$progressUid}"" // unique ID I'm using to track progress from database }).done(function(data) { $(""#progressbar-box"").hide(); clearInterval(progressInterval); }); progressInterval = setInterval(function() { $.ajax({ type: ""POST"", url: ""{$BASE_URL}/ajax/progressShow"", data: ""statusId={$progressUid}"" // the same uinque ID }).done(function(data) { data = jQuery.parseJSON(data); $(""#progressbar"").progressbar({ value: parseInt(data.progress) }); if (data.title) { $(""#progressbar-title"").text(data.title); } }); }, 500); });",Two simultaneous AJAX requests won't run in parallel
Split array into a specific number of chuncks," I know that array_chunk() allows to split an array into several chunks, but the number of chunks changes according to the number of elements. What I need is to always split the array into a specific number of arrays like 4 arrays for example.The following code splits the array into 3 chunks, two chunks with 2 elements each and 1 chunk with 1 element. What I would like is to split the array always into 4 chunks, no matter the number of total elements that the array has, but always trying to divide the elements evenly in the chunks like the array_chunck function does. How can I accomplish this? Is there any PHP function for this? Thank you. <code>  $input_array = array('a', 'b', 'c', 'd', 'e');print_r(array_chunk($input_array, 2));print_r(array_chunk($input_array, 2, true));",Split array into a specific number of chunks
how would I create this JSON object in php?," I don't work with php much and I'm a little fuzzy on object creation. I need to make a webservice request sending json and I think I have that part covered. Before I can submit the data I need to create a nested object. I was assuming this would be trivial based on my experience with ecma based scripting languages, but I'm finding the syntax to be difficult to navigate. The object I want to create is below. I've seen a lot of examples of flat objects, but I haven't found a minimal example for a nested object yet. What would be the php syntax for the object above? Is this an unusual thing to do in php? <code>  { ""client"": { ""build"": ""1.0"", ""name"": ""xxxxxx"", ""version"": ""1.0"" }, ""protocolVersion"": 4, ""data"": { ""distributorId"": ""xxxx"", ""distributorPin"": ""xxxx"", ""locale"": ""en-US"" }}",create nested JSON object in php?
What es 'fix name' in Netbeans?," I'm developing a website with Netbeans and sometimes a notice appears that says 'Fix name to...' but I don't understand what the meaning of 'Fix name' is or what its role is...Could anybody explain to me its meaning, please?Thanks! <code> ",What is 'fix name' in Netbeans?
"Difference between ""use"" and passing a parameter to controller function in Silex"," I don't have a specific problem, just looking to deepen my understanding of what's going on with Silex and with some new-ish PHP features in general. This is based off the code samples on the ""usage"" page of the Silex documentation: QuestionsWhat is the difference here between passing the $app and $id as parameters to the function, and use-ing the $blogPosts variable?Could $blogPosts also have been passed as a parameter to the function?Also, I more commonly see use ($app). What is the difference between use-ing the $app and passing it is a parameter? <code>  $blogPosts = array( 1 => array( 'date' => '2011-03-29', 'author' => 'igorw', 'title' => 'Using Silex', 'body' => '...', );$app->get('/blog/{id}', function (Silex\Application $app, $id) use ($blogPosts) { //do stuff}","Difference between ""use"" and passing a parameter to controller function"
Turn Off Display Error PHP.ini," I am trying to turn off all errors on my website. I have followed different tutorials on how to do this, but I keep getting read and open error messages. Is there something I am missing?I have tried the following in my php.ini file: For some reason when I do a fileopen() call for a file which does not exist, I still get the error displayed. This is not safe for a live website, for obvious reasons. <code>  ;Error displaydisplay_startup_errors = Offdisplay_errors = Offhtml_errors = Offdocref_root = 0docref_ext = 0","Turn off display errors using file ""php.ini"""
Displaying registered routes in Laravel 4," In this screencast: https://tutsplus.com/lesson/displaying-registered-routes/ Jeffrey Way demonstrates a command he created, and links to the github in the description. However there is an update to say that it is now baked into the Laravel 4 core, however I have searched for it to no avail.The general idea is that is lists all routes and the action bind to them.Any help would be appreciated. <code> ",Displaying registered routes in Laravel
How to share link and photo with instagram using PHP," How do I share a link and photo with Instagram using PHP? I can't find anything for ""share photo with instagram"". <code> ",How do I share a link and photo with Instagram using PHP
php - regular expressions," Here is a list of examples of PHP regular expressions examples. Maybe this helps someone, as admin/ or another user can't make clear that I was trying to share my approaches.preg_match does the search (preg_replace is a replacer).preg_match has three parameters - preg_match(FindWhat, FindWhere, GivingOutput);Example 1): preg_match finds only one result (the firstly found result), with two options: [0] or 1.Example 2): find everything (any characters,words..) inside our search criteria: (Note, that option 1 is not available if when you dont use brackets in search criteria (as we have above, in example 1)Example 3):If your target text has many same occurrences, like this:$text = 'Hello user Jimmy Jones, it\'s me. Hello user Mery Pawders, it\'s still me.';Now, here are two different matches, so, we need to use preg_match_all Example 4): search among many possibilities: Example 5): To find a string, while input text contains new lines, you must uses at the end; Example 6): Your search is always case sensitive. To make a case insensitive search, use i at the end (if you want, without s); Example 7): to search for special characters (like /"".<*'?, etc.) inside preg_match, you need to use this escape sign: \ Now, we can use the ^ operator, which searches for results conversely.Example 8): find everything rather than letters and numbers: For search and replace, we have a bit different structure, as we need to use the new variable.Example 9): find and replace everything rather than letters and numbers with other character, using this operator: ^ Example 10): search and add something inside the found results: Example 11): find all links inside text: Example 12): like the example 11 (but with replace) - find links in text and put them in anchored tags: Output will be the same sentence, but the links will be anchored.1) Tips: Do not use preg_match() if you only want to check if one string is contained in another string. Use stristr() or strpos() instead as they will be faster.2) **More advanced, specific examples about PHP regular expressions, use Google, or see **full options and manuals at - http://www.php.net/manual/en/reference.pcre.pattern.syntax.php(You can review shortly all operators list here - http://www.catswhocode.com/blog/15-php-regular-expressions-for-web-developershttp://www.noupe.com/php/php-regular-expressions.html)3) For HTML codes, there exist special light, PHP software, called- DOM Parser. But sometimes, if you know PHP regular expressions well, you might not need a DOM parser. <code>  <?php // Everything expect letters and numbers $text = 'abc345fg@h'; $newfilename = preg_match('/[^a-zA-Z0-9.]/', $text, $out); echo $out[0];?>Output will be:@ <?php $text = 'abcdefghijklmnopqrst'; $newfilename = preg_match('/ij(.*?)mn/', $text, $out); echo $out[0]; echo $out[1];?>[1] -gives only the inner search result (what we had in the brackets, between ""ij"" and ""mn""):kl[0] -gives the whole search result:ijklmn <?php $text = 'Hello user Jimmy Jones, it\'s me. Hello user Mery Pawders, it\'s me.'; $newfilename = preg_match_all('/hello user (.*?) it\'s/', $text, $out); foreach ($out[1] as $found_one) { echo $found_one; } // Or use $out[0] for full search match?>Output will be:Jimmy Jones,Mery Pawders, <?php $text = 'member ACCOUNT7'; preg_match(""/ACCOUNT[123456789]/"", $text, $out); echo $out[1];?>Output will be:ACCOUNT7 <?php $text = 'one two three'; preg_match(""/one(.*?)three/s"", $text, $out); echo $out[1];?>Output will be:two <?php $text = 'ONE TWO TREE'; preg_match(""/one(.*?)three/si"", $text, $out); echo $out[1];?> <?php $text = 'hello Jimmy/Kroger '; preg_match(""/Jimmy\/Kroger/"", $text, $out); echo $out[0];?> <?php $text = 'abc@*&^)($%'; preg_match_all('/[^a-zA-Z0-9.]/', $text, $out); foreach ($out[0] as $varr) { echo $varr; }?>Output will be:@*&^)($% <?php $text = 'ab2sq)(&*(%$%^$@%n23f9'; $variable = preg_replace('/[^a-zA-Z0-9.]/', 'a', $text); echo $variable;?>Output will be:ab2sqn23f9 <?php $text = 'Hi, it\'s me, Niko from Austria'; $variable = preg_replace('/(Niko.*?) from/', '$1 Gomez', $text); echo $variable;?>Output will be:it's me, Niko Gomez Austria <?php $text = 'hi, my site is http://example.com, and on my page, at http://example.com/page37/blabla.html I wrote something..'; preg_match_all(""/[[:alpha:]]+:\/\/[^<>[:space:]]+[[:alnum:]\/]/"",$text, $out); foreach($out[0] as $varr){ echo $varr; }?>Output will be:http://example.comhttp://example.com/page37/blabla.html <?php $text = 'Hi, my site is http://example.com, and on my page, at http://example.com/page37/trid.html I wrote something..'; $variable = preg_replace(""/[[:alpha:]]+:\/\/[^<>[:space:]]+[[:alnum:]\/]/"",'<a href=""\\0"">\\0</a>', $text); echo $variable;?>",Regular expressions and matching
PHP Regular Expressions," Here is a list of examples of PHP regular expressions examples. Maybe this helps someone, as admin/ or another user can't make clear that I was trying to share my approaches.preg_match does the search (preg_replace is a replacer).preg_match has three parameters - preg_match(FindWhat, FindWhere, GivingOutput);Example 1): preg_match finds only one result (the firstly found result), with two options: [0] or 1.Example 2): find everything (any characters,words..) inside our search criteria: (Note, that option 1 is not available if when you dont use brackets in search criteria (as we have above, in example 1)Example 3):If your target text has many same occurrences, like this:$text = 'Hello user Jimmy Jones, it\'s me. Hello user Mery Pawders, it\'s still me.';Now, here are two different matches, so, we need to use preg_match_all Example 4): search among many possibilities: Example 5): To find a string, while input text contains new lines, you must uses at the end; Example 6): Your search is always case sensitive. To make a case insensitive search, use i at the end (if you want, without s); Example 7): to search for special characters (like /"".<*'?, etc.) inside preg_match, you need to use this escape sign: \ Now, we can use the ^ operator, which searches for results conversely.Example 8): find everything rather than letters and numbers: For search and replace, we have a bit different structure, as we need to use the new variable.Example 9): find and replace everything rather than letters and numbers with other character, using this operator: ^ Example 10): search and add something inside the found results: Example 11): find all links inside text: Example 12): like the example 11 (but with replace) - find links in text and put them in anchored tags: Output will be the same sentence, but the links will be anchored.1) Tips: Do not use preg_match() if you only want to check if one string is contained in another string. Use stristr() or strpos() instead as they will be faster.2) **More advanced, specific examples about PHP regular expressions, use Google, or see **full options and manuals at - http://www.php.net/manual/en/reference.pcre.pattern.syntax.php(You can review shortly all operators list here - http://www.catswhocode.com/blog/15-php-regular-expressions-for-web-developershttp://www.noupe.com/php/php-regular-expressions.html)3) For HTML codes, there exist special light, PHP software, called- DOM Parser. But sometimes, if you know PHP regular expressions well, you might not need a DOM parser. <code>  <?php // Everything expect letters and numbers $text = 'abc345fg@h'; $newfilename = preg_match('/[^a-zA-Z0-9.]/', $text, $out); echo $out[0];?>Output will be:@ <?php $text = 'abcdefghijklmnopqrst'; $newfilename = preg_match('/ij(.*?)mn/', $text, $out); echo $out[0]; echo $out[1];?>[1] -gives only the inner search result (what we had in the brackets, between ""ij"" and ""mn""):kl[0] -gives the whole search result:ijklmn <?php $text = 'Hello user Jimmy Jones, it\'s me. Hello user Mery Pawders, it\'s me.'; $newfilename = preg_match_all('/hello user (.*?) it\'s/', $text, $out); foreach ($out[1] as $found_one) { echo $found_one; } // Or use $out[0] for full search match?>Output will be:Jimmy Jones,Mery Pawders, <?php $text = 'member ACCOUNT7'; preg_match(""/ACCOUNT[123456789]/"", $text, $out); echo $out[1];?>Output will be:ACCOUNT7 <?php $text = 'one two three'; preg_match(""/one(.*?)three/s"", $text, $out); echo $out[1];?>Output will be:two <?php $text = 'ONE TWO TREE'; preg_match(""/one(.*?)three/si"", $text, $out); echo $out[1];?> <?php $text = 'hello Jimmy/Kroger '; preg_match(""/Jimmy\/Kroger/"", $text, $out); echo $out[0];?> <?php $text = 'abc@*&^)($%'; preg_match_all('/[^a-zA-Z0-9.]/', $text, $out); foreach ($out[0] as $varr) { echo $varr; }?>Output will be:@*&^)($% <?php $text = 'ab2sq)(&*(%$%^$@%n23f9'; $variable = preg_replace('/[^a-zA-Z0-9.]/', 'a', $text); echo $variable;?>Output will be:ab2sqn23f9 <?php $text = 'Hi, it\'s me, Niko from Austria'; $variable = preg_replace('/(Niko.*?) from/', '$1 Gomez', $text); echo $variable;?>Output will be:it's me, Niko Gomez Austria <?php $text = 'hi, my site is http://example.com, and on my page, at http://example.com/page37/blabla.html I wrote something..'; preg_match_all(""/[[:alpha:]]+:\/\/[^<>[:space:]]+[[:alnum:]\/]/"",$text, $out); foreach($out[0] as $varr){ echo $varr; }?>Output will be:http://example.comhttp://example.com/page37/blabla.html <?php $text = 'Hi, my site is http://example.com, and on my page, at http://example.com/page37/trid.html I wrote something..'; $variable = preg_replace(""/[[:alpha:]]+:\/\/[^<>[:space:]]+[[:alnum:]\/]/"",'<a href=""\\0"">\\0</a>', $text); echo $variable;?>",Regular expressions and matching
Regular Expressions and Matching," Here is a list of examples of PHP regular expressions examples. Maybe this helps someone, as admin/ or another user can't make clear that I was trying to share my approaches.preg_match does the search (preg_replace is a replacer).preg_match has three parameters - preg_match(FindWhat, FindWhere, GivingOutput);Example 1): preg_match finds only one result (the firstly found result), with two options: [0] or 1.Example 2): find everything (any characters,words..) inside our search criteria: (Note, that option 1 is not available if when you dont use brackets in search criteria (as we have above, in example 1)Example 3):If your target text has many same occurrences, like this:$text = 'Hello user Jimmy Jones, it\'s me. Hello user Mery Pawders, it\'s still me.';Now, here are two different matches, so, we need to use preg_match_all Example 4): search among many possibilities: Example 5): To find a string, while input text contains new lines, you must uses at the end; Example 6): Your search is always case sensitive. To make a case insensitive search, use i at the end (if you want, without s); Example 7): to search for special characters (like /"".<*'?, etc.) inside preg_match, you need to use this escape sign: \ Now, we can use the ^ operator, which searches for results conversely.Example 8): find everything rather than letters and numbers: For search and replace, we have a bit different structure, as we need to use the new variable.Example 9): find and replace everything rather than letters and numbers with other character, using this operator: ^ Example 10): search and add something inside the found results: Example 11): find all links inside text: Example 12): like the example 11 (but with replace) - find links in text and put them in anchored tags: Output will be the same sentence, but the links will be anchored.1) Tips: Do not use preg_match() if you only want to check if one string is contained in another string. Use stristr() or strpos() instead as they will be faster.2) **More advanced, specific examples about PHP regular expressions, use Google, or see **full options and manuals at - http://www.php.net/manual/en/reference.pcre.pattern.syntax.php(You can review shortly all operators list here - http://www.catswhocode.com/blog/15-php-regular-expressions-for-web-developershttp://www.noupe.com/php/php-regular-expressions.html)3) For HTML codes, there exist special light, PHP software, called- DOM Parser. But sometimes, if you know PHP regular expressions well, you might not need a DOM parser. <code>  <?php // Everything expect letters and numbers $text = 'abc345fg@h'; $newfilename = preg_match('/[^a-zA-Z0-9.]/', $text, $out); echo $out[0];?>Output will be:@ <?php $text = 'abcdefghijklmnopqrst'; $newfilename = preg_match('/ij(.*?)mn/', $text, $out); echo $out[0]; echo $out[1];?>[1] -gives only the inner search result (what we had in the brackets, between ""ij"" and ""mn""):kl[0] -gives the whole search result:ijklmn <?php $text = 'Hello user Jimmy Jones, it\'s me. Hello user Mery Pawders, it\'s me.'; $newfilename = preg_match_all('/hello user (.*?) it\'s/', $text, $out); foreach ($out[1] as $found_one) { echo $found_one; } // Or use $out[0] for full search match?>Output will be:Jimmy Jones,Mery Pawders, <?php $text = 'member ACCOUNT7'; preg_match(""/ACCOUNT[123456789]/"", $text, $out); echo $out[1];?>Output will be:ACCOUNT7 <?php $text = 'one two three'; preg_match(""/one(.*?)three/s"", $text, $out); echo $out[1];?>Output will be:two <?php $text = 'ONE TWO TREE'; preg_match(""/one(.*?)three/si"", $text, $out); echo $out[1];?> <?php $text = 'hello Jimmy/Kroger '; preg_match(""/Jimmy\/Kroger/"", $text, $out); echo $out[0];?> <?php $text = 'abc@*&^)($%'; preg_match_all('/[^a-zA-Z0-9.]/', $text, $out); foreach ($out[0] as $varr) { echo $varr; }?>Output will be:@*&^)($% <?php $text = 'ab2sq)(&*(%$%^$@%n23f9'; $variable = preg_replace('/[^a-zA-Z0-9.]/', 'a', $text); echo $variable;?>Output will be:ab2sqn23f9 <?php $text = 'Hi, it\'s me, Niko from Austria'; $variable = preg_replace('/(Niko.*?) from/', '$1 Gomez', $text); echo $variable;?>Output will be:it's me, Niko Gomez Austria <?php $text = 'hi, my site is http://example.com, and on my page, at http://example.com/page37/blabla.html I wrote something..'; preg_match_all(""/[[:alpha:]]+:\/\/[^<>[:space:]]+[[:alnum:]\/]/"",$text, $out); foreach($out[0] as $varr){ echo $varr; }?>Output will be:http://example.comhttp://example.com/page37/blabla.html <?php $text = 'Hi, my site is http://example.com, and on my page, at http://example.com/page37/trid.html I wrote something..'; $variable = preg_replace(""/[[:alpha:]]+:\/\/[^<>[:space:]]+[[:alnum:]\/]/"",'<a href=""\\0"">\\0</a>', $text); echo $variable;?>",Regular expressions and matching
PHP Repository Pattern Design," Preface: I'm attempting to use the repository pattern in an MVC architecture with relational databases.I've recently started learning TDD in PHP, and I'm realizing that my database is coupled much too closely with the rest of my application. I've read about repositories and using an IoC container to ""inject"" it into my controllers. Very cool stuff. But now have some practical questions about repository design. Consider the follow example. Issue #1: Too many fieldsAll of these find methods use a select all fields (SELECT *) approach. However, in my apps, I'm always trying to limit the number of fields I get, as this often adds overhead and slows things down. For those using this pattern, how do you deal with this?Issue #2: Too many methodsWhile this class looks nice right now, I know that in a real-world app I need a lot more methods. For example:findAllByNameAndStatusfindAllInCountryfindAllWithEmailAddressSetfindAllByAgeAndGenderfindAllByAgeAndGenderOrderByAgeEtc.As you can see, there could be a very, very long list of possible methods. And then if you add in the field selection issue above, the problem worsens. In the past I'd normally just put all this logic right in my controller: With my repository approach, I don't want to end up with this: Issue #3: Impossible to match an interfaceI see the benefit in using interfaces for repositories, so I can swap out my implementation (for testing purposes or other). My understanding of interfaces is that they define a contract that an implementation must follow. This is great until you start adding additional methods to your repositories like findAllInCountry(). Now I need to update my interface to also have this method, otherwise, other implementations may not have it, and that could break my application. By this feels insane...a case of the tail wagging the dog.Specification Pattern?This leads me to believe that repository should only have a fixed number of methods (like save(), remove(), find(), findAll(), etc). But then how do I run specific lookups? I've heard of the Specification Pattern, but it seems to me that this only reduces an entire set of records (via IsSatisfiedBy()), which clearly has major performance issues if you're pulling from a database.Help?Clearly, I need to rethink things a little when working with repositories. Can anyone enlighten on how this is best handled? <code>  <?phpclass DbUserRepository implements UserRepositoryInterface{ protected $db; public function __construct($db) { $this->db = $db; } public function findAll() { } public function findById($id) { } public function findByName($name) { } public function create($user) { } public function remove($user) { } public function update($user) { }} <?phpclass MyController{ public function users() { $users = User::select('name, email, status') ->byCountry('Canada')->orderBy('name')->rows(); return View::make('users', array('users' => $users)); }} <?phpclass MyController{ public function users() { $users = $this->repo->get_first_name_last_name_email_username_status_by_country_order_by_name('Canada'); return View::make('users', array('users' => $users)) }}",Proper Repository Pattern Design in PHP?
Twig String == String," How is this possible? It seems to be a very very odd issue (unless Im missing something very simple):Code: Output: Basically, it is outputting if true, but its not meant to be checking for true. <code>  {{ dump(nav) }}{% if nav == ""top"" %} <div class=""well"">This would be the nav</div>{% endif %} boolean true<div class=""well"">This would be the nav</div>",How do string comparison operators work in Twig?
how to preview a image before and after upload?," I am going to preview an image or photo in a form, but it doesn't work and the HTML code looks like this as below: and incorporated JS code/script below: There are 2 main questions on my form:1. Why doesn't the preview of the image or picture work?2. How to paste the photo from the form when the save button is clicked, it will go/link to another PHP or PHP page that I created? <code>  <form action="""" method=""post"" enctype=""multipart/form-data"" name=""personal_image"" id=""newHotnessForm""> <p><label for=""image"">Upload Image:</label> <input type=""file"" id=""imageUpload""/></p> <p><button type=""submit"" class=""button"">Save</button></p> <div id=""preview""> <img width=""160px"" height=""120px"" src=""profile pic.jpg"" id=""thumb"" /> </div> </form> <script type=""text/jaavascript"">$(document).ready(function(){ var thumb=$('#thumb'); new AjaxUpload('imageUpload',{ action:$('newHotnessForm').attr('action'), name:'image', onSubmit:function(file,extension){ $('#preview').addClass('loading'); }, onComplete:function(file,response){ thumb.load(function(){ $('#preview').removeClass('loading'); thumb.unbind(); }); thumb.attr('src',response); } });});",How to preview an image before and after upload?
Symfony2/FOSUserBundle - Route issues with mutltiple bundles," Similar to this problem, I need a separate login for both the admin and front end bundles of my site. The admin is actually a separate bundle located in vendors.Right now, my routing looks like:app/config/routing.yml: Both of the bundles' individual routing.yml files have: And my firewalls in security.yml: The problem is that the front end's automatically generated login links point to /admin/login rather than just /login, which is not what I want to have happen.So, how can I make it use the /admin/* links when I'm there, but just the / links when I'm on the front end? I need to keep their contexts linked as people logged into the admin side should stay logged in on the front end.EDIT: I renamed my routes as the following:SiteBundle's routing.yml (same as before): AdminBundle's routing.yml: $ app/console router:debug shows: As you can see, the only route that is correct is for user registration, and that's only because it's located just in SiteBundle's routing.yml.  <code>  AcmeSiteBundle: resource: ""@SiteBundle/Resources/config/routing.yml"" prefix: /AcmeAdminBundle: resource: ""@AdminBundle/Resources/config/routing.yml"" prefix: /admin/ fos_user_security: resource: ""@FOSUserBundle/Resources/config/routing/security.xml""fos_user_profile: resource: ""@FOSUserBundle/Resources/config/routing/profile.xml"" prefix: /profilefos_user_register: resource: ""@FOSUserBundle/Resources/config/routing/registration.xml"" prefix: /registerfos_user_security_login: pattern: /login defaults: { _controller: FOSUserBundle:Security:login }fos_user_security_check: pattern: /login_check defaults: { _controller: FOSUserBundle:Security:check }fos_user_security_logout: pattern: /logout defaults: { _controller: FOSUserBundle:Security:logout } firewalls: main: context: site pattern: ^/admin/ form_login: provider: fos_userbundle csrf_provider: form.csrf_provider login_path: /admin/login check_path: /admin/login_check logout: path: /admin/logout anonymous: true frontend: context: site pattern: ^/ form_login: provider: fos_userbundle csrf_provider: form.csrf_provider login_path: /login check_path: /login_check logout: path: /logout anonymous: true fos_user_security: resource: ""@FOSUserBundle/Resources/config/routing/security.xml""fos_user_profile: resource: ""@FOSUserBundle/Resources/config/routing/profile.xml"" prefix: /profilefos_user_register: resource: ""@FOSUserBundle/Resources/config/routing/registration.xml"" prefix: /registerfos_user_security_login: pattern: /login defaults: { _controller: FOSUserBundle:Security:login }fos_user_security_check: pattern: /login_check defaults: { _controller: FOSUserBundle:Security:check }fos_user_security_logout: pattern: /logout defaults: { _controller: FOSUserBundle:Security:logout } _admin_user_security: resource: ""@FOSUserBundle/Resources/config/routing/security.xml""_admin_user_profile: resource: ""@FOSUserBundle/Resources/config/routing/profile.xml"" prefix: /profile_admin_user_security_login: pattern: /login defaults: { _controller: FOSUserBundle:Security:login }_admin_user_security_check: pattern: /login_check defaults: { _controller: FOSUserBundle:Security:check }_admin_user_security_logout: pattern: /logout defaults: { _controller: FOSUserBundle:Security:logout } fos_user_registration_register ANY ANY ANY /register/fos_user_registration_check_email GET ANY ANY /register/check-emailfos_user_registration_confirm GET ANY ANY /register/confirm/{token}fos_user_registration_confirmed GET ANY ANY /register/confirmedfos_user_security_login ANY ANY ANY /admin/loginfos_user_security_check ANY ANY ANY /admin/login_checkfos_user_security_logout ANY ANY ANY /admin/logoutfos_user_profile_show GET ANY ANY /admin/profile/fos_user_profile_edit ANY ANY ANY /admin/profile/edit_admin_user_security_login ANY ANY ANY /admin/login_admin_user_security_check ANY ANY ANY /admin/login_check_admin_user_security_logout ANY ANY ANY /admin/logout",Symfony2/FOSUserBundle - Route issues with multiple bundles
How to add custom php in joomla?, I'm having a very difficult time putting custom code into my first Joomla website. Is Joomla seriously limited to only the extensions and modules that they already provide? How can I customize it with my own PHP code? <code> ,How to add custom PHP in Joomla?
php string number concatenation messed up," I got some PHP code here: which outputs 234,But when I add a number 11 before ""hello"": It outputs 1334 rather than 245 (which I expected it to). Why is that? <code>  <?php echo 'hello ' . 1 + 2 . '34';?> <?php echo '11hello ' . 1 + 2 . '34';?>",PHP string number concatenation messed up
Sort PHP multi-dimensional array based on key?," I'm trying to sort my PHP hashtable based on a specific value in the inner array. The data structure looks like this: I've tried ksort, sort, usort but nothing seems to work. I'm trying to sort based on the name key two-levels down.This was my attempt using usort: Is there an easy way to do this or do I need to write a custom sort function? <code>  print_r($mydata);Array([0] => Array ( [type] => suite [name] => A-Name )[1] => Array ( [type] => suite [name] => C-Name )[2] => Array ( [type] => suite [name] => B-Name )) function cmp($a, $b) { return $b['name'] - $a['name'];}usort($mydata, ""cmp"");",Sort PHP multi-dimensional array based on value in inner array?
segmentation fault with apparent no reason," Edit added.I am getting a segmentation fault from the PHP ternary operation. I'm using PHP (5.4.13). The statements: Dispatches a segmentation fault (I checked the apache error log for this). The commented statements above do not throw the segmentation fault.I doubt this is the only source error, but this is what I was able to narrow down. Almost all sites that use this php are now having this problem.I don't think this is a bug! More an error in php installation or in one of the dependencies. But as no function was used, only language features, I thought it could be narrowed down pretty easily.EDIT: I wanted to know what are the common problems that causes a segmentation fault, and if one of them can be identified from the above code so that I will know where to look for solutions and how to act. (this is the question, for those who wonder about it)EDIT 2:Ready now, there is no more assignment in $_GET, so I guess now it is advisable and valid. But the error is still there.EDIT 3:for valgrind, the trace is: and for gdb is: Final EditAs I suspected from the beginning it surely was from a corrupted installation of php and it's extensions. The code itself had no problem but I guess it used some part of the faulty installation. More can be added but as I did not found the exact cause and it's solution, but managing to make it work again, I thank you all for guiding me to a resolution. <code>  <?php$t = empty($_GET['t2']) ? $_GET['t2'] : 'test';$t = empty($_GET['t2']) ? 'test' : $_GET['t2'];echo '<pre>'.print_r($t, true).'</pre>';?> $t = empty($_GET['t2']) ? $_GET['t2'] : 'test';$t = empty($_GET['t2']) ? 'test' : $_GET['t2']; ==3775== Process terminating with default action of signal 11 (SIGSEGV)==3775== Bad permissions for mapped region at address 0x0==3775== at 0x0: ???==3775== by 0xF60F9F7: execute (in /opt/rh/php54/root/usr/lib64/httpd/modules/libphp5.so)==3775== by 0xF5A619F: zend_execute_scripts (in /opt/rh/php54/root/usr/lib64/httpd/modules/libphp5.so)==3775== by 0xF548E87: php_execute_script (in /opt/rh/php54/root/usr/lib64/httpd/modules/libphp5.so)==3775== by 0xF650A94: ??? (in /opt/rh/php54/root/usr/lib64/httpd/modules/libphp5.so)==3775== by 0x133BAF: ap_run_handler (in /usr/sbin/httpd)==3775== by 0x13746D: ap_invoke_handler (in /usr/sbin/httpd)==3775== by 0x142B2F: ap_process_request (in /usr/sbin/httpd)==3775== by 0x13F9A7: ??? (in /usr/sbin/httpd)==3775== by 0x13B6B7: ap_run_process_connection (in /usr/sbin/httpd)==3775== by 0x147976: ??? (in /usr/sbin/httpd)==3775== by 0x147C45: ??? (in /usr/sbin/httpd) #0 0x0000000000000000 in ?? ()#1 0x00007fc4dd8a49f8 in execute () from /etc/httpd/modules/libphp54-php5.so#2 0x00007fc4dd83b1a0 in zend_execute_scripts () from /etc/httpd/modules/libphp54-php5.so#3 0x00007fc4dd7dde88 in php_execute_script () from /etc/httpd/modules/libphp54-php5.so#4 0x00007fc4dd8e5a95 in ?? () from /etc/httpd/modules/libphp54-php5.so#5 0x00007fc4e818dbb0 in ap_run_handler ()#6 0x00007fc4e819146e in ap_invoke_handler ()#7 0x00007fc4e819cb30 in ap_process_request ()#8 0x00007fc4e81999a8 in ?? ()#9 0x00007fc4e81956b8 in ap_run_process_connection ()#10 0x00007fc4e81a1977 in ?? ()#11 0x00007fc4e81a1c46 in ?? ()#12 0x00007fc4e81a2293 in ap_mpm_run ()#13 0x00007fc4e8179900 in main ()",PHP code generates a segmentation fault
Understanding how is running php on server (CGI OR fastCGI OR mod_php)," I use shared hosting.There is possible to find out whether PHP is running via fastCGI (or maybe CGI) or as Apache module mod_php?Is it possibly to find out by myself, without asking the hoster? <code> ",Find out how PHP is running on server (CGI OR fastCGI OR mod_php)
PHP create random tmp file and get it's full path," After I do: I'd like to get a full path to the $temp file that tmpfile has created.What do I need to do to get that information? <code>  $temp = tmpfile();fwrite($temp, ""writing to tempfile"");",PHP create random tmp file and get its full path
PHP explode() Not Working," I have a string which will contain a file upload name, for example ""image.jpg"".I'm trying to use the explode function but it's returning an error ""explode() expects parameter 2 to be string, array given in...""I've tried looking for reasons why and comparing it to how use is instructed on PHP.Net but to no avail. <code>  $upload_extension = end(explode(""."", $feature_icon));",Using end() with explode() does not work
"Function: add or remove item, that can handle associatively"," I faced the situation that splicing arrays with preserved-keys, so I made the following function.I reached the solution that wrapping each items with array, but there seems to be some memory-inefficient statements.Have you any ideas?Thank you.array_splice_pkThis preserves keys, differently from array_splice.Overview:&$input -> same as array_splice one.$key -> target key.$use_key_as_offset -> use $key parameter as a numeric offset.$length -> same as array_splice one.$replacement -> same as array_splice one. But you can also provide key for each value.Code: Sample: Result: <code>  function array_splice_pk(&$input, $key, $use_key_as_offset = false, $length = 0, $replacement = null) { if (!is_array($input) || !is_scalar($key)) { return array(); } if ($replacement !== null) { $replacement = array($replacement); if (!is_array($replacement[0])) { $replacement = array($replacement); } } $wrapper = array(); foreach ($input as $k => $v) { $wrapper[] = array($k => $v); } $del_key = null; foreach ($wrapper as $k => $v) { if ($use_key_as_offset) { if ($k === (int)$key) { $del_key = $k; break; } } else { if (key($v) == $key) { $del_key = $k; break; } } } if ($del_key === null) { return array(); } if ($replacement === null) { $wrapper_ret = array_splice($wrapper, $del_key, $length); } else { $wrapper_ret = array_splice($wrapper, $del_key, $length , $replacement); } $ret = $input = array(); foreach ($wrapper_ret as $wrap) { list($k, $v) = each($wrap); $ret[$k] = $v; } foreach ($wrapper as $wrap) { list($k ,$v) = each($wrap); $input[$k] = $v; } return $ret;} $arr1 = $arr2 = array( 'one' => 'test', 'two' => 'test', 'three' => 'test', 'four' => 'test',);$ret1 = array_splice_pk($arr1, 'three', false, 1, array('fizz' => '!!!'));$ret2 = array_splice_pk($arr2, 2 , true , 1, array('fizz' => '!!!'));var_dump('Result1', $arr1, $ret1, 'Result2', $arr2, $ret2); string(7) ""Result1""array(4) { [""one""]=> string(4) ""test"" [""two""]=> string(4) ""test"" [""fizz""]=> string(3) ""!!!"" [""four""]=> string(4) ""test""}array(1) { [""three""]=> string(4) ""test""}string(7) ""Result2""array(4) { [""one""]=> string(4) ""test"" [""two""]=> string(4) ""test"" [""fizz""]=> string(3) ""!!!"" [""four""]=> string(4) ""test""}array(1) { [""three""]=> string(4) ""test""}",array_splice preserving keys
NTP Sync PHP Script," I have an issue with a Virtual Machine (VMWare/Ubuntu) that is getting out of time sync. We decided that the best thing to do was to get the time directly from an NTP server so I started researching a script to do that but nothing works so far, that's why I decided to come here and see if someone can point me in the right direction.To clarify, I'm looking for a way to connect to a Time Server via PHP to retrieve the time directly and reuse it on a timestamp that I need to generate not to sync the server. <code> ",Retrieve Time from NTP server via PHP
Unsing string path to delete element from array," I have array like that Is there anyway to unset ['boo'] value using string input?Something like that This answer was awesome, and it's made first part of my script run Using a string path to set nested array data . But It's can't reverse.P.S. eval() is not an option :( <code>  $arr = [ 'baz' => [ 'foo' => [ 'boo' => 'whatever' ] ]]; $str = 'baz->foo->boo'; function array_unset($str, $arr) { // magic here unset($arr['baz']['foo']['boo']); return $arr; }",Using string path to delete element from array
Convert a PHP date format to a Javascript date format," [EDIT] : I guess people had problem to understand exactly what I mean, so I completely rewrote my explanations.I work on a project where users can define a date format used in the whole site. It uses PHP date format standard. For example : ""year-month-day"" is set by ""Y-m-d"".PHP standard uses single-character symbols like Y, m, d, F, j to describe the date format. As seen in the documentation : http://www.php.net/manual/en/function.date.phpSometimes users can select a date thanks to a jQueryUI Datepicker. This component describes its date format with code-words like yy, y, mm, dd, D, ...http://api.jqueryui.com/datepicker/#utility-formatDateI would like to display the dates in the same format for both PHP and the Datepicker.I mean that PHP should output the date as in the format set by user, AND the Datepicker should show the selected date in the same format.Given that:The date format is necessarily described ""PHP style""I can't know a priori which format was set by users/!\ This not a problem of how to read/parse/display a date from a known format.Unfortunately, Javascript date format description is not the same as in PHP.For instance, these 2 date formats are equivalent but described differently in PHP and Javascript:PHP : Y-m-d (set by users)Javascript : yy-mm-ddAs you can see, I cannot just configure the datepicker with the PHP date format, because it will be misunderstood, or not recognized at all.Someone (in answers below) adviced to create my own ""date format standard converter"", matching each PHP symbol with its equivalent in JS date format description. Just like:Y => yym => mmd => ddy => yz => o...And then replace each PHP symbol with the JS one. And so ""d/m/Y"" will be translated into ""dd/mm/yy"", magically.But maybe somebody knows another proper way to make jQueryUI Datepicker understand PHP date format standard?EDIT: I wrote a tutorial that explains both the problem and the solution. For further reading : http://tristan-jahier.fr/blog/2013/08/convertir-un-format-de-date-php-en-format-de-date-jqueryui-datepicker <code> ",Convert a PHP date format to a jQueryUI Datepicker date format
Laravel: PHP Artisan Migrate - Echo to console?," I was curious, I'm using Laravel and Artisan for my migrations. Is there a method to output information to the console? I can't seem to find any information on this. For example: <code>  <?phpclass Generate_Sample_Users{ public function up(){ //Echo to console here echo ""Creating sample users...""; $generator = new Sample_Data(); $user_count = 30; $users = array(); for($i=0; $i < $user_count; $i++){ array_push($users, $generator->generate_user($i)); } DB::table('users')->insert($users); } public function down(){ DB::table('users')->delete(); }}",How to echo to console in Laravel and Artisan?
php mysqli load data local in file," I am using the PHP mysqli library. Every time I try to run a LOAD DATA LOCAL INFILE command, mysqli complains with the message The used command is not allowed with this MySQL versionI do not have the same problem with running the command from a MySQL terminal (must login with --local-infile=1 to make it work) or PHPMyAdmin. Just my PHP+mysqli code experiences this error.I tried setting this option: prior to my load data call, but still no-effect.How do I correct this problem? <code>  mysqli_options($cnx, MYSQLI_OPT_LOCAL_INFILE, 1);","""Load data local infile"" command not allowed"
Command Not Allowed load data local in file," I am using the PHP mysqli library. Every time I try to run a LOAD DATA LOCAL INFILE command, mysqli complains with the message The used command is not allowed with this MySQL versionI do not have the same problem with running the command from a MySQL terminal (must login with --local-infile=1 to make it work) or PHPMyAdmin. Just my PHP+mysqli code experiences this error.I tried setting this option: prior to my load data call, but still no-effect.How do I correct this problem? <code>  mysqli_options($cnx, MYSQLI_OPT_LOCAL_INFILE, 1);","""Load data local infile"" command not allowed"
PHP : How to count array values more than 10 without looping?," Is there anyway to count array if value > 10 without looping(foreach)? <code>  $arr=array(5,7,11,67,4,12,15);$wanted_output=4",PHP : How to count array if value > 10 without looping?
PHP : How to count array if values > 10 without looping?," Is there anyway to count array if value > 10 without looping(foreach)? <code>  $arr=array(5,7,11,67,4,12,15);$wanted_output=4",PHP : How to count array if value > 10 without looping?
date(): It is not safe to rely on the system's timezone settings in codeigniter," I got this error when I requested to update the PHP version from 5.2.17 to PHP 5.3.21 on the server. <code>  <div style=""border:1px solid #990000;padding-left:20px;margin:0 0 10px 0;""><h4>A PHP Error was encountered</h4><p>Severity: Warning</p><p>Message: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/New_York' for 'EDT/-4.0/DST' instead</p><p>Filename: libraries/Log.php</p><p>Line Number: 86</p></div>Warning: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/New_York' for 'EDT/-4.0/DST' instead in /filelocation right here/system/libraries/Log.php on line 86Warning: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/New_York' for 'EDT/-4.0/DST' instead in /filelocation right here/system/libraries/Log.php on line 99<div style=""border:1px solid #990000;padding-left:20px;margin:0 0 10px 0;""><h4>A PHP Error was encountered</h4><p>Severity: Warning</p><p>Message: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/New_York' for 'EDT/-4.0/DST' instead</p><p>Filename: libraries/Log.php</p><p>Line Number: 99</p></div>","""date(): It is not safe to rely on the system's timezone settings..."""
date(): It is not safe to rely on the system's timezone settings in CodeIgniter," I got this error when I requested to update the PHP version from 5.2.17 to PHP 5.3.21 on the server. <code>  <div style=""border:1px solid #990000;padding-left:20px;margin:0 0 10px 0;""><h4>A PHP Error was encountered</h4><p>Severity: Warning</p><p>Message: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/New_York' for 'EDT/-4.0/DST' instead</p><p>Filename: libraries/Log.php</p><p>Line Number: 86</p></div>Warning: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/New_York' for 'EDT/-4.0/DST' instead in /filelocation right here/system/libraries/Log.php on line 86Warning: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/New_York' for 'EDT/-4.0/DST' instead in /filelocation right here/system/libraries/Log.php on line 99<div style=""border:1px solid #990000;padding-left:20px;margin:0 0 10px 0;""><h4>A PHP Error was encountered</h4><p>Severity: Warning</p><p>Message: date(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected 'America/New_York' for 'EDT/-4.0/DST' instead</p><p>Filename: libraries/Log.php</p><p>Line Number: 99</p></div>","""date(): It is not safe to rely on the system's timezone settings..."""
Filter doubles with array_unique," I have this array: And I want to filter out doubles, but keep the last resultarray_unique gives me 0, 3, 4, 6.. but I need it to give 0, 4, 3, 6 (so it keeps the last 3, instead of the first) <code>  array(0, 3, 4, 3, 6);","Keep unique values of array, preserving order, retaining last occurrence of each"
Add new column migrate to database," I can't figure out how to add a new column to my existing database table using the Laravel framework.I tried to edit the migration file using... In terminal, I execute php artisan migrate:install and migrate.How do I add new columns? <code>  <?phppublic function up(){ Schema::create('users', function ($table) { $table->integer(""paid""); });}",Laravel Add a new column to existing table in a migration
Add a new column to existing table in a migration," I can't figure out how to add a new column to my existing database table using the Laravel framework.I tried to edit the migration file using... In terminal, I execute php artisan migrate:install and migrate.How do I add new columns? <code>  <?phppublic function up(){ Schema::create('users', function ($table) { $table->integer(""paid""); });}",Laravel Add a new column to existing table in a migration
Add a New Column to Existing Table in a Migration," I can't figure out how to add a new column to my existing database table using the Laravel framework.I tried to edit the migration file using... In terminal, I execute php artisan migrate:install and migrate.How do I add new columns? <code>  <?phppublic function up(){ Schema::create('users', function ($table) { $table->integer(""paid""); });}",Laravel Add a new column to existing table in a migration
Add a new column to existing table in a migration," I can't figure out how to add a new column to my existing database table using the Laravel framework.I tried to edit the migration file using... In terminal, I execute php artisan migrate:install and migrate.How do I add new columns? <code>  <?phppublic function up(){ Schema::create('users', function ($table) { $table->integer(""paid""); });}",Laravel Add a new column to existing table in a migration
How to read fetch(PDO::FETCH_ASSOC);," I am trying to build a web application using PHP and I am using Memcached for storing user data from the database.For example, lets say that I have this code: I am not really sure how to read the $user variable and get the data out of it. I will need to be able to read the email and password column.How does this work? <code>  $sql = ""SELECT * FROM users WHERE user_id = :user_id"";$stmt = $this->_db->prepare($sql);$result = $stmt->execute(array("":user_id"" => $user_id));$user = $stmt->fetch(PDO::FETCH_ASSOC);","How to read ""fetch(PDO::FETCH_ASSOC);"""
How to use order by for multiple columns in laravel 4?," I want to sort multiple columns in Laravel 4 by using the method orderBy() in Laravel Eloquent. The query will be generated using Eloquent like this: How can I do this? <code>  SELECT *FROM mytableORDER BY coloumn1 DESC, coloumn2 ASC",How to Use Order By for Multiple Columns in Laravel 4?
How to parse json response sent into body," I am using CURL to send a request. The response dataType is json. How can I parse this data and insert it into the database? JSON Output: <code>  <?php$url = 'http://sms2.cdyne.com/sms.svc/SimpleSMSsendWithPostback? PhoneNumber=18887477474&Message=test&LicenseKey=LICENSEKEY';$cURL = curl_init();curl_setopt($cURL, CURLOPT_URL, $url);curl_setopt($cURL, CURLOPT_HTTPGET, true);curl_setopt($cURL, CURLOPT_HTTPHEADER, array( 'Content-Type: application/json', 'Accept: application/json'));$result = curl_exec($cURL);curl_close($cURL);print_r($result);?> { ""Cancelled"": false, ""MessageID"": ""402f481b-c420-481f-b129-7b2d8ce7cf0a"", ""Queued"": false, ""SMSError"": 2, ""SMSIncomingMessages"": null, ""Sent"": false, ""SentDateTime"": ""/Date(-62135578800000-0500)/""}",How to parse JSON and access results
How to parse json response from CURL," I am using CURL to send a request. The response dataType is json. How can I parse this data and insert it into the database? JSON Output: <code>  <?php$url = 'http://sms2.cdyne.com/sms.svc/SimpleSMSsendWithPostback? PhoneNumber=18887477474&Message=test&LicenseKey=LICENSEKEY';$cURL = curl_init();curl_setopt($cURL, CURLOPT_URL, $url);curl_setopt($cURL, CURLOPT_HTTPGET, true);curl_setopt($cURL, CURLOPT_HTTPHEADER, array( 'Content-Type: application/json', 'Accept: application/json'));$result = curl_exec($cURL);curl_close($cURL);print_r($result);?> { ""Cancelled"": false, ""MessageID"": ""402f481b-c420-481f-b129-7b2d8ce7cf0a"", ""Queued"": false, ""SMSError"": 2, ""SMSIncomingMessages"": null, ""Sent"": false, ""SentDateTime"": ""/Date(-62135578800000-0500)/""}",How to parse JSON and access results
find second and forth satursday of the month," How to find 2nd and 4th Saturday of the month.I wrote these lines:- It gives the following output :- It gives correct answer in may month but not june 2013, in jun 1013 2nd and 4th saturday should be 8 and 22 respectively. How could I solve this issue. <code>  echo ""may 2nd sat "".date('d', strtotime('may 2013 second saturday'));echo '<br/>may 4th sat '.date('d', strtotime('may 2013 fourth saturday')); echo '<br/>june 2nd sat '.date('d', strtotime('june 2013 second saturday'));echo '<br/>june 4th sat '.date('d', strtotime('june 2013 fourth saturday')); may 2nd sat 11may 4th sat 25june 2nd sat 15june 4th sat 29",Find second and fourth saturday's of the month
find second and forth saturday of the month," How to find 2nd and 4th Saturday of the month.I wrote these lines:- It gives the following output :- It gives correct answer in may month but not june 2013, in jun 1013 2nd and 4th saturday should be 8 and 22 respectively. How could I solve this issue. <code>  echo ""may 2nd sat "".date('d', strtotime('may 2013 second saturday'));echo '<br/>may 4th sat '.date('d', strtotime('may 2013 fourth saturday')); echo '<br/>june 2nd sat '.date('d', strtotime('june 2013 second saturday'));echo '<br/>june 4th sat '.date('d', strtotime('june 2013 fourth saturday')); may 2nd sat 11may 4th sat 25june 2nd sat 15june 4th sat 29",Find second and fourth saturday's of the month
what is the differebce between site_url() and base_url()?," As I have read in some resources, base_url() and site_url() functions in codeigniter are almost the same, although my version of codeigniter (2.1.3) does not have a site_url() in it's config.php file (in config directory).Yet are there differences between them in any way since I have seen site_url() with parameters and never seen base_url() holding none? <code> ",what is the difference between site_url() and base_url()?
PHP Connecting to old MySQL servers," I understand that PHP's mysql_* functions are deprecated and I should not be using them.However, we have several legacy MySQL 4.0 databases, which neither the mysqli_* nor PDO functions support connecting to. What is the best way to continue using the latest PHP versions and still be able to connect to these databases?(Based on the description at the top of the PDO intro page, I initially thought PDO might be an option, but the Changelog further down the page suggests that support for pre-4.1 has been dropped in PHP 5.4)I understand that MySQL 4.0 is 10 years old and the real problem here is that we're still using it. Upgrading MySQL is a separate issue that's outside the scope of both my influence and this question. What I do have control over is the PHP version that we use - and I'd hate to have to stop upgrading PHP just because we need to connect to some old databases.Even PDO will no longer connect to these old MySQL servers.I should also clarify that we have several legacy applications accessing these databases, and we want to change these applications as little as possible. They are not in active development, and testing a change that involved rewriting large sections of code would quickly balloon into a rather large QA project.For this reason, invasive solutions such as rewriting the code or upgrading the MySQL version, are highly unlikely to be worthwhile. If they are the only solutions available, we'll probably end up doing nothing - using mysql_* as long as possible, and then freezing the PHP version (at least for these apps) as soon as the latest PHP can no longer connect.On the other hand, technically complex solutions (such as compiling something from scratch) are definitely possible, and are actually preferred to making extensive code changes. <code> ",Connecting to old MySQL servers
PHP Rand Function Exclude," I have this: I want to exclude from random numbers let's say 234, 1578 ,763 , 1274 and other numbers. How would I do that? <code>  <?php $n = rand(1,1600); echo $n ?>",PHP rand() exclude certain numbers
PhpStorm debugger not stopping at BreakPoints," Updated question : PhpStorm | WebMatrix (IISExpress) | Xdebug.remote_port | Which Port(s) to put where?I'm running localhost web server on my Windows machine with WebMatrix and IISExpress. I've installed PHP and Xdebug in it and they both are working.I have a local WordPress install.I'm now trying to get PhpStorm to debug it using Xdebug.When I run PhpStorm it launches the web app in the browser with relevant debugging parameters in the browser.IDE KEY is matchingxdebug.remote_port is configured correctly. (Later I found that this is wrong, but not erroneous. It should be port 9000) But it seems Xdebug never gets to communicate with PhpStorm. PhpStorm keeps listening, and the execution runs completely without stopping at any break-points. <code> ",PhpStorm debugger not stopping at BreakPoints; keeps waiting for xdebug _SESSION_
cant get image stored in a bytea postgre database to load," I stored an image in a PostgreSQL database with column type bytea using PHP. The problem is every time I try to load the image in a browser it does not appear. The Firefox developer console says the image is either truncated or corrupt. The PHP code: and i need to store the uploaded image in a database- i am actually using heroku thanks <code>  //code for inserting into the databaseif(array_key_exists('submit_pic', $_POST)){$user=$_SESSION['name'];if(isset($_FILES['thumbnail'])&&$_FILES['thumbnail']['size']>0){$fi = $_FILES['thumbnail']['tmp_name'];$p=fopen($fi,'r');$data=fread($p,filesize($fi));$data=addslashes($data);$dat= pg_escape_bytea($data); $q=""update userinfo set image='{$dat}' where email='$user'"";$e=pg_query($q)or die(pg_last_error());// code for retreving from databaserequire_once('conn.php');session_start();$user=$_SESSION['name'];pg_query('SET bytea_output = ""escape"";');$lquery =""select image from userinfo where email='$user'"";$lq = pg_query($lquery)or die(pg_last_error());$lqq=pg_fetch_row($lq,'image');header(""conent-type:image"");echo pg_unescape_bytea($lqq[0]);",Storing images in bytea fields in a PostgreSQL database
Remove multiple INDEXES of array," I have some indexes that I need to remove from main array. For example: I want end result like: I know we have array_slice function in PHP, which can be run in loop, but I have very huge data and I want to avoid looping here. <code>  $removeIndex=array(1,3,6);$mainArray=array('1'=>'a','2'=>'b','3'=>'c','4'=>'d','5'=>'e','6'=>'f'); $mainArray=array('2'=>'b','4'=>'d','5'=>'e');",Remove common indexes of array
Remove common INDEXES of array," I have some indexes that I need to remove from main array. For example: I want end result like: I know we have array_slice function in PHP, which can be run in loop, but I have very huge data and I want to avoid looping here. <code>  $removeIndex=array(1,3,6);$mainArray=array('1'=>'a','2'=>'b','3'=>'c','4'=>'d','5'=>'e','6'=>'f'); $mainArray=array('2'=>'b','4'=>'d','5'=>'e');",Remove common indexes of array
Executing bash script from php script," I want to execute a Bash script present on the system from a PHP script. I have two scripts present on the system. One of them is a PHP script called client.php present at /var/www/html and the other is a Bash script called testscript present at /home/testuser. My client.php script looks like My testscript looks like When i do the following on terminal I get the following output on terminal But when i open the page at I get the following output I get this error even after I did chmod +x testscript.How do I get it to work from the browser? Please help. <code>  <?php $message=shell_exec(""/home/testuser/testscript 2>&1""); print_r($message);?> #!/bin/bashecho ""Testscript run succesful"" php client.php Testscript run successful http://serverdomain/client.php sh: /home/testuser/testscript: Permission denied ",Executing a shell script from a PHP script
Executing a Bash script from a PHP script," I want to execute a Bash script present on the system from a PHP script. I have two scripts present on the system. One of them is a PHP script called client.php present at /var/www/html and the other is a Bash script called testscript present at /home/testuser. My client.php script looks like My testscript looks like When i do the following on terminal I get the following output on terminal But when i open the page at I get the following output I get this error even after I did chmod +x testscript.How do I get it to work from the browser? Please help. <code>  <?php $message=shell_exec(""/home/testuser/testscript 2>&1""); print_r($message);?> #!/bin/bashecho ""Testscript run succesful"" php client.php Testscript run successful http://serverdomain/client.php sh: /home/testuser/testscript: Permission denied ",Executing a shell script from a PHP script
"What are the benefits of creating Stored Procedures in SQL,MYSQL"," I have a theoretical question. I can't see any difference between declaring a function within a PHP file and creating a stored procedure in a database that does the same thing. Why would I want to create a stored procedure to, for example, return a list of all the Cities for a specific Country, when I can do that with a PHP function to query the database and it will have the same result? What are the benefits of using stored procedures in this case? Or which is better? To use functions in PHP or stored procedures within the database? And what are the differences between the two? Thank you.  <code> ",What are the benefits of creating Stored Procedures in SQL and MySQL?
xpath - object value omitted," Vardump $xpath: What is wrong here? I'm trying to use xpath on the HTML code to extract info. <code>  $store = curl_exec($ch); // Returns a page of HTML$doc = new DOMDocument();$doc->loadHTML($store);$xpath = new DOMXpath($doc); object(DOMXPath)#2 (1) { [""document""] => string(22) ""(object value omitted)"" } object(DOMDocument)#1 (34) { [""doctype""] => string(22) ""(object value omitted)"" [""implementation""] => string(22) ""(object value omitted)"" [""documentElement""] => string(22) ""(object value omitted)"" [""actualEncoding""] => string(6) ""gb2312"" [""encoding""] => string(6) ""gb2312"" [""xmlEncoding""] => string(6) ""gb2312"" [""standalone""] => bool(true) ...","DOMXPath var_dump: ""(object value omitted)"""
"DOMXpath var_dump: ""(object value omitted)"""," Vardump $xpath: What is wrong here? I'm trying to use xpath on the HTML code to extract info. <code>  $store = curl_exec($ch); // Returns a page of HTML$doc = new DOMDocument();$doc->loadHTML($store);$xpath = new DOMXpath($doc); object(DOMXPath)#2 (1) { [""document""] => string(22) ""(object value omitted)"" } object(DOMDocument)#1 (34) { [""doctype""] => string(22) ""(object value omitted)"" [""implementation""] => string(22) ""(object value omitted)"" [""documentElement""] => string(22) ""(object value omitted)"" [""actualEncoding""] => string(6) ""gb2312"" [""encoding""] => string(6) ""gb2312"" [""xmlEncoding""] => string(6) ""gb2312"" [""standalone""] => bool(true) ...","DOMXPath var_dump: ""(object value omitted)"""
Does anybody know how to make a mysql query statement from php that include declaration kind< @sql >," I am trying to execute the SQL code below from my PHP class, but when I do it gives an error. The below code runs perfectly in PHPMyAdmin's console, but not in PHP. This is how I'm doing it in PHP: What am I doing wrong?see the error am getting:: <code>  SET @columns := ( SELECT GROUP_CONCAT(column_name) FROM information_schema.columns WHERE table_schema = 'test' AND table_name = 'mytable' AND column_key <> 'PRI');SET @sql := ( SELECT CONCAT( 'INSERT INTO mytable (', @columns, ') ', 'SELECT ', @columns, ' FROM mytable ', 'WHERE id = 1;' ));PREPARE stmt FROM @sql;EXECUTE stmt; $sql='';$sql.=""SET @columns := ( SELECT GROUP_CONCAT(column_name) FROM information_schema.columns WHERE table_schema = 'test' AND table_name = 'mytable' AND column_key <> 'PRI' );"";$sql.=""SET @sql := ( SELECT CONCAT( 'INSERT INTO mytable (', @columns, ') ', 'SELECT ', @columns, ' FROM mytable ', 'WHERE id = 1;' ));"";$sql.=""PREPARE stmt FROM @sql; EXECUTE stmt;"";$result = mysql_query($sql, $this->connection); Database query failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @sql := ( SELECT CONCAT( 'INSERT INTO mytable(', @colu' at line 9 ",PHP code to execute multiple queries with a single mysql_query() call
Executing multiple queries with a single mysql_query() call," I am trying to execute the SQL code below from my PHP class, but when I do it gives an error. The below code runs perfectly in PHPMyAdmin's console, but not in PHP. This is how I'm doing it in PHP: What am I doing wrong?see the error am getting:: <code>  SET @columns := ( SELECT GROUP_CONCAT(column_name) FROM information_schema.columns WHERE table_schema = 'test' AND table_name = 'mytable' AND column_key <> 'PRI');SET @sql := ( SELECT CONCAT( 'INSERT INTO mytable (', @columns, ') ', 'SELECT ', @columns, ' FROM mytable ', 'WHERE id = 1;' ));PREPARE stmt FROM @sql;EXECUTE stmt; $sql='';$sql.=""SET @columns := ( SELECT GROUP_CONCAT(column_name) FROM information_schema.columns WHERE table_schema = 'test' AND table_name = 'mytable' AND column_key <> 'PRI' );"";$sql.=""SET @sql := ( SELECT CONCAT( 'INSERT INTO mytable (', @columns, ') ', 'SELECT ', @columns, ' FROM mytable ', 'WHERE id = 1;' ));"";$sql.=""PREPARE stmt FROM @sql; EXECUTE stmt;"";$result = mysql_query($sql, $this->connection); Database query failed: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'SET @sql := ( SELECT CONCAT( 'INSERT INTO mytable(', @colu' at line 9 ",PHP code to execute multiple queries with a single mysql_query() call
PHP: get_object_vars gives a different order of properties," I have some classes that extend each other, each time adding more properties.Now I need to get a list of all properties of a class, but in the order that they were declared, with the properties of the parent class first.For example : This gives : but I want : Is there any way this could be achieved?UPDATE:The reason I need this, is because I'm converting a file that uses the STEP (EXPRESS ISO 10303-21) format (and back!). (See this for more information : http://en.wikipedia.org/wiki/ISO_10303-21) This format is some kind of serialized objects structure. I recreated all object classes in PHP, but since in STEP the order of the properties is crucial, I need the exact same order of the properties. <code>  class foo { public $a = 1; public $c = 2; public $d = 3;}class foo2 extends foo { public $b = 4;}$test = new foo2;var_dump(get_object_vars($test)); array(4) { [""b""]=> int(4) [""a""]=> int(1) [""c""]=> int(2) [""d""]=> int(3) } array(4) { [""a""]=> int(1) [""c""]=> int(2) [""d""]=> int(3) [""b""]=> int(4) } ",How to get the hierarchical order of properties with get_object_vars?
PHP: how to get the hierarchical order of properties with get_object_vars?," I have some classes that extend each other, each time adding more properties.Now I need to get a list of all properties of a class, but in the order that they were declared, with the properties of the parent class first.For example : This gives : but I want : Is there any way this could be achieved?UPDATE:The reason I need this, is because I'm converting a file that uses the STEP (EXPRESS ISO 10303-21) format (and back!). (See this for more information : http://en.wikipedia.org/wiki/ISO_10303-21) This format is some kind of serialized objects structure. I recreated all object classes in PHP, but since in STEP the order of the properties is crucial, I need the exact same order of the properties. <code>  class foo { public $a = 1; public $c = 2; public $d = 3;}class foo2 extends foo { public $b = 4;}$test = new foo2;var_dump(get_object_vars($test)); array(4) { [""b""]=> int(4) [""a""]=> int(1) [""c""]=> int(2) [""d""]=> int(3) } array(4) { [""a""]=> int(1) [""c""]=> int(2) [""d""]=> int(3) [""b""]=> int(4) } ",How to get the hierarchical order of properties with get_object_vars?
Can I use javascript to call a php page into a div?," I am trying to write a function that will call getproduct.php?id=xxx when clicked. I can get the innerHTML portion to appear, but how do I also call the php page that actually does the work? <code>  var id = id;document.getElementById(""digital_download"").innerHTML = ""Downloading...Please be patient. The process can take a few minutes.""; url = getproduct.php?id=id;",How to load a PHP page into a div with jQuery and AJAX?
Write a PHP page into a div," I am trying to write a function that will call getproduct.php?id=xxx when clicked. I can get the innerHTML portion to appear, but how do I also call the php page that actually does the work? <code>  var id = id;document.getElementById(""digital_download"").innerHTML = ""Downloading...Please be patient. The process can take a few minutes.""; url = getproduct.php?id=id;",How to load a PHP page into a div with jQuery and AJAX?
is there a maximum size limit to php curl download," Is there a maximum size limit to PHP cURL downloads? ie. will cURL quit when transfer reaches a certain file limit? It's for a site that downloads remote images. I want to ensure that cURL will stop when it reaches a certain limit.Also my research shows getimagesize() downloads the image, to return its size so its not an option. <code>  curl_setopt($ch, CURLOPT_URL, $url);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout);$data = curl_exec($ch);",How to set a maximum size limit to PHP cURL downloads?
how to set a maximum size limit to php curl downloads," Is there a maximum size limit to PHP cURL downloads? ie. will cURL quit when transfer reaches a certain file limit? It's for a site that downloads remote images. I want to ensure that cURL will stop when it reaches a certain limit.Also my research shows getimagesize() downloads the image, to return its size so its not an option. <code>  curl_setopt($ch, CURLOPT_URL, $url);curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, $timeout);$data = curl_exec($ch);",How to set a maximum size limit to PHP cURL downloads?
Advantages of using strategy pattern in php., I can't seem to get my head around what advantages the strategy pattern offer. See the example below. In the above two example what advantages will the strategy pattern will offer and how is it better then the first approach? Why should I use strategy pattern?The above example code might contain errors please ignore the code. <code>  //Implementation without the strategy patternclass Registry { public function Func1(){ echo 'called function 1'; } public function Func2(){ echo 'called function 2'; }}$client = new Registry();$client->Func1();$client->Func2();//Implementation with strategy patterninterface registry { public function printMsg();}class Func1 implements registry { public function printMsg(){ echo 'called function 1'; }}class Func2 implements registry { public function printMsg(){ echo 'called function 2'; }}class context { public function printMsg(Registry $class){ $class->printMsg(); }}$client = new context();$client->printMsg(new Func1());$client->printMsg(new Func2());,Advantages of using strategy pattern in php
php save meta box data from dropdown list selected," I'm trying to save some data in WordPress database from a meta box.I've got a dropdown list to select some options and I want to save the selected option in database thanks to meta box.However I have some difficulty with the save function in PHP : How can I get the select value an save it with update_post_meta()? <code>  <?phpfunction add_admin_menu_class_meta_box() { $pages = array('post', 'portfolio'); foreach( $pages as $page ) { add_meta_box('custom_element_grid_class','Element grid size', 'custom_element_grid_class_meta_box', $page, 'side', 'high'); }}add_action( 'admin_menu', 'add_admin_menu_class_meta_box' );function custom_element_grid_class_meta_box(){ ?> <label>Choose the size of the element : </label> <select name=""custom_element_grid_class"" id=""custom_element_grid_class""> <option value=""normal"" <?php selected( $meta_element_class, 'normal' ); ?>>normal</option> <option value=""square"" <?php selected( $meta_element_class, 'square' ); ?>>square</option> <option value=""wide"" <?php selected( $meta_element_class, 'wide' ); ?>>wide</option> <option value=""tall"" <?php selected( $meta_element_class, 'tall' ); ?>>tall</option> </select> <?php}add_action('save_post', 'save_custom_element_grid_class');function save_custom_element_grid_class(){global $post;if(!isset($_POST[""custom_element_grid_class""])): return $post; endif; update_post_meta($post->ID, 'custom_element_grid_class', $meta_element_class);}?>",Save meta box data from selected dropdown list
set wordpress woocommerce cart expiration," I would like to erase the cart content when the woocommerce session expires.I can see there's a variable setting the time in class WC_Session_Handler, however when it expires, products does not get removed from cart (i guess it behaves like this by design,it's not an error). So please tell me how can i set the session expiration time for woocommerce cart so, that cart content gets removed when it expires? <code> ",Set WooCommerce cart expiration
Formatting Date from weird twitter format," Through the twitter API I was able to get the datetime of when something was tweeted Now, in PHP, how do I get that into standard unix: I'm not to sure on anything to deal with datetime but I think there is an easier way to do this rather than having to parse through and change things with str_replace and substr <code>  Jul 25 17:42:55 +0000 2013 2013-6-25 17:42:55",Formatting Date with PHP from weird twitter format
Formatting Date from weird twitter format in PHP," Through the twitter API I was able to get the datetime of when something was tweeted Now, in PHP, how do I get that into standard unix: I'm not to sure on anything to deal with datetime but I think there is an easier way to do this rather than having to parse through and change things with str_replace and substr <code>  Jul 25 17:42:55 +0000 2013 2013-6-25 17:42:55",Formatting Date with PHP from weird twitter format
Show values from a mySQL database table inside a html table in a page," I want to retrieve the values from a database table and show them in a html table in a page.I already searched for this but I couldn't find the answer, although this surely is something easy (this should be the basics of databases lol). I guess the terms I've searched are misleading.The database table name is tickets, it has 6 fields right now (submission_id, formID, IP, name, email and message) but should have another field called ticket_number.How can I get it to show all the values from the db in a html table like this: And then all the other values below 'john'. <code>  <table border=""1""> <tr> <th>Submission ID</th> <th>Form ID</th> <th>IP</th> <th>Name</th> <th>E-mail</th> <th>Message</th> </tr> <tr> <td>123456789</td> <td>12345</td> <td>123.555.789</td> <td>John Johnny</td> <td>johnny@example.com</td> <td>This is the message John sent you</td> </tr></table>",Show values from a MySQL database table inside a HTML table on a webpage
laravel view not found exception," I have problem with laravel view is not found by route function I did composer dumpautoload but no use ArticleController.php InvalidArgumentException <code>  <?phpclass ArticleController extends BaseController { public function showIndex() { return View::make('index'); } public function showSingle($articleId) { return View::make('single'); }}//RouteRoute::get('index', 'ArticleController@showIndex'); View [index] not found.open: /opt/lampp/htdocs/laravel-project/bootstrap/compiled.php foreach ((array) $paths as $path) { foreach ($this->getPossibleViewFiles($name) as $file) { if ($this->files->exists($viewPath = $path . '/' . $file)) { return $viewPath; } } } throw new \InvalidArgumentException(""View [{$name}] not found.""); } protected function getPossibleViewFiles($name)Server/Request DataREDIRECT_UNIQUE_ID UfWlAn8AAQEAABR2VakAAAAFREDIRECT_STATUS 200UNIQUE_ID UfWlAn8AAQEAABR2VakAAAAFHTTP_HOST localhostHTTP_USER_AGENT Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:22.0) Gecko/20100101 Firefox/22.0HTTP_ACCEPT text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8HTTP_ACCEPT_LANGUAGE en-US,en;q=0.5HTTP_ACCEPT_ENCODING gzip, deflateHTTP_COOKIE laravel_session=f94fpel78jn89nhah32mflqn15HTTP_CONNECTION keep-aliveHTTP_CACHE_CONTROL max-age=0PATH /usr/lib/lightdm/lightdm:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/gamesLD_LIBRARY_PATH /opt/lampp/lib:/opt/lampp/libSERVER_SIGNATURE SERVER_SOFTWARE Apache/2.4.4 (Unix) OpenSSL/1.0.1e PHP/5.4.16 mod_perl/2.0.8-dev Perl/v5.16.3SERVER_NAME localhostSERVER_ADDR 127.0.0.1SERVER_PORT 80REMOTE_ADDR 127.0.0.1DOCUMENT_ROOT /opt/lampp/htdocsREQUEST_SCHEME httpCONTEXT_PREFIX CONTEXT_DOCUMENT_ROOT /opt/lampp/htdocsSERVER_ADMIN you@example.comSCRIPT_FILENAME /opt/lampp/htdocs/laravel-project/public/index.phpREMOTE_PORT 50211REDIRECT_URL /laravel-project/public/indexGATEWAY_INTERFACE CGI/1.1SERVER_PROTOCOL HTTP/1.1REQUEST_METHOD GETQUERY_STRING REQUEST_URI /laravel-project/public/indexSCRIPT_NAME /laravel-project/public/index.phpPHP_SELF /laravel-project/public/index.phpREQUEST_TIME_FLOAT 1375053058.123REQUEST_TIME 1375053058",Laravel view not found exception
What is the difference between IMPLODE & JOIN," What is the difference between implode() & join() as both work the same way. Is there is any advantage of using one over another? <code>  <?php $array = array(1,2,3); echo join("","", $array); // output 1,2,3 echo implode("","", $array); // output 1,2,3?>",What is the difference between implode() & join()
AngulaJS and PHP backend," Maybe it's not a real question, rather is's a discussion. I decided to learn angular, using a simple task, build a blog system. And i have a few questions. Lest imagine that the php app will have the MVC structure, so i have some questions:Should i build my back-end only as RESTFUL app, and use json response\request upon the angular and php?What about the view in php app, i should use them with ng-init?Routing, server side or client side?What about caching?And the last, but not the least, where i should put the logic about data that user will input?Can someone give me the instructions or directions, about this things, and maybe useful link's to read the articles, to combine the php and angular, or maybe i'm doing it in the wrong way? <code> ",AngularJS and PHP backend
PHP How to reverse engineer the the day of the year 3212 into 2013-08-01," I have a date in YDDD format such 3212 I want to convert this date into default date string i.e. 2013-08-01 in PHP Since the first value Y is the only character for Year, so I've decided to take the first three characters from the current Year i.e. 201 from 2013 The following is the code I've written for year Now How can I use $year and 212 to convert it into 2013-08-01 using PHPEDIT FYI: My PHP Version is 5.3.6 <code>  <?php$date = ""3212""$y = substr($date,0,1); // will take out 3 out of year 3212$ddd = substr($date,1,3); // will take out 212 out of year 3212$year = substr(date(""Y""),0,3) . $y; //well create year ""2013""?>",PHP How to reverse engineer the day of the year 3212 (YDDD) into 2013-08-01 (YYYY-mm-dd)
PHP How to reverse engineer the day of the year 3212 into 2013-08-01," I have a date in YDDD format such 3212 I want to convert this date into default date string i.e. 2013-08-01 in PHP Since the first value Y is the only character for Year, so I've decided to take the first three characters from the current Year i.e. 201 from 2013 The following is the code I've written for year Now How can I use $year and 212 to convert it into 2013-08-01 using PHPEDIT FYI: My PHP Version is 5.3.6 <code>  <?php$date = ""3212""$y = substr($date,0,1); // will take out 3 out of year 3212$ddd = substr($date,1,3); // will take out 212 out of year 3212$year = substr(date(""Y""),0,3) . $y; //well create year ""2013""?>",PHP How to reverse engineer the day of the year 3212 (YDDD) into 2013-08-01 (YYYY-mm-dd)
How to pharse json on smarty template?," I have the following code in my template file: The output is (json string): {""ip"":""12.12.12.12"",""date"":1375616434,""cartitems"":[""foo:1""],""company"":""dsad"",""FirstName"":""sad"",""LastName"":""asdsad"",""street"":"""",""postcode"":"""",""city"":"""",""country"":""Andorra"",""phone"":""456456"",""fax"":"""",""email"":""sad@sad.com"",""comefrom"":""google"",""request"":"""",""message"":""sadads""}I would like to print each element seperated, for example : {$entry->nb_persons.company}Should give me -> ""dsad""But this is not working and I'm not sure why. <code>  {foreach from=$items item=entry} <pre> {$entry->nb_persons|@print_r} </pre>{/foreach}",How to parse/decode JSON object in smarty template?
Error in Symfony2 when URL cointains dot," I use Symfony 2.2.4, and I try desperately to generate URL (with Twig). In fact, I obtain always the same error when my URL cointain a dot.For example : - Route: ""my_route"" - First parameter: ""id"" - Second parameter: ""title""In Twig: I obtain the following error: An exception has been thrown during the rendering of a template (""Parameter ""title"" for route ""my_route"" must match ""[^/.]++"" (""another...test"" given) to generate a corresponding URL."") in ...I've tried with Symfony 2.0.3, and there are no problem.Have you got an idea to resolve this problem?Thanks by advance for your help.Best regards <code>  {{ path(""my_route"", {""id"" : 1984, ""title"" : ""another...test""}) }}",Error in Symfony2 when URL contains dot(.)
PHP: Is there any way to determine the *actual* session save path?," I know there are half a dozen ways to get the value of the session.save_path directive (phpinfo(), session_save_path(), etc.), but when the value is an empty string, as it is by default, the actual path can be any of several locations. I've read that it's usually /tmp, except when it's /var/lib/php5, but on OS X Mountain Lion it's definitely /private/var/tmp. On Windows, it's probably C:\Windows\Temp, but who knows.I could specify the location, but that won't really help me. I'm trying to diagnose a tricky problem and I would like to know what the current location is on a server that I don't have full access to. If there's a right way to do it, I haven't been able to find it. I'm open to clever hacks. <code> ",Is there any way to determine the *actual* session save path?
Is unset is useful?," I never ever saw someone using unset and I was wondering if that saves something or if it is a completely waste of time and code? <code>  <?php$message = ""Line 1\r\nLine 2\r\nLine 3"";mail('admin@example.com', 'My Subject', $message);/* IS THERE ANY REASON TO UNSET $message ? */unset($message);?>",Is unset useful?
How to Call store procedure in codeigniter?," I can't call a stored procedure in CodeIgniter. However, when I call the procedure directly in MySQL, it works. Why isn't it working when I call it in CodeIgniter? <code>  CREATE DEFINER=`root`@`localhost` PROCEDURE `test_proc`()LANGUAGE SQLNOT DETERMINISTICCONTAINS SQLSQL SECURITY DEFINERCOMMENT ''BEGIN declare name1 TEXT; declare id1 TEXT; select name,id into name1,id1 from my_tbl WHERE name='sam'; select * from my_tbl; select name1,id1;END",How to call a stored procedure in CodeIgniter?
Lambda Expressions in PHP," Is there a way to use LINQ Expressions in PHP? For example, in C# I can do the following: And in PHP, how would I do something like the following? <code>  List<string> names = new List<string>(){ ""Francisco"", ""Ronald"", ""Arajo"", ""Barbosa""};var oneName = names.Where(x => x.Equals(""Ronald"")).FirstOrDefault(); names **.Where** (x => x.Equals(""Ronald"")) **.FirstOrDefault()**;",LINQ expressions?
Lambda Expressions?," Is there a way to use LINQ Expressions in PHP? For example, in C# I can do the following: And in PHP, how would I do something like the following? <code>  List<string> names = new List<string>(){ ""Francisco"", ""Ronald"", ""Arajo"", ""Barbosa""};var oneName = names.Where(x => x.Equals(""Ronald"")).FirstOrDefault(); names **.Where** (x => x.Equals(""Ronald"")) **.FirstOrDefault()**;",LINQ expressions?
LINQ Expressions in PHP?," Is there a way to use LINQ Expressions in PHP? For example, in C# I can do the following: And in PHP, how would I do something like the following? <code>  List<string> names = new List<string>(){ ""Francisco"", ""Ronald"", ""Arajo"", ""Barbosa""};var oneName = names.Where(x => x.Equals(""Ronald"")).FirstOrDefault(); names **.Where** (x => x.Equals(""Ronald"")) **.FirstOrDefault()**;",LINQ expressions?
LINQ Expressions?," Is there a way to use LINQ Expressions in PHP? For example, in C# I can do the following: And in PHP, how would I do something like the following? <code>  List<string> names = new List<string>(){ ""Francisco"", ""Ronald"", ""Arajo"", ""Barbosa""};var oneName = names.Where(x => x.Equals(""Ronald"")).FirstOrDefault(); names **.Where** (x => x.Equals(""Ronald"")) **.FirstOrDefault()**;",LINQ expressions?
how to search a file in phpstorm?," Eclipse has this feature where you can search any file in your folder. Is there any such feature in PhpStorm?Is there a shortcut for indentation and how can I customize that?Googled it, but no results. <code> ",How to search a file in PhpStorm?
Embed the PDF in a webpage without using the build in PDF viewer," Currently I am using the standard way to embed an pdf to the browser, however, the built-in pdf viewer for my target browser is not working as expected. I would like to force (Chrome, Firefox and IE8 (if possible, but IE9+ is also ok)) to use the adobe reader. The problem is , I can only change this option manually. Is there any way to change the option in HTML/ JS/ PHP ? Thanks. I try to find the solution and someone suggested header, not working unfortunately e.g. <code>  <OBJECT data=""YourFile.pdf"" TYPE=""application/x-pdf"" TITLE=""SamplePdf"" WIDTH=200 HEIGHT=100> <a href=""YourFile.pdf"">shree</a> </object> Content-Type: application/pdfContent-Disposition: inline; filename.pdf",Embed the PDF in a webpage without using the built-in PDF viewer
Likedin sharing urls / not parsing open graph," The Linkedin documentation can be found hereAs it says, it needs: Here is an example of my wordpress blog source code that for simplicity I use Jetpack plug-in: In Facebook it works great, or you can see the meta data here. However LinkedIn is more stubborn and doesn't really parse the data even the If you're unable to set Open Graph tags within the page that's being shared, LinkedIn will attempt to fetch the content automatically by determining the title, description, thumbnail image, etc.I know that I don't have the og:image:width tag but Linkedin doesn't even parse title, description or url. Any ideas to debug it? <code>  og:titleog:descriptionog:imageog:url <!-- Jetpack Open Graph Tags --><meta property=""og:type"" content=""article"" /><meta property=""og:title"" content=""Starbucks Netherlands Intel"" /><meta property=""og:url"" content=""http://lorentzos.com/starbucks-netherlands-intel/"" /><meta property=""og:description"" content=""Today I had some free time at work. I wanted to play more with Foursquare APIs. So the question: &quot;What is the correlation of the Starbucks Chain in the Netherlands?&quot;. Methodology: I found all the p..."" /><meta property=""og:site_name"" content=""Dionysis Lorentzos"" /><meta property=""og:image"" content=""http://lorentzos.com/wp-content/uploads/2013/08/starbucks-intel-nl-238x300.png"" />",Linkedin sharing urls / not parsing open graph
show data in div on radio button click through ajax," I want to show selected data by user on ajax call.Scenario is that I have two radio buttons, and when user clicks on either one it should show the respective data on the right side, in the response div. HTML: AJAX: This is the div where i want to show my response: And these are the result div's that i want to get through ajax call from package _selection.php and want to display respectively <code>  <form id=""package-call"" method=""post"" accept-charset=""utf-8""> <div class='pakges'> <div class=""sub-pakge""> <div class=""sub-pakge-content""> <span class=""content-title"">North America</span><br> <span class=""content-title"">Basic</span> <div class=""content-time"">150 Minutes</div> <span class=""content-price"">Rs.500</span> <div class=""pakges-radio""><input type=""radio"" name=""package"" id=""package"" > </div> </div> </div> <div class=""sub-pakges""> <div class=""sub-pakges-content""> <span class=""content-title"">North America</span><br> <span class=""content-title"">Max</span> <div class=""content-time"">400 Minutes</div> <span class=""content-price"">Rs.200</span> <div class=""pakges-radio""><input type=""radio"" name=""package"" id=""package""> </div> </div> </div> </div></form> $(""#package"").click(function(e){ $.ajax( { type: ""POST"", url: ""package _selection.php"", data: $('#package_call').serialize(), success: function( response ) {} });}); <div class=""form-results""> <div class=""rslt-content-main""> <div class=""rslt-content"">Selected Pakages / Bolts</div> <div id=""package_response""></div> </div></div> <div class=""radio_one_rslt""> <div>voice:</div><br /> <div>IDD Asia - Rs 200</div></div><div class=""radio_two_rslt""> <div>voice:</div><br /> <div>IDD Asia - Rs 500</div></div>",show data in div on radio button click through ajax : Resolved
"phpmyadmin is not using auth_type in config,inc.php"," I'm trying to show the html login form when logging in to phpmyadmin, however it continues to show the login popup, even though I have made the necessary changes in my config file. My config.inc.php file is located in the phpmyadmin directory as follows: The install for phpmyadmin is located in /usr/share/phpmyadmin and I have created a symlink with a different name to this directory from /var/www. Does the symlink perhaps cause issues with the config file being loaded? Any other reason the auth_type = cookie is not actually working? <code>  <?php $cfg['blowfish_secret'] = 'secret'; $i = 0; $i++; $cfg['Servers'][$i]['auth_type'] = 'cookie'; $cfg['Servers'][$i]['host'] = 'localhost'; $cfg['Servers'][$i]['connect_type'] = 'tcp'; $cfg['Servers'][$i]['compress'] = false; $cfg['Servers'][$i]['extension'] = 'mysqli'; $cfg['Servers'][$i]['AllowNoPassword'] = false; $cfg['UploadDir'] = ''; $cfg['SaveDir'] = '';?>",phpmyadmin is not using auth_type in config.inc.php
"strip html,css from string"," I have string such as How can i strip html, css and get only text?Im aware of strip_tags(), and I can write function with preg_replace, but is there a working solution for php?Thanks. <code>  <p> <style type=""text/css"">P { margin-bottom: 0.21cm; direction: ltr; color: rgb(0, 0, 0); }P.western { font-family: ""Times New Roman"",serif; font-size: 12pt; }P.cjk { font-family: ""Arial Unicode MS"",sans-serif; font-size: 12pt; }P.ctl { font-family: ""Tahoma""; font-size: 12pt; } </style></p><p align=""CENTER"" class=""western"" style=""margin-bottom: 0cm""> <font size=""5"" style=""font-size: 20pt""><u><b> TEXT I WANT TO GET </b></u></font></p>","How to strip HTML tags, CSS from a string?"
Can I group multiple domains in a routing group in Laravel 4?," Let's say I have the following: Is there any way to have multiple domains share a routing group? Something like: <code>  Route::group(array('domain' => array('admin.example.com')), function(){ ...});Route::group(array('domain' => array('app.example.com')), function(){ ...});Route::group(array('domain' => array('dev.app.example.com')), function(){ ...}); Route::group(array('domain' => array('dev.app.example.com','app.example.com')), function(){ ...});",Can I group multiple domains in a routing group in Laravel?
Asking advice for MVC page," I would like to ask for some tips, on how solve this problem. I'm trying to build my own MVC website. I learned the basics of the URL. blog -> the controllercosplay -> the method in controllercosplayer-expo-today ->variable in methodWhat if i dynamically extend the category in my blog controller? Will I need to create the method, or is there some trick to do that automatically? I mean... i have these categories now: cosplay,game,movie,series. So I need to create these methods in controller, but they all do the same thing, namely select other category from database.function cosplay() = example.com/blog/cosplay/function game() = example.com/blog/game/function movie() = example.com/blog/movie/function series() = example.com/blog/series/Is there any good advice on how can i write my controller to do that automatically? I mean if I upload a new category in my database, but i don't want to modify the controller. Is it possible? Thanks for the help!UPDATEHere is my URL exploder class And here is my .htacces <code>  http://example.com/blog/cosplay/cosplayer-expo-today class Autoload{ var $url; var $controller; function __construct() { $this->url = $_GET['url']; //HNEM RES AZ URL if($this->url!='' && !empty($this->url)) { require 'application/config/routes.php'; //URL VIZSGLATA $this->rewrite_url($this->url); //URL SZTBONTSA $this->url = explode('/', $this->url); $file = 'application/controllers/'.$this->url[0].'.php'; //LTEZIK A CONTROLLER? if(file_exists($file)) { require $file; $this->controller = new $this->url[0]; //KRELEM ALATT VAN AZ ALOLDAL? if(isset($this->url[1])) { //LTEZIK A METDUS? ENGEDLYEZVE VAN? if(method_exists($this->controller, $this->url[1]) && in_array($this->url[1], $route[$this->url[0]])) { if(isset($this->url[2])) { $this->controller->{$this->url[1]}($this->url[2]); } else { $this->controller->{$this->url[1]}(); } } else { header('location:'.SITE.$this->url[0]); die(); } } } else { header('location:'.SITE); die(); } } else { header('location:'.SITE.'blog'); die(); } } /** * Els lpsben megvizsgljuk, hogy a kapott szveg tartalmaz-e nagybett. Amennyiben igen talaktjuk kisbetsre.<br/> * Msodik lpsben megnzzk, hogy a kapott szveg '/'-re vgzdik-e. Amennyiben igen levgjuk azt.<br/> * Harmadik lpsben jra tltjk az oldalt a formzott szveggel. * * @param string $url Korbban beolvasott URL. */ private function rewrite_url($url) { //HA NAGYBET VAN AZ URL-BEN VAGY '/'-RE VGZDIK if(preg_match('/[A-Z]/', $url) || substr($url, -1)=='/') { //NAGYBETS AZ URL KICSIRE ALAKTJUK if(preg_match('/[A-Z]/', $url)) { $url = strtolower($url); } //HA '/'-RE VGZDIK LEVGJUK if(substr($url, -1)=='/') { $url = substr($url, 0, strlen($url)-1); } header('location:'.SITE.$url); die(); } }} Options +FollowSymLinksRewriteEngine OnRewriteCond %{REQUEST_FILENAME} !-d RewriteCond %{REQUEST_FILENAME} !-fRewriteCond %{REQUEST_FILENAME} !-lRewriteRule ^(.+)$ index.php?url=$1 [QSA,L]",How to load classes based on pretty URLs in MVC-like page?
bind is depreceated on symfony 2.3 => bug with upload file, In symfony 2.3 binding a Request to a form with bind() is deprecated: Now I tried using the submit() method instead (as described in the documentation): ...but it doesn't work.The form did not change the object that I added to it upon creation. <code>  $form->bind($this->getRequest()); $form->submit($request->request->get($form->getName()));,"form handling: ""bind"" is deprecated in symfony 2.3 - ""submit"" doesn't work either"
Laravel 4 date format validation," A simple date format mm/dd/yyyy validation is all I need... What do I set the date format to? The Laravel documentation could be so much better. <code>  $rules = array( 'renewal_date' => array('required', 'date_format:?') );",Laravel 4 Validation is Broken
"ajax, add new row to table or remove using ajax"," This is the logic:I input something to form, and the form is AJAX live search. after I found value, I click on add button and it creates new row in existing table / tbody. can i do that? if so, how?Fiddle Example: http://jsfiddle.net/anggagewor/cauPH/ <code>  <table class=""standard""> <thead> <tr> <td colspan=""2""> Start Input barcode / Product Name </td> <td colspan=""4""> <input type=""text"" size=""90"" value="""" placeholder=""Barcode / Product Name""> </td> <td> <button class=""tambah""><i class=""icon-plus""></i> Add</button> </td> </tr> <tr> <td> No. </td> <td> Kode Barang </td> <td> Nama Barang </td> <td> Qty </td> <td> Harga </td> <td> Disc % </td> <td> Total </td> </tr> </thead> <tbody> <!-- when button add is click that will add <tr></tr> here --> </tbody></table>",AJAX: add new row to table or remove using AJAX
proper way to load mongodb mapping when not using annotations," I am doing this to map non annotation mapping of my document. But it is not catching it up. I know it is old code, but does someone know how to map it correctly. Thanks!associated PR = https://github.com/Payum/PaypalExpressCheckoutNvp/pull/12/files#diff-fcfa75e424ccb89d62449aba21f9db31R49And also related to this: https://groups.google.com/forum/#!topic/doctrine-user/MdIoOMWA7F4 https://github.com/doctrine/mongodb-odm/issues/421 https://github.com/doctrine/mongodb-odm/issues/453 I get errors of 2 tests failing because there is no persistence of the values properties of PaymentDetail Document under examples folder.Here is the mapping of the PaymentDetailshttps://github.com/cordoval/PaypalExpressCheckoutNvp/blob/mongo-tests/src/Payum/Paypal/ExpressCheckout/Nvp/Bridge/Doctrine/Resources/mapping/PaymentDetails.mongodb.xml?pr=%2FPayum%2FPaypalExpressCheckoutNvp%2Fpull%2F12and the mapping for the superclasshttps://github.com/cordoval/PaypalExpressCheckoutNvp/blob/mongo-tests/examples/Payum/Paypal/ExpressCheckout/Nvp/Examples/Resources/mapping/PaymentDetails.mongodb.xml?pr=%2FPayum%2FPaypalExpressCheckoutNvp%2Fpull%2F12It seems the issue is because of weird setter/getter of BaseModel which is extended by PaymentDetails. that above is from an intermediate base class, and here below is from the base class <code>  <?phpabstract class MongoTest extends BaseMongoTest{/** * {@inheritDoc} */protected function getMetadataDriverImpl(){ $rootDir = realpath(__DIR__.'/../../../../../../../../../'); if (false === $rootDir || false === is_dir($rootDir.'/src/Payum')) { throw new \RuntimeException('Cannot guess Payum root dir.'); }$driver = new MappingDriverChain; $xmlDriver = new XmlDriver( new SymfonyFileLocator( array( $rootDir.'/src/Payum/Paypal/ExpressCheckout/Nvp/Bridge/Doctrine/Resources/mapping' => 'Payum\Paypal\ExpressCheckout\Nvp\Bridge\Doctrine\Document', $rootDir.'/examples/Payum/Paypal/ExpressCheckout/Nvp/Examples/Resources/mapping' => 'Payum\Paypal\ExpressCheckout\Nvp\Examples\Document' ), '.mongodb.xml' ), '.mongodb.xml' ); $driver->addDriver($xmlDriver, 'Payum\Paypal\ExpressCheckout\Nvp\Examples\Document'); $driver->addDriver($xmlDriver, 'Payum\Paypal\ExpressCheckout\Nvp\Bridge\Doctrine\Document'); return $driver;} protected $paymentrequest_nnn_amt = array(); public function getPaymentrequestAmt($n = null) { return $this->get('paymentrequest_nnn_amt', $n); } public function setPaymentrequestAmt($n, $value) { $this->set('paymentrequest_nnn_amt', $value, $n); } /** * @param string $property * @param bool $n * @param bool $m * * @return mixed */protected function get($property, $n = false, $m = false){ $currentValue = $this->$property; if (false !== $n && false !== $m) { if (null === $n && null === $m) { return $currentValue; } if (array_key_exists($n, $currentValue) && array_key_exists($m,$currentValue[$n]){ return $currentValue[$n][$m]; } } if (null === $n) { return $currentValue; } if (array_key_exists($n, $currentValue)) { return $currentValue[$n]; }}",proper way to load mongodb hash associated array mapping when not using annotations with weird accessors
What's the best way to redirect a single page for mobile devices?," I am attempting to find a solution to redirect a single page from my WordPress website to a mobile version (I do not want to redirect all mobile users for all my pages to a different page or theme, only just a single page).However, I have yet to find a plugin that can do this. In any event, Im just looking for an easy way to get a mobile device redirect going for my single page, hopefully through a method that continually updates itself like DetectMobileBrowsers or WURFL.Having done some research online, Ive come across some PHP code that can distinguish between different pages on a WordPress website, such as: What Im thinking of doing is putting some kind of mobile redirection script in that PHP code, so that I achieve my goal of only needing the mobile redirection to happen for one page on my website.However, I have attempted to put the code (both PHP and Javascript) from detectmobilebrowsers.com into that PHP code, and have tried putting it in both header.php and page.php to no avail (in fact, it crashes my site in most cases, or just doesnt work). Am I going about this wrong? Am I using the wrong code? Do I need a plugin to help with this?----UPDATE 2----My next attempt at the code: <code>  <?php if (is_page(1111)) {.}; ?> add_action( 'template_redirect', 'redirect_so_19285382' );function redirect_so_19285382() { if (is_page(2766)) return; if( is_mobile_detectmobilebrowsers_com() ) { wp_redirect( site_url( 'http://lifebyjohn.com/mobile-schedule' ) ); exit(); }}function is_mobile_detectmobilebrowsers_com(){ $useragent=$_SERVER['HTTP_USER_AGENT']; return preg_match( '/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i', $useragent ) || preg_match( '/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i', substr( $useragent,0,4 ) );}",How to redirect a single page for mobile devices?
How to upload multiple files in PHP using jQuery and AJAX," I have designed a simple form which allows the user to upload files to the server. Initially the form contains one 'browse' button. If the user wants to upload multiple files, he needs to click on the ""Add More Files"" button which adds another 'browse' button in the form. When the form is submitted, the file upload process is handled in 'upload.php' file. It works perfectly fine for uploading multiple files. Now I need to submit the form by using jQuery's '.submit()' and send a ajax ['.ajax()'] request to the 'upload.php' file to handle the file upload. Here is my HTML form : Here is the JavaScript : Here is the code for processing file upload : }Any suggestions on how I should write my '.submit()' function will be really helpful. <code>  <form enctype=""multipart/form-data"" action=""upload.php"" method=""post""> <input name=""file[]"" type=""file"" /> <button class=""add_more"">Add More Files</button> <input type=""button"" id=""upload"" value=""Upload File"" /></form> $(document).ready(function(){ $('.add_more').click(function(e){ e.preventDefault(); $(this).before(""<input name='file[]' type='file' />""); });}); for($i=0; $i<count($_FILES['file']['name']); $i++){$target_path = ""uploads/"";$ext = explode('.', basename( $_FILES['file']['name'][$i]));$target_path = $target_path . md5(uniqid()) . ""."" . $ext[count($ext)-1]; if(move_uploaded_file($_FILES['file']['tmp_name'][$i], $target_path)) { echo ""The file has been uploaded successfully <br />"";} else{ echo ""There was an error uploading the file, please try again! <br />"";}","How to upload multiple files using PHP, jQuery and AJAX"
Why would json_encode returns an empty string," I have a simple php structure with 3 nested arrays. I do not use particular objects and I build myself the arrays with 2 nested loops. Here is a sample of the var_dump of the array I want to convert to Json. In another script I have a similar structure and json_encode works fine. So I don't understand why json_encode won't work here.Edit : there seems to be a problem with the encoding. When mb_detect_encoding returns ASCII, the json_encode works but when it returns UTF8, it doesn't work anymore. Edit2 : json_last_error() returns JSON_ERROR_UTF8 which means : Malformed UTF-8 characters, possibly incorrectly encoded. <code>  array (size=2) 'tram B' => array (size=2) 0 => array (size=3) 'name' => string 'Ile Verte' (length=9) 'distance' => int 298 'stationID' => int 762 1 => array (size=3) 'name' => string 'La Tronche Hpital' (length=18) 'distance' => int 425 'stationID' => int 771 16 => array (size=4) 0 => array (size=3) 'name' => string 'Bastille' (length=8) 'distance' => int 531 'stationID' => int 397 1 => array (size=3) 'name' => string 'Xavier Jouvin' (length=13) 'distance' => int 589 'stationID' => int 438",Why would json_encode return an empty string
How to ambed a precharged collection of non-entity forms in symfony2," I want to embed a collection of precharged non-entity forms, here is the code, first is the parent form buildForm method. now the child form so basicly i want to manage those child options in the test2 field as separated forms, each option group will depend on the value of the test1 field, i know this can be done by coding everythin in twig without form classes but i think having form classes its the best practice to run phpunit test, for maintainability, etc ... <code>  public function buildForm(FormBuilderInterface $builder, array $options) { $builder->add(""example1"")->add(""example2""); $builder->addEventListener(FormEvents::PRE_SET_DATA, function (FormEvent $event) { /*some logic to do before adding the collection of forms*/ $form->add('aclAccess', 'collection', array( 'type' => new ChildFormType(), 'allow_add' => true, 'mapped' => false, 'data' => /* I dont know how to precharge a collection of non-entity forms*/ )); });} public function buildForm (FormBuilderInterface $builder, array $options) { $builder->add(""test1"", ""text"", array(""read_only"" => true, ""data"" => ""test"")); $builder->->add(""test2"", ""choice"", array( 'choices' => array('opt1' => 'Opt1', 'opt2' => 'Opt2'), 'multiple' => true, 'expanded' => true ));}",How to embed a precharged collection of non-entity forms in symfony2
td colspan not working for tr with ids," I have a table structure similar to below: The table is within a loop and the value of $id changes. The second tr is set to display : block using javascript. But the <td colspan=""5""> is not covering all the five <td>s, instead only one.Why my colspan is not working? <code>  <tr> <td colspan=""5""> TEST </td></tr><tr id=""abcd_<?php echo $id; ?>"" style=""display: none;""> <td colspan=""5""> <span id=""hidtb_<?php echo $id; ?>""></span> </td></tr>",Table td colspan not working for tr with ids
Fatal error: Call-time pass-by-reference has been removed in," I have an oldish script and lately I get this error: And it looks like this around line 100 on that file: What causes the error and how to fix it? I'm not a developer, so please take it slow. <code>  Fatal error: Call-time pass-by-reference has been removed in /****/******/public_html/****/cp-list-summary.php on line 100 if ($row[images]){ $image_set = array (); $result = mysql_query ('SELECT fname FROM ' . $dbimgs . ' WHERE listid=\'' . $_GET['id'] . '\' ORDER BY id ASC', $link); while ($images = mysql_fetch_array ($result)) { array_push (&$image_set, $images[fname]); }}",PHP Fatal error: Call-time pass-by-reference has been removed
"Symonfy / Doctrine ""refers to the owning side field which does not exist"" - but property is present in class"," SeUserProgress and SeUser. The SeUserProgress table holds multiple entries per user. This is expressed via the two following mappings.class: SeUserProgress class: SeUser However I keep getting an error message saying I can even call the progress property via the code below( though it returns all progress for all users ). Any suggestions as to why Doctrine is not recognising the mapped property would be appreciated. <code>  /*** @ORM\ManyToOne(targetEntity=""SeUser"", inversedBy=""progress"")* @ORM\Column(name=""user_id"", type=""integer"", nullable=true)*/ private $user; /*** @ORM\OneToMany(targetEntity=""SeUserProgress"", mappedBy=""user"")*/ private $progress; The association PROJECT\ThisBundle\Entity\SeUser#progress refers to the owning side field PROJECT\ThisBundle\Entity\SeUserProgress#user which is not defined as association.The association PROJECT\ThisBundle\Entity\SeUser#progress refers to the owning side field PROJECT\ThisBundle\Entity\SeUserProgress#user which does not exist. $user->getProgress()","Symfony / Doctrine ""refers to the owning side field which does not exist"" - but property is present in class"
PHP.ini error -- No permission," Trying to setup and configure my mac as a testing server. So setting up the php.ini, i get an error when trying to save my changes: I don't know why this happened or how to fix it (noob)-I am logged in as root. <code>  Error writing /usr/local/php5/lib/php.ini: Permission denied",PHP.ini error -- No permission -- Root User
"Get specific columns using ""with()"" function in Laravel Eloquent"," I have two tables, User and Post. One User can have many posts and one post belongs to only one user. In my User model I have a hasMany relation... And in my post model I have a belongsTo relation... Now I want to join these two tables using Eloquent with() but want specific columns from the second table. I know I can use the Query Builder but I don't want to. When in the Post model I write... It runs the following queries... But what I want is... When I use... It only returns the column from the first table. I want specific columns using with() from the second table. How can I do that? <code>  public function post(){ return $this->hasmany('post');} public function user(){ return $this->belongsTo('user');} public function getAllPosts() { return Post::with('user')->get();} select * from `posts`select * from `users` where `users`.`id` in (<1>, <2>) select * from `posts`select id,username from `users` where `users`.`id` in (<1>, <2>) Post::with('user')->get(array('columns'....));",Get Specific Columns Using With() Function in Laravel Eloquent
how to turno off notice reporting in xampp?," On a remote server there is no problem, but in localhost (xampp 3.1.) I cannot turn off reporting notices. result: php.ini Any suggestion ? <code>  <?php$Fname = $_POST[""Fname""];... Notice: Undefined index: Fname in D:\xampp\htdocs\xx\php01\form01.php on line 6 ; Default Value: E_ALL & ~E_NOTICE & ~E_STRICT & ~E_DEPRECATED; Development Value: E_ALL; Production Value: E_ALL & ~E_DEPRECATED & ~E_STRICT; http://php.net/error-reportingerror_reporting = E_ALL & ~E_NOTICE //shouldn't this line turn off notice reporting ?",How to turn off notice reporting in xampp?
Angularjs - simle form submit," I am going through learning curve with AngularJs and I am finding that there are virtually no examples that serve real world use.I am trying to get a clear understanding of how to submit a form with the most standard components and pass it on to a PHP file.. My fiddle.Does anyone have any good examples on submitting simple, un-polluted, forms that would help me and probably numerous other Angularjs beginners..When I say a clean form I am referring to something like this.. My ng-app code... I guess three questions I have from here on are...How is my php file supposed to interact with this (how to I get the json string to an array in php file)?How would I submit value of a checkbox when the checkbox is true?I find a lot of information abotu using jQuery with Angular to submit images,, I see there is an image object in this submission already,, how do I retrieve that data? What are considerations to include with images?I am willing to take any clear and concise information and assemble a good learning example for everyone... My fiddle <code>  <div ng-app=""myApp""> <form name=""saveTemplateData"" action=""#"" ng-controller=""FormCtrl"" ng-submit=""submitForm()""> First name: <br/><input type=""text"" ng-model=""form.firstname""> <br/><br/> Email Address: <br/><input type=""text"" ng-model=""form.emailaddress""> <br/><br/> <textarea rows=""3"" cols=""25"" ng-model=""form.textareacontent""></textarea> <br/><br/> <input type=""radio"" ng-model=""form.gender"" value=""female"" />Female ... <input type=""radio"" ng-model=""form.gender"" value=""male"" />Male <br/> <br/><br/> <input type=""checkbox"" ng-model=""form.member"" value=""5""/> Already a member <br/><br/> <input type=""file"" ng-model=""form.file_profile"" id=""file_profile""><br/> <input type=""file"" ng-model=""form.file_avatar"" id=""file_avatar""> <br/><br/> <!-- <button ng-click=""save()"" >Save</button> --> <input type=""submit"" ngClick=""Submit"" > </form></div> var app = angular.module('myApp', []);app.controller('FormCtrl', function ($scope, $http) { var formData = { firstname: ""default"", emailaddress: ""default"", textareacontent: ""default"", gender: ""default"", member: false, file_profile: ""default"", file_avatar: ""default"" }; $scope.save = function() { formData = $scope.form; }; $scope.submitForm = function() { console.log(""posting data....""); formData = $scope.form; console.log(formData); //$http.post('form.php', JSON.stringify(data)).success(function(){/*success callback*/}); }; });",Angularjs - simple form submit
"open *.eml file in Microsoft Outlook 2010, bcc field not loaded"," I'm trying to open a *.eml file with Microsoft Outlook 2010 and got problems with the bcc field.Here is my eml file: When I open this eml file with Outlook all entries work fine, except bcc.How can i bring the bcc field to work?EditI basicly want the same behavior of a mailto link on a webpage. The user should click on a link and the default mailprogram (which is Outlook in the office where the software is used) should open. mailto links work fine until the link is not longer than about 2000 characters. In my case, the informations that I need to pass to Outlook are much longer than 2000 characters, so I tried to generate an *.eml file which doesn't work as expected.So what I need:a link similar to a mailto linkmust work with more than 2000 charactersmust work in Google Chrome & Outlook 2010What I got:PHPJavaScript with jQuery  <code>  To: example@domain.comSubject: Mail Subjectcc: cc@domain.combcc: bcc@domain.comContent-Type: text/plainMIME-Version: 1.0X-Unsent: 1Mail content","open new Outlook from website, too long mailTo Link, *.eml file bcc field not loaded"
"open new Outlook from website, *.eml file bcc field not loaded"," I'm trying to open a *.eml file with Microsoft Outlook 2010 and got problems with the bcc field.Here is my eml file: When I open this eml file with Outlook all entries work fine, except bcc.How can i bring the bcc field to work?EditI basicly want the same behavior of a mailto link on a webpage. The user should click on a link and the default mailprogram (which is Outlook in the office where the software is used) should open. mailto links work fine until the link is not longer than about 2000 characters. In my case, the informations that I need to pass to Outlook are much longer than 2000 characters, so I tried to generate an *.eml file which doesn't work as expected.So what I need:a link similar to a mailto linkmust work with more than 2000 charactersmust work in Google Chrome & Outlook 2010What I got:PHPJavaScript with jQuery  <code>  To: example@domain.comSubject: Mail Subjectcc: cc@domain.combcc: bcc@domain.comContent-Type: text/plainMIME-Version: 1.0X-Unsent: 1Mail content","open new Outlook from website, too long mailTo Link, *.eml file bcc field not loaded"
How to set returnUrl value in yii, I am using Yii and the problem I am getting is with the Yii::app()->user->returnUrl. It always returns me to the index.php page. How can I set its value to the page which requested the current page as I do not know from which page user has visited the current page? <code> ,How to set returnUrl value in Yii
How to run php file from another php file by using shell?," I have a php file called sample.php with the following content: And what I want to do, is to run this php script using a second php script. I think shell_exec could help me, but I don't know its syntax. By the way, I want to execute this files with cpanel. So I have to execute the shell. Is there any way to do this? <code>  <?phpecho ""Hello World!"";?>",How to execute a php script from another php script by using the shell?
Right way to check if mysqli query was success," I've read several articles about the problem like this however none of them helped me and I am a bit confused what to do.Basically, I want to check whether the sql query performed without any errors. To do that, do I have to use both of the if statements shown below? <code>  if($stmt = $mysqli->prepare(""INSERT INTO table VALUES (?, ?, ?);"")){ $stmt->bind_param(""sss"", $a, $b, $c); if(!$stmt->execute()) { // Do I have to catch the problem here? } if($stmt->affected_rows === -1){ // Do I have to catch the problem here? } $stmt->close();}else{ // Do I need to catch the problem here?}",The right way to check whether mysqli query was successful
The right way to check if mysqli query was success," I've read several articles about the problem like this however none of them helped me and I am a bit confused what to do.Basically, I want to check whether the sql query performed without any errors. To do that, do I have to use both of the if statements shown below? <code>  if($stmt = $mysqli->prepare(""INSERT INTO table VALUES (?, ?, ?);"")){ $stmt->bind_param(""sss"", $a, $b, $c); if(!$stmt->execute()) { // Do I have to catch the problem here? } if($stmt->affected_rows === -1){ // Do I have to catch the problem here? } $stmt->close();}else{ // Do I need to catch the problem here?}",The right way to check whether mysqli query was successful
laravel 4 get language file array," I'm newbie in laravel 4.0.How to get the whole array from lang/en/texts.php?Is there a Lang::getAll() method?My goal is to generate keywords/description in my base controller, to fill them into the the meta tags and other places in the DOM in the master blade template. If my approach is completely wrong, please tell me!Generating the keywords and description from an associative array is NOT the problem, but the lack of knowledge about the framework. And, I was googling for quite a time before ending up here...Working with blade templates:This is my BaseController: I found something in the API:Illuminate\Translation\FileLoader load() which loads the messages with a given locale... <code>  class HomeController extends BaseController { protected $layout = 'layouts.master'; private $keyWords = array(); private function getKeyWords () { // ??? } public function getIndex() { return View::make('home') ->with('errorcanvas', trans('texts.canvas')) ->with('errortextwebgl', trans('texts.webgl')) ...; } ...}",Get whole language file array
PHP - How to get partial output when script is executing?," Description:I have a script which do multiple actions in longer time. In standard situation output from PHP script is sent after full execution of this script. User may be dissapointed if my script will load very long time without any response.Problem to solve:Let's say I have in this script a loop which will be working 10 times.After each one execution I want to get output to browser ""Element X finished. Y time."". Value of X and Y will be changing.Question:Is there any way to reach that effect? Maybe with some kind of call from this script to new script which will sent data to browser throug AJAX.Or is there any way to reach this effect only with PHP implementation?EDIT:I see that I have to clarify the matter. I want this information to appear dynamically on the page. I tried with output buffer functions already, and it still don't work as I need it. Output in browser is showing after full execute of script. Test code: <code>  for ($i = 0; $i <= 10; $i++) { ob_start(); echo ""Output "" . $i . ""<br />""; ob_flush(); //also only flush() etc. sleep(1);}",How to get partial output when script is executing?
PHP: test if file is locked," In PHP, how can I test if a file has already been locked with flock? For example, if another running script has called the following: <code>  $fp = fopen('thefile.txt', 'w');flock($fp, LOCK_EX);",Test if file is locked
Get first day or previous month at 00:00:00 using DateTime?," How do I get first day of previous month with start time? I am currently using this: It gives me the first day of last month but with respect to my current time. What I'm actually trying to do is get the start with respect to timezone too. For example: Result would be July 1st, 2013 00:00:00. Or if I use: Expected result: June 30, 2013 21:00:00 (because of its offset).How can I do this using PHP? <code>  $date = new DateTime('first day of last month'); $date = new DateTime('first day of previous month', new DateTimeZone('UTC')); $date = new DateTime('first day of previous month', new DateTimeZone('Europe/Amsterdam'));",Get first day of previous month at 00:00:00 using DateTime?
Jquery/Ajax Form Submission: PHP that worked with standard form action submission not working with Jquery," I have been trying to submit a form with enctype=""multipart/form-data"". I have this setting because the form will involve jpeg/png uploads once I have figured out the ajax submission for text inputs.the php works fine when referencing the script using action within the form html.the form data seems to be retrieved correctly by the below jquery because the alert line shows: productName=Test+Name&productDescription=Test+Description&OtherProductDetails=the returned data printed to my HTML by the jquery success function is a php error saying:Undefined index: productNameremoving contentType:false fixes the problem.When i google jquery/ajax multipart/form-data submission, the top hits at least mainly include 'contentType:false'. Please could someone explain the reason to me? http://digipiph.com/blog/submitting-multipartform-data-using-jquery-and-ajaxhttp://hayageek.com/jquery-ajax-form-submit/Sending multipart/formdata with jQuery.ajaxThe jquery API documentation says:contentType (default: 'application/x-www-form-urlencoded; charset=UTF-8')Type: StringWhen sending data to the server, use this content type.Why would we need to set it to false for a multipart/form-data submission?When would the false setting be needed at all?Jquery: <code>  $(""#addProductForm"").submit(function (event) { event.preventDefault(); //grab all form data var formData = $(this).serialize(); $.ajax({ url: 'addProduct.php', type: 'POST', data: formData, async: false, cache: false, contentType: false, processData: false, success: function (returndata) { $(""#productFormOutput"").html(returndata); alert(formData); }, error: function () { alert(""error in ajax form submission""); } }); return false; });","Jquery/Ajax Form Submission (enctype=""multipart/form-data"" ). Why does 'contentType:False' cause undefined index in PHP?"
"Jquery/Ajax Form Submission (enctype=""multipart/form-data"" ): PHP works HTML form action submission not with Jquery"," I have been trying to submit a form with enctype=""multipart/form-data"". I have this setting because the form will involve jpeg/png uploads once I have figured out the ajax submission for text inputs.the php works fine when referencing the script using action within the form html.the form data seems to be retrieved correctly by the below jquery because the alert line shows: productName=Test+Name&productDescription=Test+Description&OtherProductDetails=the returned data printed to my HTML by the jquery success function is a php error saying:Undefined index: productNameremoving contentType:false fixes the problem.When i google jquery/ajax multipart/form-data submission, the top hits at least mainly include 'contentType:false'. Please could someone explain the reason to me? http://digipiph.com/blog/submitting-multipartform-data-using-jquery-and-ajaxhttp://hayageek.com/jquery-ajax-form-submit/Sending multipart/formdata with jQuery.ajaxThe jquery API documentation says:contentType (default: 'application/x-www-form-urlencoded; charset=UTF-8')Type: StringWhen sending data to the server, use this content type.Why would we need to set it to false for a multipart/form-data submission?When would the false setting be needed at all?Jquery: <code>  $(""#addProductForm"").submit(function (event) { event.preventDefault(); //grab all form data var formData = $(this).serialize(); $.ajax({ url: 'addProduct.php', type: 'POST', data: formData, async: false, cache: false, contentType: false, processData: false, success: function (returndata) { $(""#productFormOutput"").html(returndata); alert(formData); }, error: function () { alert(""error in ajax form submission""); } }); return false; });","Jquery/Ajax Form Submission (enctype=""multipart/form-data"" ). Why does 'contentType:False' cause undefined index in PHP?"
"Jquery/Ajax Form Submission (enctype=""multipart/form-data"" ): PHP works with HTML form action submission not with Jquery"," I have been trying to submit a form with enctype=""multipart/form-data"". I have this setting because the form will involve jpeg/png uploads once I have figured out the ajax submission for text inputs.the php works fine when referencing the script using action within the form html.the form data seems to be retrieved correctly by the below jquery because the alert line shows: productName=Test+Name&productDescription=Test+Description&OtherProductDetails=the returned data printed to my HTML by the jquery success function is a php error saying:Undefined index: productNameremoving contentType:false fixes the problem.When i google jquery/ajax multipart/form-data submission, the top hits at least mainly include 'contentType:false'. Please could someone explain the reason to me? http://digipiph.com/blog/submitting-multipartform-data-using-jquery-and-ajaxhttp://hayageek.com/jquery-ajax-form-submit/Sending multipart/formdata with jQuery.ajaxThe jquery API documentation says:contentType (default: 'application/x-www-form-urlencoded; charset=UTF-8')Type: StringWhen sending data to the server, use this content type.Why would we need to set it to false for a multipart/form-data submission?When would the false setting be needed at all?Jquery: <code>  $(""#addProductForm"").submit(function (event) { event.preventDefault(); //grab all form data var formData = $(this).serialize(); $.ajax({ url: 'addProduct.php', type: 'POST', data: formData, async: false, cache: false, contentType: false, processData: false, success: function (returndata) { $(""#productFormOutput"").html(returndata); alert(formData); }, error: function () { alert(""error in ajax form submission""); } }); return false; });","Jquery/Ajax Form Submission (enctype=""multipart/form-data"" ). Why does 'contentType:False' cause undefined index in PHP?"
ZendFramework 2 rest app & Dynamodb: Calls getlist instead of get function," Following is my module config file Question:I have extends AbstractRestfulController in UserController file but, when i call this with www.example.com/rsmobile/user?userid=1 it call get-list instead of get.Any Light on path would be helpfulThanks  <code>  return array('controllers' => array( 'invokables' => array( 'RSMobile\Controller\User' => 'RSMobile\Controller\UserController', ),),// Routes for API calls'router' => array( 'routes' => array( 'rsmobile' => array( 'type' => 'segment', 'options' => array( 'route' => '/rsmobile', 'defaults' => array( 'controller' => 'RSMobile\Controller\User', ) ), // Child routes 'child_routes' => array( // Route for ""user"" API 'user' => array( 'type' => 'segment', 'options' => array( 'route' => '/user[/:id]', 'constraints' => array( 'id' => '[0-9a-zA-Z]+', ), 'defaults' => array( 'controller' => 'RSMobile\Controller\User', ) ), ), )",Zend framework 2 Rest API : Calls getList() instead of get($id) function
Rest API:Calls getlist instead of get function," Following is my module config file Question:I have extends AbstractRestfulController in UserController file but, when i call this with www.example.com/rsmobile/user?userid=1 it call get-list instead of get.Any Light on path would be helpfulThanks  <code>  return array('controllers' => array( 'invokables' => array( 'RSMobile\Controller\User' => 'RSMobile\Controller\UserController', ),),// Routes for API calls'router' => array( 'routes' => array( 'rsmobile' => array( 'type' => 'segment', 'options' => array( 'route' => '/rsmobile', 'defaults' => array( 'controller' => 'RSMobile\Controller\User', ) ), // Child routes 'child_routes' => array( // Route for ""user"" API 'user' => array( 'type' => 'segment', 'options' => array( 'route' => '/user[/:id]', 'constraints' => array( 'id' => '[0-9a-zA-Z]+', ), 'defaults' => array( 'controller' => 'RSMobile\Controller\User', ) ), ), )",Zend framework 2 Rest API : Calls getList() instead of get($id) function
PHP Set Cookies Time will not work," I'm trying to set a PHP cookie to expire 1 Year from when the user logged in, and I'm doing it this way: The problem is, when I view the cookie using the console in Chrome or Firefox, it show Expires Sun, 05, 2014 in Chrome and Expires = Session in Firefox.Any other site like Google or stackoverflows cookies show the correct expiration date.How can I set this right? <code>  setcookie(""myCookie"",'exampleUserName',(365 * 24 * 60) ,'/');",PHP setcookie for 1 Year will not work
Laravel 4 blade if statement with OR/AND condition," Is it possible in Laravel 4.0 -blade-view to do an if statment like so? Or Or whatever syntax it is. I didn't find anything in the L4 docs, does it exist ? <code>  @if ($var1 === '1' OR $var2 === '1') //Do my stuff@endif @if ($var1 === '1' || $var2 === '1') //Do my stuff@endif",Blade view: if statement with OR/AND condition
please show me my mistake," I'm using the following code The first example prints out the wrong date, and the second one prints out the correct date.Why is this and how do I fix it? <code>  $t = strtotime('Saturday, 28 Dec, 2013');echo date('d/m/Y H:i',$t);// output : 03/01/2015 20:13$t = strtotime('Wednesday, 01 Jan, 2014');echo date('d/m/Y H:i',$t);// output: 01/01/2014 20:14",Why is strtotime() giving the wrong date?
Uncaught exception 'PDOException' with message 'could not find driver' in /home/rails/public_html/newidenty/server.php," Hi All I need Your Help I got error I am using 118.139.182.107/~rails/HTML/test.php Have all Infromation of PHP Versionand also showing PDO Library. My Hosting Provide saying they install PDO in it but Getting Problem My Code is Please help.. <code>  Fatal error: Uncaught exception 'PDOException' with message 'could not find driver' in /home/rails/public_html/newidenty/server.php:12 Stack trace: #0 /home/rails/public_html/newidenty/server.php(12): PDO->__construct('mysql:dbname=ra...', 'rails_identy', 'rails_identy') #1 /home/rails/public_html/newidenty/registration.php(2): include('/home/rails/pub...') #2 {main} thrown in /home/rails/public_html/newidenty/server.php on line 12. <?php $dsn = 'mysql:dbname=*****;host=localhost'; $username = '*****'; $password = '*****'; // error reporting (this is a demo, after all!) ini_set('display_errors',1);error_reporting(E_ALL); // Autoloading (composer is preferred, but for this example let's just do this) require_once('oauth2-server-php/src/OAuth2/Autoloader.php'); OAuth2\Autoloader::register(); $PDO = new PDO(""mysql:dbname=*****;host=localhost"",$username,$password); // $dsn is the Data Source Name for your database, for exmaple ""mysql:dbname=my_oauth2_db;host=localhost"" $storage = new OAuth2\Storage\Pdo(array('dsn' => $dsn, 'username' => $username, 'password' => $password)); // Pass a storage object or array of storage objects to the OAuth2 server class $server = new OAuth2\Server($storage); // Add the ""Client Credentials"" grant type (it is the simplest of the grant types) $server->addGrantType(new OAuth2\GrantType\ClientCredentials($storage)); // Add the ""Authorization Code"" grant type (this is where the oauth magic happens) $server->addGrantType(new OAuth2\GrantType\AuthorizationCode($storage));?>",Uncaught exception 'PDOException' with message 'could not find driver'
PHP: try/catch block failing in try ... not reaching the catch," I'm running WAMSERVER 2.4 (32-bit) with PHP 5.4.16, this is a Laravel 3 project.In a try block, which I'm expecting to fail, I am submitting a duplicate row for insertion against a uniqueness constraint.Instead of handling the exception in the catch, it's throwing an ""Unhandled Exception"" error from the try block and failing. Here's the error it throws:Unhandled ExceptionMessage: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '695d7f0b-53b8-11e3-93fc-c12677e410a5-0-0-14-' for key 'unique' SQL: INSERT INTO person_contact (person_uuid,phone_id) VALUES (?, ?) Bindings: array( 0 => '695d7f0b-53b8-11e3-93fc-c12677e410a5', 1 => 14) Location: C:\path\to\laravel\3_2_13\database\connection.php on line 263 <code>  // This throws an error if the relationship already exists. // If that happens, just pass it to the logger and move on. try { $entity->$pivotMethod()->attach( $rowData->get_key(), $ext ); } catch (Exception $e) { $err = $e->getMessage().""\n""; error_log($err); }",PHP: try/catch fail
Extracting a zip code from an address string / PHP / REGEX," I have some full addresses, for example: I need to get the 5-digit zip code out of the string. How can I do that? Perhaps with RegEx?An acceptable answer assumes that there could be multiple 5-digit numbers in an address, but the Zip code will always be the last consecutive 5 digit number.My idea was to use explode then loop through and check each index. Anyone got a better idea?Any help is greatly appreciated.. <code>  $addr1 = ""5285 KEYES DR KALAMAZOO MI 49004 2613""$addr2 = ""PO BOX 35 COLFAX LA 71417 35""$addr3 = ""64938 MAGNOLIA LN APT B PINEVILLE LA 71360-9781""",Extracting a zip code from an address string
Extracting a zip code from an address string," I have some full addresses, for example: I need to get the 5-digit zip code out of the string. How can I do that? Perhaps with RegEx?An acceptable answer assumes that there could be multiple 5-digit numbers in an address, but the Zip code will always be the last consecutive 5 digit number.My idea was to use explode then loop through and check each index. Anyone got a better idea?Any help is greatly appreciated.. <code>  $addr1 = ""5285 KEYES DR KALAMAZOO MI 49004 2613""$addr2 = ""PO BOX 35 COLFAX LA 71417 35""$addr3 = ""64938 MAGNOLIA LN APT B PINEVILLE LA 71360-9781""",Extracting a zip code from an address string
Symfony how to return all logged in users," I want to return all Logged in users of my application and render it in my Dashboard. The user_id and user_name should be retrieved from the session (I am using an external LDAP Library for authentication)I have created a field in the database called lastActivity which will contain the last login time and then I can query the database for lastActivity display users logged in in the last 2 minutes. ActivityListener.php Services.yml User Entity <code>  <?phpnamespace Bnpp\SecurityBundle\EventListener;use Doctrine\ORM\EntityManager;//use Symfony\Component\Security\Core\User\UserInterface;use Symfony\Component\Security\Core\SecurityContext;use Symfony\Component\HttpKernel\Event\FilterControllerEvent;use Symfony\Component\HttpKernel\HttpKernel;use Acme\SecurityBundle\Entity\User;use Doctrine\Bundle\DoctrineBundle\Registry;/** * Listener that updates the last activity of the authenticated user */class ActivityListener { protected $securityContext; protected $entityManager; public function __construct(SecurityContext $securityContext, EntityManager $entityManager) { $this->securityContext = $securityContext; $this->entityManager = $entityManager; } /** * Update the user ""lastActivity"" on each request * @param FilterControllerEvent $event */ public function onCoreController(FilterControllerEvent $event) { // Check that the current request is a ""MASTER_REQUEST"" // Ignore any sub-request if ($event->getRequestType() !== HttpKernel::MASTER_REQUEST) { return; } // Check token authentication availability if ($this->securityContext->getToken()) { $user = $this->securityContext->getToken()->getUser(); if ( ($user instanceof User) && !($user->isActiveNow()) ) { $user->setLastActivity(new \DateTime('now')); $this->entityManager->flush($user); } } }} services: activity_listener: class: Bnpp\SecurityBundle\EventListener\ActivityListener arguments: [@security.context, @doctrine.orm.entity_manager] tags: - { name: kernel.event_listener, event: kernel.controller, method: onCoreController } <?phpnamespace Acme\SecurityBundle\Entity;use Doctrine\ORM\Mapping as ORM;use Symfony\Component\Security\Core\User\UserInterface;/** * User * * @ORM\Table(name=""users"") * @ORM\Entity(repositoryClass=""Acme\SecurityBundle\Entity\UserRepository"") */class User implements UserInterface{/** * @var \DateTime * @ORM\Column(name=""LASTACTIVITY"", type=""datetime"") */ private $lastActivity; /** * @return bool whether the user is active or not */ public function isActiveNow() { $delay = new\DateTime('2 minutes ago'); return($this->getlastActivity()>$delay); }/** * Set lastActivity * * @param\Datetime $lastActivity * @return User */ public function setlastActivity($lastActivity) { $this->lastActivity = $lastActivity; return $this; } /** * Get lastActivity * * @return \DateTime */ public function getlastActivity() { return $this->lastActivity; }}",Symfony how to return all logged in Active Users
Posting Json To Laravel," I am trying to make a post request of json to Laravel. The request is received on the server however when I try to access a property I get: ""Trying to get property of non-object"".On the client I'm using angularjs.angular: laravel: Note: I can see in Fiddler that the JSON being sent is valid and that it reaches the controller+method (http 200).The post request itself (As seen with Fiddler)  <code>  $http.post($rootScope.globals.basePath+""login/handleAjax"",{""id"" : obj.values[0].id,""profileUrl"" : obj.values[0].publicProfileUrl}).success(function(data){ console.log(""got success!"",data); }); class LoginController extends BaseController {/*User logs in to linkedin and sends his id through ajax to this function*/public function handle_ajax() { $data = Input::all(); *//Clockwork is just a debugging extension I'm using* Clockwork::info($data->id); **//""Trying to get property of non-object"".**} Headers: Accept: application/json, text/plain, */*...Text View:{""id"":""my id"",""profileUrl"":""http://www.linkedin.com/pub/yoel-blum/51/373/76""}",Posting JSON To Laravel
Should conditions go inside or outside of function," What is preferable: A function that decides itself if it should do anything, or deciding whether to call that function? or The example is trivial, but imagine enabling functions using configuration or access rights. Is there an accepted standard? My gut tells me to go for y() when there is something like exit() involved, breaking the normal flow. Otherwise, encapsulation and DRY would favor x(). What do you think?Edit I've expended the example. My question is really: If there is a condition on which a function/method should be executed, should that control take place in the function (tidy but outcome is uncertain) or outside it (calling is verbose, but expected output is always the same)? <code>  function x() { if ($userIsLoggedIn) { alwaysHelloUser(); } if ($visitorRegion != 'US') { alwaysDisplayNoInternationalShipping(); } if ($day == 'Sunday') { alwaysLockDownStore(); }}function alwaysLockDownStore() { //close store //offer alternative store //show opening hours //display form for user leaving order for next day exit(""Sorry, we are closed!"");} function y() { perhapsSayHelloUser($user); maybeDisplayNoInternationalShipping($region); sometimesLockDownStore($day);}function sometimesLockDownStore($day) { if ($day == 'Sunday') { //close store //offer alternative store //show opening hours //display form for user leaving order for next day exit (""Sorry, we are closed!""); }}",Should conditions go inside or outside of function/method
Autocomplete Textbox by SQL," I'm trying to create an auto-complete function into a textbox but the result should come from my SQL database.Here's the code that i'm trying to configure:index.php: EDIT: I changed the content of variable availableTags and made it into var availableTags = <?php include('autocomplete.php') ?>;Variable availableTags is the source of words, so I try to change it and instead put a file name where fetching of words from my database is happening.Here's my autocomplete.php file: EDIT: Also changed the content of the while loop and made it into How can I insert the fetched words from autocomplete.php into availableTags variable?EDIT/UPDATE: There's a list showing up whenever I type something on the textbox, but it has no text in it. I know it's fetching, but the word itself is not showing on the list. <code>  <html lang=""en""> <head> <meta charset=""utf-8""> <title>jQuery UI Autocomplete - Default functionality</title> <link rel=""stylesheet"" href=""http://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css""> <script src=""http://code.jquery.com/jquery-1.9.1.js""></script> <script src=""http://code.jquery.com/ui/1.10.4/jquery-ui.js""></script> <link rel=""stylesheet"" href=""/resources/demos/style.css""> <script> $(function() { var availableTags = [ ""autocomplete.php""; ]; $( ""#tags"" ).autocomplete({ source: availableTags }); }); </script> </head>",Autocomplete Textbox results based from SQL database
Validate the existence of a relationship in Laravel 4," I have a model Product that belongs to a Trend: And as part of my validation rules I would like to check that this relationship exists, and if not trigger an error using: is called. I have tried to use the validation exists like below, but it never fires. I have also tried a few variations on the exists method, but nothing ever seems to fire. I know that the instance I am testing on definitely doesn't have a relationship set.What am I doing wrong here?EDIT:I see now from typing this out that I am validating the input and not the models values. How would I actually validate a model instance's properties instead?  <code>  class Product extends Eloquent { public function trend() { return $this->belongsTo('Trend'); }} $validator = Validator::make(Input::all(), $rules, $messages);if ($validator->fails()){ ... some redirection code here $rules = array( 'brand_name' => 'required|min:3', 'blurb' => 'required', 'link' => 'required', 'trend' => 'exists:trends');",How to: validate the existence of a database relationship in Laravel 4?
Disable OPCache temporally," I recently moved to PHP 5.4 and installed OPCache, it's very powerful!How can I temporarily disable the cache?I tried : But it has no effect.Thanks <code>  ini_set('opcache.enable', 0);",Disable OPCache temporarily
BuddyPress avatar uploads: Percentage completed progress bar," I'm trying to add a 'percentage completed so far' progress bar to avatar uploads in BuddyPress. The aim is to stop users navigating away from the page before the upload is completed.The upload process is handled in BuddyPress by bp_core_avatar_handle_upload() in file bp-core/bp-core-avatars.php. The function starts off by checking that the file has been uploaded properly using bp_core_check_avatar_upload(). It then checks that the file size is within limits, and that it has an accepted file extension (jpg, gif, png). If everything checks out, the user is allowed to crop the image (uses Jcrop) and then the image is moved to its real location.The actual upload is handled by the WordPress function wp_handle_upload.How can I create a 'percentage completed' progress bar and display it when the file is uploading? <code> ",File uploads: Percentage completed progress bar
BuddyPress avatar uploads: Percentage completed progress bar," I'm trying to add a 'percentage completed so far' progress bar to avatar uploads in BuddyPress. The aim is to stop users navigating away from the page before the upload is completed.The upload process is handled in BuddyPress by bp_core_avatar_handle_upload() in file bp-core/bp-core-avatars.php. The function starts off by checking that the file has been uploaded properly using bp_core_check_avatar_upload(). It then checks that the file size is within limits, and that it has an accepted file extension (jpg, gif, png). If everything checks out, the user is allowed to crop the image (uses Jcrop) and then the image is moved to its real location.The actual upload is handled by the WordPress function wp_handle_upload.How can I create a 'percentage completed' progress bar and display it when the file is uploading? <code> ",File uploads: Percentage completed progress bar
Sort array by more deeper values PHP," My array: And I would like to sort $MY_ARRAY direct children by their inner contents,ideally in an order of start_year, start_month, end_year, end_month. I guess I could use the array_multisort() somehow, but I don't know how. Does anyone know how to deal with this?Thanks.EDIT: As it showed up, the solution was nice and simple, what I didnt know is that during the comparsion in callback-compare-function you can go to the deeper structure - so if your deeper than lvl-1 indexes remains always the same (my case) that is how to do it :)  <code>  $MY_ARRAY = Array( [0] => Array ( [0] => 2861 [1] => Array ( [start_month] => 6 [start_year] => 1970 [end_month] => 12 [end_year] => 1990 [experience_info] => ""Practically a random string"" ) ))",PHP: Sort multi-array by deeper than level-1 dimension values with given field order
Using Endswitch Syntactic Sugar," This is my php code: Now, how can I make the code using alternative syntax rather than curly-brace syntax? <code>  switch ($i) { case 0: echo '$i is 0.'; break; case 1: case 2: case 3: case 4: case 5: echo '$i is somewhere between 1 and 5.'; break; case 6: case 7: echo '$i is either 6 or 7.'; default: echo ""I don't know how much \$i is."";}?>","How to make using ""alternative syntax"" rather than ""curly-brace syntax"" in php? (Using Endswitch Syntactic Sugar)"
Strange characters in php cli output," Some strange character are outputted at the beginning of some php console commands.Running composer the output is ok, but laravel artisan or phpunit outputs .I've tried to encode artisan and phpunit files to UTF-8 without BOM like suggested in php 5.3 CLI junk characters, but that was not the problem.I'm using ConEmu v131215 on Windows XP x64 and PHP 5.4.24Question: Where can I possibly find the file that outputs the strange characters that show up at the start of every PHP command line program?Even in windows console this problem happen, not only in ConEmu.Installing a fresh php 5.3 with default php.ini produces the same result <code> ",Strange characters in php cli output
Solved - Strange characters in php cli output," Some strange character are outputted at the beginning of some php console commands.Running composer the output is ok, but laravel artisan or phpunit outputs .I've tried to encode artisan and phpunit files to UTF-8 without BOM like suggested in php 5.3 CLI junk characters, but that was not the problem.I'm using ConEmu v131215 on Windows XP x64 and PHP 5.4.24Question: Where can I possibly find the file that outputs the strange characters that show up at the start of every PHP command line program?Even in windows console this problem happen, not only in ConEmu.Installing a fresh php 5.3 with default php.ini produces the same result <code> ",Strange characters in php cli output
PHP class variable declaration," When the declaration of a PHP class variable we cannot perform any expressions, e.g.: only we can just provide constants e.g.: Can anybody knows why its like that? <code>  class A{ $a = 10 + 5;} class A{ $a = 100;}",Class - variable declaration
php-amqplib : how to delay?," I would like to know how to delay with Amqpphplib.I used this great coffee script tutorial :https://github.com/jamescarr/rabbitmq-scheduled-deliverybut it doesn't seems to work with PHP-amqplib.The message expires as I want, but it seems that ""x-dead-letter-exchange"" don't do the work. I used RabbitMQ management console and I see all queue creation and deletion in live. But my message do go to the immediate queue after expiring. I use RabbitMQ 3.2.3 version, PHP-amqplib 2.2.* version.Here is my code :Connection class : Publish code Consumer code <code>  class Connection{/** * @var $ch */public $ch;/** * @var $consumer_tag */public $consumer_tag;/** * @var $exchange */public $exchange;/** * @var $conn */public $conn;public function __construct($host, $port, $user, $password, $vhost){ $this->exchange = 'immediate'; $this->queue = 'right.now.queue'; $this->consumer_tag = 'consumer'; $this->conn = new AMQPConnection($host, $port, $user, $password, $vhost); $this->ch = $this->conn->channel(); $this->ch->exchange_declare($this->exchange, 'direct', false, true, false); $this->ch->queue_declare($this->queue, false, true, false, false, false); $this->ch->queue_bind($this->queue, $this->exchange);}public function createDelayedQueue ($name, $delay_seconds) { $this->ch->queue_declare($name, false, false, false, true, true, array( ""x-dead-letter-exchange"" => array(""S"", $this->exchange), ""x-message-ttl"" => array(""I"", $delay_seconds*1000), ""x-expires"" => array(""I"", $delay_seconds*1000+1000) ));}} $name = 'send.later.'.$ts;$amqp->createDelayedQueue($name, 2);$msg = new AMQPMessage($msg_body, array('content_type' => 'text/plain', 'delivery_mode' => 2));$amqp->ch->basic_publish($msg); $amqp = $this->getContainer()->get('amqp_connexion'); $amqp->ch->basic_consume($amqp->queue, $amqp->consumer_tag, false, false, false, false, function ($msg) { echo $msg->body; echo ""\n--------\n""; }); $output->writeln('Listening '.$amqp->queue.'...'); // Loop as long as the channel has callbacks registered while (count($amqp->ch->callbacks)) { $amqp->ch->wait(); }",How to delay? - php-amqplib
PHP: best way to get the last day of the current year as date, How can I get the last day (Dec 31) of the current year as a date using PHP?I tried the following but this doesn't work: What I need is a date that looks like 2014-12-31 for the current year. <code>  $year = date('Y');$yearEnd = strtotime($year . '-12-31');,Get the last day of the current year as date
"wordpress - pre_get_posts in place of query_posts, options?"," My situation is somewhat complex, I'll try to explain it as succinctly as possible. I'm currently using query_posts to modify the main query on custom pages on my site, which as far as I can tell works quite well, though I've read that using query_posts is bad practice for a number of different reasons. So, why am I using query_posts and not creating a WP_Query object you may ask? It's because I'm using the infinite-scroll plugin, infinite-scroll doesn't play nice with WP_query, but it works absolutely fine when you simply modify the main query with query_posts. For example, pagination doesn't work using infinite scroll + WP_query (main concern). On one page, I'm modifying the query to get most viewed posts. So after a lot of reading I gather that my other option to modify the main query is using pre_get_posts, though I'm somewhat unsure as to how to go about this.Take this for example:- Alright, so simple enough - if it's the home page, modify the main query and exclude two categories. What I'm confused about and can't figure out is:-the use case scenario for custom page templates. With my query_posts modification I can just drop in the array before if (have_posts()), select my page template, publish it and away I go. With pre_get_posts I can't figure out how to say for example $query->most-viewed etcarray( 'meta_key' => 'wpb_post_views_count', 'orderby' => 'meta_value_num', 'order' => 'DESC' , 'paged' => $paged, ) );How the heck do I do that with pre_get_posts and make sure it's paginated, ie. works with infinite scroll? In all the examples I've seen with pre_get_posts there's no arrays.  <code>  <?php $paged = get_query_var( 'paged' ) ? get_query_var( 'paged' ) : 1; ?> <?php query_posts( array( 'meta_key' => 'wpb_post_views_count', 'orderby' => 'meta_value_num', 'order' => 'DESC' , 'paged' => $paged, ) ); ?> <?php if (have_posts()) : ?><?php while ( have_posts() ) : the_post() ?> <?php if ( has_post_format( 'video' )) { get_template_part( 'video-post' ); }elseif ( has_post_format( 'image' )) { get_template_part( 'image-post' ); } else { get_template_part( 'standard-post' ); } ?><?php endwhile;?><?php endif; ?> function textdomain_exclude_category( $query ) { if ( $query->is_home() && $query->is_main_query() ) { $query->set( 'cat', '-1,-2' ); }}add_action( 'pre_get_posts', 'textdomain_exclude_category' );",WordPress - pre_get_posts in place of query_posts on pages
"wordpress - pre_get_posts in place of query_posts, options/changes?"," My situation is somewhat complex, I'll try to explain it as succinctly as possible. I'm currently using query_posts to modify the main query on custom pages on my site, which as far as I can tell works quite well, though I've read that using query_posts is bad practice for a number of different reasons. So, why am I using query_posts and not creating a WP_Query object you may ask? It's because I'm using the infinite-scroll plugin, infinite-scroll doesn't play nice with WP_query, but it works absolutely fine when you simply modify the main query with query_posts. For example, pagination doesn't work using infinite scroll + WP_query (main concern). On one page, I'm modifying the query to get most viewed posts. So after a lot of reading I gather that my other option to modify the main query is using pre_get_posts, though I'm somewhat unsure as to how to go about this.Take this for example:- Alright, so simple enough - if it's the home page, modify the main query and exclude two categories. What I'm confused about and can't figure out is:-the use case scenario for custom page templates. With my query_posts modification I can just drop in the array before if (have_posts()), select my page template, publish it and away I go. With pre_get_posts I can't figure out how to say for example $query->most-viewed etcarray( 'meta_key' => 'wpb_post_views_count', 'orderby' => 'meta_value_num', 'order' => 'DESC' , 'paged' => $paged, ) );How the heck do I do that with pre_get_posts and make sure it's paginated, ie. works with infinite scroll? In all the examples I've seen with pre_get_posts there's no arrays.  <code>  <?php $paged = get_query_var( 'paged' ) ? get_query_var( 'paged' ) : 1; ?> <?php query_posts( array( 'meta_key' => 'wpb_post_views_count', 'orderby' => 'meta_value_num', 'order' => 'DESC' , 'paged' => $paged, ) ); ?> <?php if (have_posts()) : ?><?php while ( have_posts() ) : the_post() ?> <?php if ( has_post_format( 'video' )) { get_template_part( 'video-post' ); }elseif ( has_post_format( 'image' )) { get_template_part( 'image-post' ); } else { get_template_part( 'standard-post' ); } ?><?php endwhile;?><?php endif; ?> function textdomain_exclude_category( $query ) { if ( $query->is_home() && $query->is_main_query() ) { $query->set( 'cat', '-1,-2' ); }}add_action( 'pre_get_posts', 'textdomain_exclude_category' );",WordPress - pre_get_posts in place of query_posts on pages
mysql sort by number of occurances," I am doing a search in two text fields called Subject and Text for a specific keyword. To do this I use the LIKE statement. I have encountered a problem when trying to sort the results by the number of occurrences.my search query looks like this: I tried to add a count() statement and sort it by the number of occurrences, but the count() statement just keep returning the number of rows in my table.Here is the query with count statement: What im looking for is something that returns the number of matches on the Subject and Text columns on each row, and then order the result after the highest amount of occurrences of the keyword on each row. <code>  SELECT * FROM Table WHERE (Text LIKE '%Keyword%' OR Subject LIKE '%Keyword%') SELECT *, COUNT(Text LIKE '%Keyword%') AS cnt FROM News WHERE (Text LIKE '%Keyword%' OR Subject LIKE '%Keyword%') ORDER BY cnt",MySQL sort by number of occurrences
Laravel Adding a Question Mark to E-mail," Using Laravel 4 to send an email to a mobile phone email address and it adds a ? to the beginning of the message. Sending as html or text makes no difference. I've tested using native PHP mail function as well as CodeIgniter's mail function to the same mobile email address and there is NO question mark. This is only happening when sending to a mobile email. Any suggestions? and the entire view: The text message reads: (Test) ?Hi Jane <code>  public function send(){ $data['name']= 'Jane'; Mail::send(array('text' => 'textmessages.reminder'), $data, function($message){ $message->from('me@myemail.com', 'Me'); $message->to('1231231212@yourmobileemail.com')->subject('Test'); }); } Hi <?=$name?>",Laravel Adding ? to E-mail
Laravel BUG: Adding ? to E-mail," Using Laravel 4 to send an email to a mobile phone email address and it adds a ? to the beginning of the message. Sending as html or text makes no difference. I've tested using native PHP mail function as well as CodeIgniter's mail function to the same mobile email address and there is NO question mark. This is only happening when sending to a mobile email. Any suggestions? and the entire view: The text message reads: (Test) ?Hi Jane <code>  public function send(){ $data['name']= 'Jane'; Mail::send(array('text' => 'textmessages.reminder'), $data, function($message){ $message->from('me@myemail.com', 'Me'); $message->to('1231231212@yourmobileemail.com')->subject('Test'); }); } Hi <?=$name?>",Laravel Adding ? to E-mail
Laravel Bug? Adding ? to E-mail," Using Laravel 4 to send an email to a mobile phone email address and it adds a ? to the beginning of the message. Sending as html or text makes no difference. I've tested using native PHP mail function as well as CodeIgniter's mail function to the same mobile email address and there is NO question mark. This is only happening when sending to a mobile email. Any suggestions? and the entire view: The text message reads: (Test) ?Hi Jane <code>  public function send(){ $data['name']= 'Jane'; Mail::send(array('text' => 'textmessages.reminder'), $data, function($message){ $message->from('me@myemail.com', 'Me'); $message->to('1231231212@yourmobileemail.com')->subject('Test'); }); } Hi <?=$name?>",Laravel Adding ? to E-mail
Do PHP close a mysql(i) connection on an fatal error?," I know PHP closes any open MySQL connection at the end of the script execution, but what happens with connections if a fatal error occurs?Do PHP close connections regardless of an error?Or are they closed after an amount of time?Or is it not opened in that case?I can't find anything here or on Google.I use static connections to reuse them. Additionally there is a __destruct() to close it. On the end of the execution, the destructor is called (I see it in the log-file).But if I do a fatal error (just to find out what happens), the destructor is NOT called. What happens with the connection? <code> ",Does PHP close a mysql(i) connection on an fatal error?
"How can I make Laravel return a custom JSON error instead of the default ""Pretty Handler"" error page?"," I'm developing some kind of RESTful API. When some error occurs, I throw an App::abort($code, $message) error. The problem is: I want him to throw a json formed array with keys ""code"" and ""message"", each one containing the above mentioned data. Does any one knows if it's possible, and if it is, how I do it? <code>  Array( [code] => 401 [message] => ""Invalid User"")",How can I make Laravel return a custom error for a JSON REST API
Can we get email ID from twitter oauth API?," How to get email id of the user who accepted my Twitter application?I have gone through lot of forums. But they have mentioned, it is not possible. Also those posts are older than a year. May I know whether it is possible to get the user email id through twitter API using PHP?I am getting Twitter user details using the following URL:https://api.twitter.com/1.1/account/verify_credentials.json <code> ",Can we get email ID from Twitter oauth API?
"What is faster, a big joined query or multiple small selects plus PHP?"," I'm running a cron task which makes lots of queries to a MySQL server. The big issue is that the server runs extremely slowly sometimes.I've got a relatively big query with 4 tables left joined between them, and 4 smaller queries with natural joins that also attack the first table. After throwing those queries, I then process the results and group them using PHP.What I'm planning is to somehow mix those 5 queries into just one big query, and then letting PHP do some quick sort()s when I need to do so.I'm also told MySQL queries run faster than PHP in terms of filtering and sorting, but I'm reasonably worried about it when talking about having 7 or 8 left joins. Some more specs about these queries (which I can't copy because of company policies):Every fetched row and field will be visited at least once.Every query runs based on a single main table, with some ""wing"" tables.Every query uses the same GROUP BY rule.Currently the PHP code splits some secondary queries results into multiple arrays. It should, if using a big query, also sort the results by multiple parameters.So, due to these problems, and maybe as a rule of thumb:What is faster, a big joined query with more PHP or multiple small selects with less PHP? <code> ","What is faster, a big joined query with more PHP or multiple small selects with less PHP?"
mysqli_fetch_all using primary key value as index," Currently I have something to the effect: Will output something to the effect: Is there a mysqli fetch filter (correct term?) that will use the primary key from the result set if one exists as the array index value? In case my question is not clear it would result in something instead to his effect: It's not essential for the type_id values to be removed, but it would be super useful if the Primary Key could be used to index the array. I can do this with a fetch loop but I'm wondering if there is a simpler more elegant way of handling this. <code>  <?php // ...More Code $result = mysqli_query($mysqli, ""SELECT * FROM stock_types""); if(!$result || mysqli_num_rows($result) < 1) die('error'); $stock_types = mysqli_fetch_all($result, MYSQLI_ASSOC); mysqli_free_result($result); die(print_r($stock_types,true)); // More Code...?> Array ( [0] => Array ( [type_id] => 1 [type_name] => In Stock [type_visible] => 1 [type_locked] => 0 ) [1] => Array ( [type_id] => 2 [type_name] => Out of Stock [type_visible] => 1 [type_locked] => 1 ) [2] => Array ( [type_id] => 3 [type_name] => Offline [type_visible] => 0 [type_locked] => 1 ) [3] => Array ( [type_id] => 5 [type_name] => Hidden [type_visible] => 0 [type_locked] => 0 )) Array ( [1] => Array ( [type_name] => In Stock [type_visible] => 1 [type_locked] => 0 ) [2] => Array ( [type_name] => Out of Stock [type_visible] => 1 [type_locked] => 1 ) [3] => Array ( [type_name] => Offline [type_visible] => 0 [type_locked] => 1 ) [5] => Array ( [type_name] => Hidden [type_visible] => 0 [type_locked] => 0 ))","Is there a ""mysqli_fetch_all"" using column (PK) as index in resulting array?"
Select impossible value in tests in Symfony Crawler," I would like to test the behaviour of my application if I send wrong values in a select input in form.This is my form in HTML : In my test, in get the form with the crawler and try to ""select"" an incorrect value : But in the console, I get the message : How can I choose an incorrect value for testing the answer ? It would be possible to send an incorrect value by a real server. <code>  <form (...)> (...)<select name=""select_input""> <option value=""1"">text</option></select></select> $form['select_input'] = 9999999;$client->submit($form);/* EDIT *//*I am expecting the user to not be redirected to the user page, and the server to respond with the same form, containing an error message */$this->assertFalse($client->getResponse()->isRedirect('/success_page'));$this->assertEquals(1, $client->getCrawler()->filter('input.error')); InvalidArgumentException: Input ""user_profile[voteProfile]"" cannot take ""9999999"" as a value (possible values: 1)",Select impossible value in select inputs with Symfony DomCrawler
(N00b) PHP can someone please explain why only the first [0] record is being returned from the array?," I'm trying to return four records from my MySQL database but only the first record is being returned. I've searched but I'm unsure why this is. Can someone point me in the right direction? <code>  <?phpsession_start();function displayImage($username){ $imageDate = $_POST['imageDate']; $result = mysql_query("" SELECT imageName FROM images AS i INNER JOIN users AS u ON i.userID = u.UserID WHERE u.username = '$username' AND i.imageDate = '$imageDate' "") or die(mysql_error()); //return a message to the users explaining ...... if (!isset($_POST['Submit'])) { // this does nowt yet!!! $output = ""Nothing selected yet.""; } else { //This is a while loop to store the SQL results into ...... $row = array(mysql_fetch_assoc($result)); foreach ($row as $picName) { $cam = $_POST['cam']; $fullPath = $username . ""/"" . $cam . ""/"" . $picName['imageName']; // $output = //this works fine reset($images); } } var_dump($row); echo ""<br />""; return $output; }?>",Why is only the first record being returned from this PHP array?
PHP can someone please explain why only the first [0] record is being returned from the array?," I'm trying to return four records from my MySQL database but only the first record is being returned. I've searched but I'm unsure why this is. Can someone point me in the right direction? <code>  <?phpsession_start();function displayImage($username){ $imageDate = $_POST['imageDate']; $result = mysql_query("" SELECT imageName FROM images AS i INNER JOIN users AS u ON i.userID = u.UserID WHERE u.username = '$username' AND i.imageDate = '$imageDate' "") or die(mysql_error()); //return a message to the users explaining ...... if (!isset($_POST['Submit'])) { // this does nowt yet!!! $output = ""Nothing selected yet.""; } else { //This is a while loop to store the SQL results into ...... $row = array(mysql_fetch_assoc($result)); foreach ($row as $picName) { $cam = $_POST['cam']; $fullPath = $username . ""/"" . $cam . ""/"" . $picName['imageName']; // $output = //this works fine reset($images); } } var_dump($row); echo ""<br />""; return $output; }?>",Why is only the first record being returned from this PHP array?
Why is only the first record is being returned from this PHP array?," I'm trying to return four records from my MySQL database but only the first record is being returned. I've searched but I'm unsure why this is. Can someone point me in the right direction? <code>  <?phpsession_start();function displayImage($username){ $imageDate = $_POST['imageDate']; $result = mysql_query("" SELECT imageName FROM images AS i INNER JOIN users AS u ON i.userID = u.UserID WHERE u.username = '$username' AND i.imageDate = '$imageDate' "") or die(mysql_error()); //return a message to the users explaining ...... if (!isset($_POST['Submit'])) { // this does nowt yet!!! $output = ""Nothing selected yet.""; } else { //This is a while loop to store the SQL results into ...... $row = array(mysql_fetch_assoc($result)); foreach ($row as $picName) { $cam = $_POST['cam']; $fullPath = $username . ""/"" . $cam . ""/"" . $picName['imageName']; // $output = //this works fine reset($images); } } var_dump($row); echo ""<br />""; return $output; }?>",Why is only the first record being returned from this PHP array?
How to store variable in session codeignitor, I would like to store the variable in the session currently i am tryin like this but not working.In Controller <code>  <?phpsession_start(); $_SESSION['myvar']='myvalue';?>,How to store variable in session codeigniter
SQL_SRV Query to database PHP," I am migrated from MySQL to MS SQL Server, and trying to fetch all data from the routines table. I am connected but unsure how to fetch data with sqlsrv. This is how far I have came: <code>  $conn_array = array ( ""UID"" => ""sa"", ""PWD"" => ""root"", ""Database"" => ""nih_bw"",);$conn = sqlsrv_connect('BILAL', $conn_array);if ($conn){ echo ""connected""; $result = sqlsrv_query($db->db_conn,""SELECT * FROM routines"");}else{ die(print_r(sqlsrv_errors(), true));}sqlsrv_close($conn);?>",PHP sqlsrv query to database
PDO Login Script always returning false," As you can see above, my code has two header() methods, where one re-directs to the logged in page while the other re-directs to the error page. I believe at the best of my knowledge, my script should re-direct to the logged in page as per my input which is correct, but it behaves in an unexpected way. It re-directs to the error page instead of the logged in page. Please take a look and tell me the reason why it doesn't work? Thanks! Also, if you see any flaws in my code, feel free to throw in some criticism as I wish to improve my self. Thanks a lot. <code>  <?php include ""config.php""; class Users extends Config { public function login($username, $password) { try { $this->db->beginTransaction(); $stmt = $this->db->prepare(""SELECT `username`, `password` FROM `users` WHERE `username` = ? AND `password` = ? LIMIT 1""); $stmt->execute(array($username, $password)); if($stmt->rowCount == 1) { while($row = $stmt->fetch(PDO::FETCH_ASSOC)) { header(""Location: index.php?p=loggedin""); exit(); } } else { header(""Location: index.php?p=false""); exit(); } $this->db->commit(); } catch(PDOException $ex) { $this->db->rollBack(); echo $ex->getMessage(); } } } $users = new Users();?>",PDO Login Script Always Re-Directing To Header Page
MySQL: Is it possible to get shorter error messages?," I have heard a lot of people complain about this, and justifiably so. Many MySQL error messages are ridiculously long: This gets especially annoying in environments that only show you the first half of that string. So the question is: Is it possible to get a shorter version of that string? Something like: Syntax error near... - which is really the juicy part of that message. <code>  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near... ",MySQL: Is it possible to shorten error messages?
MySQL: Update mysql error message," I have heard a lot of people complain about this, and justifiably so. Many MySQL error messages are ridiculously long: This gets especially annoying in environments that only show you the first half of that string. So the question is: Is it possible to get a shorter version of that string? Something like: Syntax error near... - which is really the juicy part of that message. <code>  You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near... ",MySQL: Is it possible to shorten error messages?
Using php loop to populate dropdown list with array values.," I have an array of an arrays created using the following code. I'm trying to get this to loop through and populate a dropdown list. This is what is stored in the $names variable. Array ( [0] => Array ( [name] => Web Design ) [1] => Array ( [name] => Art History ) [2] => Array ( [name] => Gym ) [3] => Array ( [name] => English ) [4] => Array ( [name] => Biology ) [5] => Array ( [name] => 3D Animation ) [6] => Array ( [name] => Tech Disc ) [7] => Array ( [name] => Math ) [8] => Array ( [name] => Dance ) [9] => Array ( [name] => Video Production ) [10] => Array ( [name] => Home Ec ) [11] => Array ( [name] => Government ) [12] => Array ( [name] => Physics ) )I have this dropdown list created and it work, but it is hand coded for each value in the array. I want to modify this so it 'loops' through all results in the array to create the dropdown. Can someone please help? <code>  $names = $db->fetchAll(""select `name` from `classes`""); <label for=""per1""></label><select name=""per1"" id=""per1""> <option selected=""selected"">Choose one</option> <option value=""<?php echo $names[0]['name'];?>""><?php echo $names[0]['name'];?></option> <option value=""<?php echo $names[1]['name'];?>""><?php echo $names[1]['name'];?></option> <option value=""<?php echo $names[2]['name'];?>""><?php echo $names[2]['name'];?></option> <option value=""<?php echo $names[3]['name'];?>""><?php echo $names[3]['name'];?></option> <option value=""<?php echo $names[4]['name'];?>""><?php echo $names[4]['name'];?></option> <option value=""<?php echo $names[5]['name'];?>""><?php echo $names[5]['name'];?></option> <option value=""<?php echo $names[6]['name'];?>""><?php echo $names[6]['name'];?></option> <option value=""<?php echo $names[7]['name'];?>""><?php echo $names[7]['name'];?></option> <option value=""<?php echo $names[8]['name'];?>""><?php echo $names[8]['name'];?></option> <option value=""<?php echo $names[9]['name'];?>""><?php echo $names[9]['name'];?></option> <option value=""<?php echo $names[10]['name'];?>""><?php echo $names[10]['name'];?></option> <option value=""<?php echo $names[11]['name'];?>""><?php echo $names[11]['name'];?></option> <option value=""<?php echo $names[12]['name'];?>""><?php echo $names[12]['name'];?></option> </select> ",PHP foreach loop to populate dropdown list with values from an array of arrays
Using a PHP loop to populate dropdown list with array values," I have an array of an arrays created using the following code. I'm trying to get this to loop through and populate a dropdown list. This is what is stored in the $names variable. Array ( [0] => Array ( [name] => Web Design ) [1] => Array ( [name] => Art History ) [2] => Array ( [name] => Gym ) [3] => Array ( [name] => English ) [4] => Array ( [name] => Biology ) [5] => Array ( [name] => 3D Animation ) [6] => Array ( [name] => Tech Disc ) [7] => Array ( [name] => Math ) [8] => Array ( [name] => Dance ) [9] => Array ( [name] => Video Production ) [10] => Array ( [name] => Home Ec ) [11] => Array ( [name] => Government ) [12] => Array ( [name] => Physics ) )I have this dropdown list created and it work, but it is hand coded for each value in the array. I want to modify this so it 'loops' through all results in the array to create the dropdown. Can someone please help? <code>  $names = $db->fetchAll(""select `name` from `classes`""); <label for=""per1""></label><select name=""per1"" id=""per1""> <option selected=""selected"">Choose one</option> <option value=""<?php echo $names[0]['name'];?>""><?php echo $names[0]['name'];?></option> <option value=""<?php echo $names[1]['name'];?>""><?php echo $names[1]['name'];?></option> <option value=""<?php echo $names[2]['name'];?>""><?php echo $names[2]['name'];?></option> <option value=""<?php echo $names[3]['name'];?>""><?php echo $names[3]['name'];?></option> <option value=""<?php echo $names[4]['name'];?>""><?php echo $names[4]['name'];?></option> <option value=""<?php echo $names[5]['name'];?>""><?php echo $names[5]['name'];?></option> <option value=""<?php echo $names[6]['name'];?>""><?php echo $names[6]['name'];?></option> <option value=""<?php echo $names[7]['name'];?>""><?php echo $names[7]['name'];?></option> <option value=""<?php echo $names[8]['name'];?>""><?php echo $names[8]['name'];?></option> <option value=""<?php echo $names[9]['name'];?>""><?php echo $names[9]['name'];?></option> <option value=""<?php echo $names[10]['name'];?>""><?php echo $names[10]['name'];?></option> <option value=""<?php echo $names[11]['name'];?>""><?php echo $names[11]['name'];?></option> <option value=""<?php echo $names[12]['name'];?>""><?php echo $names[12]['name'];?></option> </select> ",PHP foreach loop to populate dropdown list with values from an array of arrays
global setter for laravel," I have many different locations ways of inserting and updating my database and I would like to be able to trim() the users input before inserting into the database. I know in the model I can do something like below, but I do not want to do this for every field. Is there a way to set a generic setter that works on all fields?Example: <code>  public function setSomFieldAttribute($value) { return $this->attributes['some_field'] = trim($value);}",Global Mutator for Laravel
Global setter for Laravel," I have many different locations ways of inserting and updating my database and I would like to be able to trim() the users input before inserting into the database. I know in the model I can do something like below, but I do not want to do this for every field. Is there a way to set a generic setter that works on all fields?Example: <code>  public function setSomFieldAttribute($value) { return $this->attributes['some_field'] = trim($value);}",Global Mutator for Laravel
How does fpm with apache2 over fastcgi work?," I'm trying to set up a debian web server with apache, fastcgi and fpm, but I'm getting exasperate.As soon as i deactivate mod_php I get following error: [Thu May 22 12:16:10 2014] [error] [client xxx.xxx.xxx.xxx] (13)Permission denied: FastCGI: failed to connect to server ""/usr/lib/cgi-bin/php5-fcgi"": connect() failed, referer: http://... [Thu May 22 12:16:10 2014] [error] [client xxx.xxx.xxx.xxx] FastCGI: incomplete headers (0 bytes) received from server ""/usr/lib/cgi-bin/php5-fcgi"", referer: http://...File /etc/apache2/conf.d/fastcgi: File /etc/php5/fpm/pool.d/www.conf: Do you have any ideas what could be wrong? <code>  <IfModule mod_fastcgi.c> AddHandler php5-fcgi .php Action php5-fcgi /php5-fcgi Alias /php5-fcgi /usr/lib/cgi-bin/php5-fcgi FastCgiExternalServer /usr/lib/cgi-bin/php5-fcgi -socket /var/run/php5-fpm.sock -idle-timeout 300 -pass-header Authorization</IfModule> ; Start a new pool named 'www'.; the variable $pool can we used in any directive and will be replaced by the; pool name ('www' here)[www]; Per pool prefix; It only applies on the following directives:; - 'slowlog'; - 'listen' (unixsocket); - 'chroot'; - 'chdir'; - 'php_values'; - 'php_admin_values'; When not set, the global prefix (or /usr) applies instead.; Note: This directive can also be relative to the global prefix.; Default Value: none;prefix = /path/to/pools/$pool; Unix user/group of processes; Note: The user is mandatory. If the group is not set, the default user's group; will be used.user = www-datagroup = www-data; The address on which to accept FastCGI requests.; Valid syntaxes are:; 'ip.add.re.ss:port' - to listen on a TCP socket to a specific address on; a specific port;; 'port' - to listen on a TCP socket to all addresses on a; specific port;; '/path/to/unix/socket' - to listen on a unix socket.; Note: This value is mandatory.listen = /var/run/php5-fpm.sock; Set listen(2) backlog.; Default Value: 128 (-1 on FreeBSD and OpenBSD);listen.backlog = 128; Set permissions for unix socket, if one is used. In Linux, read/write; permissions must be set in order to allow connections from a web server. Many; BSD-derived systems allow connections regardless of permissions.; Default Values: user and group are set as the running user; mode is set to 0666;listen.owner = www-data;listen.group = www-data;listen.mode = 0666; List of ipv4 addresses of FastCGI clients which are allowed to connect.; Equivalent to the FCGI_WEB_SERVER_ADDRS environment variable in the original; PHP FCGI (5.2.2+). Makes sense only with a tcp listening socket. Each address; must be separated by a comma. If this value is left blank, connections will be; accepted from any ip address.; Default Value: any;listen.allowed_clients = 127.0.0.1; Specify the nice(2) priority to apply to the pool processes (only if set); The value can vary from -19 (highest priority) to 20 (lower priority); Note: - It will only work if the FPM master process is launched as root; - The pool processes will inherit the master process priority; unless it specified otherwise; Default Value: no set; priority = -19; Choose how the process manager will control the number of child processes.; Possible Values:; static - a fixed number (pm.max_children) of child processes;; dynamic - the number of child processes are set dynamically based on the; following directives. With this process management, there will be; always at least 1 children.; pm.max_children - the maximum number of children that can; be alive at the same time.; pm.start_servers - the number of children created on startup.; pm.min_spare_servers - the minimum number of children in 'idle'; state (waiting to process). If the number; of 'idle' processes is less than this; number then some children will be created.; pm.max_spare_servers - the maximum number of children in 'idle'; state (waiting to process). If the number; of 'idle' processes is greater than this; number then some children will be killed.; ondemand - no children are created at startup. Children will be forked when; new requests will connect. The following parameter are used:; pm.max_children - the maximum number of children that; can be alive at the same time.; pm.process_idle_timeout - The number of seconds after which; an idle process will be killed.; Note: This value is mandatory.pm = dynamic; The number of child processes to be created when pm is set to 'static' and the; maximum number of child processes when pm is set to 'dynamic' or 'ondemand'.; This value sets the limit on the number of simultaneous requests that will be; served. Equivalent to the ApacheMaxClients directive with mpm_prefork.; Equivalent to the PHP_FCGI_CHILDREN environment variable in the original PHP; CGI. The below defaults are based on a server without much resources. Don't; forget to tweak pm.* to fit your needs.; Note: Used when pm is set to 'static', 'dynamic' or 'ondemand'; Note: This value is mandatory.pm.max_children = 50; The number of child processes created on startup.; Note: Used only when pm is set to 'dynamic'; Default Value: min_spare_servers + (max_spare_servers - min_spare_servers) / 2pm.start_servers = 5; The desired minimum number of idle server processes.; Note: Used only when pm is set to 'dynamic'; Note: Mandatory when pm is set to 'dynamic'pm.min_spare_servers = 5; The desired maximum number of idle server processes.; Note: Used only when pm is set to 'dynamic'; Note: Mandatory when pm is set to 'dynamic'pm.max_spare_servers = 10; The number of seconds after which an idle process will be killed.; Note: Used only when pm is set to 'ondemand'; Default Value: 10spm.process_idle_timeout = 300;; The number of requests each child process should execute before respawning.; This can be useful to work around memory leaks in 3rd party libraries. For; endless request processing specify '0'. Equivalent to PHP_FCGI_MAX_REQUESTS.; Default Value: 0;pm.max_requests = 500; The URI to view the FPM status page. If this value is not set, no URI will be; recognized as a status page. It shows the following informations:; pool - the name of the pool;; process manager - static, dynamic or ondemand;; start time - the date and time FPM has started;; start since - number of seconds since FPM has started;; accepted conn - the number of request accepted by the pool;; listen queue - the number of request in the queue of pending; connections (see backlog in listen(2));; max listen queue - the maximum number of requests in the queue; of pending connections since FPM has started;; listen queue len - the size of the socket queue of pending connections;; idle processes - the number of idle processes;; active processes - the number of active processes;; total processes - the number of idle + active processes;; max active processes - the maximum number of active processes since FPM; has started;; max children reached - number of times, the process limit has been reached,; when pm tries to start more children (works only for; pm 'dynamic' and 'ondemand');; Value are updated in real time.; Example output:; pool: www; process manager: static; start time: 01/Jul/2011:17:53:49 +0200; start since: 62636; accepted conn: 190460; listen queue: 0; max listen queue: 1; listen queue len: 42; idle processes: 4; active processes: 11; total processes: 15; max active processes: 12; max children reached: 0;; By default the status page output is formatted as text/plain. Passing either; 'html', 'xml' or 'json' in the query string will return the corresponding; output syntax. Example:; http://www.foo.bar/status; http://www.foo.bar/status?json; http://www.foo.bar/status?html; http://www.foo.bar/status?xml;; By default the status page only outputs short status. Passing 'full' in the; query string will also return status for each pool process.; Example:; http://www.foo.bar/status?full; http://www.foo.bar/status?json&full; http://www.foo.bar/status?html&full; http://www.foo.bar/status?xml&full; The Full status returns for each process:; pid - the PID of the process;; state - the state of the process (Idle, Running, ...);; start time - the date and time the process has started;; start since - the number of seconds since the process has started;; requests - the number of requests the process has served;; request duration - the duration in s of the requests;; request method - the request method (GET, POST, ...);; request URI - the request URI with the query string;; content length - the content length of the request (only with POST);; user - the user (PHP_AUTH_USER) (or '-' if not set);; script - the main script called (or '-' if not set);; last request cpu - the %cpu the last request consumed; it's always 0 if the process is not in Idle state; because CPU calculation is done when the request; processing has terminated;; last request memory - the max amount of memory the last request consumed; it's always 0 if the process is not in Idle state; because memory calculation is done when the request; processing has terminated;; If the process is in Idle state, then informations are related to the; last request the process has served. Otherwise informations are related to; the current request being served.; Example output:; ************************; pid: 31330; state: Running; start time: 01/Jul/2011:17:53:49 +0200; start since: 63087; requests: 12808; request duration: 1250261; request method: GET; request URI: /test_mem.php?N=10000; content length: 0; user: -; script: /home/fat/web/docs/php/test_mem.php; last request cpu: 0.00; last request memory: 0;; Note: There is a real-time FPM status monitoring sample web page available; It's available in: ${prefix}/share/fpm/status.html;; Note: The value must start with a leading slash (/). The value can be; anything, but it may not be a good idea to use the .php extension or it; may conflict with a real PHP file.; Default Value: not set;pm.status_path = /status; The ping URI to call the monitoring page of FPM. If this value is not set, no; URI will be recognized as a ping page. This could be used to test from outside; that FPM is alive and responding, or to; - create a graph of FPM availability (rrd or such);; - remove a server from a group if it is not responding (load balancing);; - trigger alerts for the operating team (24/7).; Note: The value must start with a leading slash (/). The value can be; anything, but it may not be a good idea to use the .php extension or it; may conflict with a real PHP file.; Default Value: not set;ping.path = /ping; This directive may be used to customize the response of a ping request. The; response is formatted as text/plain with a 200 response code.; Default Value: pong;ping.response = pong; The access log file; Default: not set;access.log = log/$pool.access.log; The access log format.; The following syntax is allowed; %%: the '%' character; %C: %CPU used by the request; it can accept the following format:; - %{user}C for user CPU only; - %{system}C for system CPU only; - %{total}C for user + system CPU (default); %d: time taken to serve the request; it can accept the following format:; - %{seconds}d (default); - %{miliseconds}d; - %{mili}d; - %{microseconds}d; - %{micro}d; %e: an environment variable (same as $_ENV or $_SERVER); it must be associated with embraces to specify the name of the env; variable. Some exemples:; - server specifics like: %{REQUEST_METHOD}e or %{SERVER_PROTOCOL}e; - HTTP headers like: %{HTTP_HOST}e or %{HTTP_USER_AGENT}e; %f: script filename; %l: content-length of the request (for POST request only); %m: request method; %M: peak of memory allocated by PHP; it can accept the following format:; - %{bytes}M (default); - %{kilobytes}M; - %{kilo}M; - %{megabytes}M; - %{mega}M; %n: pool name; %o: output header; it must be associated with embraces to specify the name of the header:; - %{Content-Type}o; - %{X-Powered-By}o; - %{Transfert-Encoding}o; - ....; %p: PID of the child that serviced the request; %P: PID of the parent of the child that serviced the request; %q: the query string; %Q: the '?' character if query string exists; %r: the request URI (without the query string, see %q and %Q); %R: remote IP address; %s: status (response code); %t: server time the request was received; it can accept a strftime(3) format:; %d/%b/%Y:%H:%M:%S %z (default); %T: time the log has been written (the request has finished); it can accept a strftime(3) format:; %d/%b/%Y:%H:%M:%S %z (default); %u: remote user;; Default: ""%R - %u %t \""%m %r\"" %s"";access.format = ""%R - %u %t \""%m %r%Q%q\"" %s %f %{mili}d %{kilo}M %C%%""; The log file for slow requests; Default Value: not set; Note: slowlog is mandatory if request_slowlog_timeout is set;slowlog = log/$pool.log.slow; The timeout for serving a single request after which a PHP backtrace will be; dumped to the 'slowlog' file. A value of '0s' means 'off'.; Available units: s(econds)(default), m(inutes), h(ours), or d(ays); Default Value: 0;request_slowlog_timeout = 0; The timeout for serving a single request after which the worker process will; be killed. This option should be used when the 'max_execution_time' ini option; does not stop script execution for some reason. A value of '0' means 'off'.; Available units: s(econds)(default), m(inutes), h(ours), or d(ays); Default Value: 0;request_terminate_timeout = 0; Set open file descriptor rlimit.; Default Value: system defined value;rlimit_files = 1024; Set max core size rlimit.; Possible Values: 'unlimited' or an integer greater or equal to 0; Default Value: system defined value;rlimit_core = 0; Chroot to this directory at the start. This value must be defined as an; absolute path. When this value is not set, chroot is not used.; Note: you can prefix with '$prefix' to chroot to the pool prefix or one; of its subdirectories. If the pool prefix is not set, the global prefix; will be used instead.; Note: chrooting is a great security feature and should be used whenever; possible. However, all PHP paths will be relative to the chroot; (error_log, sessions.save_path, ...).; Default Value: not set;chroot =; Chdir to this directory at the start.; Note: relative path can be used.; Default Value: current directory or / when chrootchdir = /; Redirect worker stdout and stderr into main error log. If not set, stdout and; stderr will be redirected to /dev/null according to FastCGI specs.; Note: on highloaded environement, this can cause some delay in the page; process time (several ms).; Default Value: no;catch_workers_output = yes; Limits the extensions of the main script FPM will allow to parse. This can; prevent configuration mistakes on the web server side. You should only limit; FPM to .php extensions to prevent malicious users to use other extensions to; exectute php code.; Note: set an empty value to allow all extensions.; Default Value: .php;security.limit_extensions = .php .php3 .php4 .php5; Pass environment variables like LD_LIBRARY_PATH. All $VARIABLEs are taken from; the current environment.; Default Value: clean env;env[HOSTNAME] = $HOSTNAME;env[PATH] = /usr/local/bin:/usr/bin:/bin;env[TMP] = /tmp;env[TMPDIR] = /tmp;env[TEMP] = /tmp; Additional php.ini defines, specific to this pool of workers. These settings; overwrite the values previously defined in the php.ini. The directives are the; same as the PHP SAPI:; php_value/php_flag - you can set classic ini defines which can; be overwritten from PHP call 'ini_set'.; php_admin_value/php_admin_flag - these directives won't be overwritten by; PHP call 'ini_set'; For php_*flag, valid values are on, off, 1, 0, true, false, yes or no.; Defining 'extension' will load the corresponding shared extension from; extension_dir. Defining 'disable_functions' or 'disable_classes' will not; overwrite previously defined php.ini values, but will append the new value; instead.; Note: path INI options can be relative and will be expanded with the prefix; (pool, global or /usr); Default Value: nothing is defined by default except the values in php.ini and; specified at startup with the -d argument;php_admin_value[sendmail_path] = /usr/sbin/sendmail -t -i -f www@my.domain.com;php_flag[display_errors] = off;php_admin_value[error_log] = /var/log/fpm-php.www.log;php_admin_flag[log_errors] = on;php_admin_value[memory_limit] = 32M",FPM with apache2 not working (Permission denied)
"How I can remove ""public/index.php"" in the url generated laravel?"," I need to remove index.php or public/index.php from the generated URL in Laravel; commonly path is localhost/public/index.php/someWordForRoute, It should be something like localhost/someWordForRoute..htaccess app/config/app.php How can I change that? <code>  <IfModule mod_rewrite.c><IfModule mod_negotiation.c>Options -MultiViews</IfModule>RewriteEngine On# Redirect Trailing Slashes.RewriteRule ^(.*)/$ /$1 [L,R=301]# Handle Front Controller.RewriteCond %{REQUEST_FILENAME} !-dRewriteCond %{REQUEST_FILENAME} !-fRewriteRule ^ index.php[L] 'url' => 'http://localhost',",How Can I Remove public/index.php in the URL Generated Laravel?
"How can I remove ""public/index.php"" in the url generated laravel?"," I need to remove index.php or public/index.php from the generated URL in Laravel; commonly path is localhost/public/index.php/someWordForRoute, It should be something like localhost/someWordForRoute..htaccess app/config/app.php How can I change that? <code>  <IfModule mod_rewrite.c><IfModule mod_negotiation.c>Options -MultiViews</IfModule>RewriteEngine On# Redirect Trailing Slashes.RewriteRule ^(.*)/$ /$1 [L,R=301]# Handle Front Controller.RewriteCond %{REQUEST_FILENAME} !-dRewriteCond %{REQUEST_FILENAME} !-fRewriteRule ^ index.php[L] 'url' => 'http://localhost',",How Can I Remove public/index.php in the URL Generated Laravel?
leaving a webpage during an ajax update," What happens when a user sends an asynchronous request to a server to update its database that may take a couple minutes, but then leaves the webpage before the update is done?Will the server still record the update to the database or stop?I'm using angularjs to make async calls to a LAMP stack. <code> ",Leaving a webpage during an ajax update
What is difference static function and normal function in php," I need to have method to get something from a database, but I don't understand the difference between static and normal functions in PHP.Example code and function outside of a class If I use $item = Item::getDetail(15); and $item = getDetail(15); they're the same.What is the difference between static and function outside of a class?If they are difference, How to use static function and function outside of a class? (I'd appreciate a really simple example.)What are the performance properties between static and function outside of a class? Which is better? <code>  class Item { public static function getDetail($arg) { $detail = $this->findProductId($arg); return $detail; } private function findProductId($id) { //find product_id in database where id = $arg //return detail of product }} function getDetail($arg) { $detail = findProductId($arg); return $detail;}",What is the difference between static functions and function outside of a class in PHP?
What is the difference between static functions and normal functions in PHP?," I need to have method to get something from a database, but I don't understand the difference between static and normal functions in PHP.Example code and function outside of a class If I use $item = Item::getDetail(15); and $item = getDetail(15); they're the same.What is the difference between static and function outside of a class?If they are difference, How to use static function and function outside of a class? (I'd appreciate a really simple example.)What are the performance properties between static and function outside of a class? Which is better? <code>  class Item { public static function getDetail($arg) { $detail = $this->findProductId($arg); return $detail; } private function findProductId($id) { //find product_id in database where id = $arg //return detail of product }} function getDetail($arg) { $detail = findProductId($arg); return $detail;}",What is the difference between static functions and function outside of a class in PHP?
How to I implement the feature of rememebering where the user was in my website?," I need some implementation like they do in websites like Khanacademy or Edx-- when you log back in, they tell you, ""You were currently in this section, continue from here?""The only way I can think of doing this is having a column in database and have a form for each and every section (like lesson 1, lesson 2, lesson 3) and whenever the user clicks in the section, the form gets submitted and it updates the column in the database to remember. Will this approach work or there's a better way of doing this? <code> ",How do I mark a user's progress when they're taking a multi-step action on my website?
NumberFormatter::SPELLOUT spellout-ordinal in russian and other languages," this code works for english, spanish and german ordninal numbers, but with russian or italian ordninal numbers it doesn't work.'ru-RU','it-IT' also don't workI get for example in russian for 2 -> (this is the cardinal number) , but I want the ordinal number and this would be here 2 -> .I get for example in italian for 2 -> due (this is the cardinal number) , but I want the ordinal number and this would be here 2 -> secondo.Update:I found a solution with works in french, spain, german and some other languages:maskuline ordinal numbers: %spellout-ordinal-maskulinefeminine ordinal numbers: %spellout-ordinal-femininerussian and italian version doesn't work and I tried already with -maskuline/-feminine  <code>  $ru_ordinal = new NumberFormatter('ru', NumberFormatter::SPELLOUT);$ru_ordinal->setTextAttribute(NumberFormatter::DEFAULT_RULESET, ""%spellout-ordinal""); ",NumberFormatter::SPELLOUT spellout-ordinal in russian and italian
"UTF-8, PHP, Win7 - Is there a solution now to save UTF-8 on Win 7 using php?"," Update: Just to not make you reading through all: PHP starting with 7.1.0alpha2 supports UTF-8 filenames on Windows. (Thanks to Anatol-Belski!)Following some link chains on stackoverflow I found part of the answer:https://stackoverflow.com/a/10138133/3716796 by Umberto Salsi(and on the same question: https://stackoverflow.com/a/2950046/3716796 by Artefacto)In short: 'PHP communicate[s] with the underlying file system as a ""non-Unicode aware program""', and because of that all filenames given to PHP by Windows and vice versa are automatically translated/reencoded by Windows. This causes the errors. And you seemingly can't stop the automatic reencoding.(And https://stackoverflow.com/a/2888039/3716796 by Artefacto: ""PHP does not use the wide WIN32 API calls, so you're limited by the codepage."")And at https://bugs.php.net/bug.php?id=47096 there is the bug report for PHP. Though on there nicolas suggests, that a COM-object might work! $fs = new COM('Scripting.FileSystemObject', null, CP_UTF8);Maybe I will try that sometimes.So there is the part of my questionleft : Is there PHP6 out, or was it withdrawn, or is there anything new on PHP about that topic?// full QuestionThe most questions about this topic are 1 to 5 years old.Could php now save a file usingfile_put_contents($dir . '/' . $_POST['fileName'], $_POST['content']);when the $_POST['fileName'] is UTF-8 encoded, for example "".xml"" ?Currently it is saved as.xmlI checked the fileName variable, so I can be sure it's UTF-8:echo mb_detect_encoding($_POST['fileName']);Is there now anything new in PHP that could accomplish it?At some places I read PHP 6 would be able to do it, but PHP 6 if i I remember right, has been withdrawn. ?In Windows Explorer I can change the name of a file to "".xml"". As far as I have understood the old questions&answers, it should be possible to use file_put_contents if the fileName-var is simply encoded to the encoding used by windows 7 and it's NTFS disc.There is even 3 old question with answers that claim to have succeeded: PHP File Handling with UTF-8 Special Characters Convert UTF-16LE to UTF-8 in php and PHP: How to create unicode filenamesOverall and most approved answers say it is not possible. I checked all suggested answers already myself, and none works.How to definitly and with absolute accuracy find out, in which encoding my Win 7 and Explorer saves the filename on my NTFS disc and with German language setting?As said: I can create a file "".xml"" in the Explorer.My conclusion: 1. Either file_put_contents doesn'T work correctly when handing over the fileName (which I tried with conversions to UTF-16, UTF-16LE, ISO-8859-1 and Windows-1252) to Windows, 2. or file_put_contents just doesn't implement a way to call Windows' own file function in the appropriate way (so this second possibility would mean it's not a bug but just not implemented.) (For example notepad++ has no problems creating, writing and renaming a file called .xml.)Just one example of the error messages I got, in this case when I used mb_convert_encoding($theFilename , 'Windows-1252' , 'UTF-8')""Warning: file_put_contents(dirToSaveIn/????.xml): failed to open stream: No error in C:\aa xampp\htdocs\myinterface.lo\myinterface\phpWriteLocalSearchResponseXML.php on line 26 ""With other conversion I got other error messages, ranging from 'invalid characters' to no string recognized at all.GreetingsJohn  <code> ","UTF-8, PHP, Win7 - Is there a solution now to save UTF-8-filenames on Win 7 using php?"
Send mail in phpmailer usign DKIM Keys, Currents i am using phpmailer to send mail's. now how its possible to send email in phpmailer with DKIM keysi search in phpmailer Class file and i found the below code Can i know how its possible. <code>  /** * DKIM selector. * @type string */ public $DKIM_selector = ''; /** * DKIM Identity. * Usually the email address used as the source of the email * @type string */ public $DKIM_identity = ''; /** * DKIM passphrase. * Used if your key is encrypted. * @type string */ public $DKIM_passphrase = ''; /** * DKIM signing domain name. * @example 'example.com' * @type string */ public $DKIM_domain = ''; /** * DKIM private key file path. * @type string */ public $DKIM_private = '';,Send mail in phpmailer using DKIM Keys
Bash one liner - Test if a file exists and source if it does other exit with errror," In other words I want to make this into a one-liner: <code>  test -e ${MY_HOME}/setup-env.sh || { echo ""ERROR: MY_HOME not defined or does not contain srtup-env.sh"" 1>&2 ; exit 1; } . ${MY_HOME}/setup-env.sh",Bash one liner - Test if a file exists and source if it does other exit with error
Using comparison operators in PHP switch," I have four conditions that I need to go through and I thought it would be best to use the switch statement in PHP. However, I need to check whether an integer is, let's say, less than or equal, or greater than and equal. With an if() statement it would look like the following: Is that possible in switch-case? <code>  switch ($count) { case 20: $priority = 'low'; break; case 40: $priority = 'medium'; break; case 60: $priority = 'high'; break; case 80: $priority = 'severe'; break;} if ($count <= 20) { $priority = 'low';}if ($count <= 40) { $priority = 'medium';}",Using comparison operators in a PHP 'switch' statement
Not Found SoftDeletingTrait Class, I just updated from Laravel 4.1 to 4.2.7. I am trying to delete with Soft Delete using: But this gives the error 'Not Found SoftDeletingTrait Class'. What is the cause of this error? <code>  use SoftDeletingTrait;protected $dates = ['deleted_at'];,What causes the error 'Not Found SoftDeletingTrait Class'?
php create or write/append in text file," I have a website that every time a user logs in or logs out I save it to a text file.My code doesn't work in appending data or creating a text file if it does not exist.. Here is the sample code It seems it does not append to next line after I open it again.Also I think it would also have an error in a situation when 2 users login at the same time, would it affect opening the text file and saving it afterwards? <code>  $myfile = fopen(""logs.txt"", ""wr"") or die(""Unable to open file!"");$txt = ""user id date"";fwrite($myfile, $txt);fclose($myfile);",Create or write/append in text file
phpmyadmin is working fine but I can't find config.inc.php file?," This is weirdI have phpmyadmin 4.2.5 installed on my Windows 7 machine, it currently is working fine and located in localhost/phpmyadminI can view, edit, create databases, tables, etc.Now I wanted to change some settings and so I looked for the config.inc.php file in the phpmyadmin directory but it's not there?I have a config.sample.inc.php but obviously it's just a sampleI did a search and the only config.inc.php file is in the /setup/frames/ folder which is clearly not the main config file.So where is it? I installed phpmyadmin last month and I think I just copied it to my htdocs folder, nothing special, but I can't remember if I did something different. <code> ",I'm looking to have this removed somehow
how to call block method from magento template," I'm new to magento and always have issues.For now, I managed to add subscribe popup message and want to add a child block to my main block.Code:(my custom module is My_Module) and in subscribe.phtml I try the following: but the result is: string(0)""""I tried to load the block from template in this way also: but the result is boolean(false).what I want to do is call a method from child block (Newsletter.php) and this out put some text, this block for now has these two methods: I can't see were is my mistake.Can any one help me thankfully, I don't know if you need more code to post. Just let me know if you need Thanks in advance.update:config.xml file: <code>  <reference name=""before_body_end""> <block type=""newsletter/subscribe"" name=""newsletter_popup"" as=""newsletter_popup"" template=""popup/subscribe.phtml""> <block type=""Module/popup_newsletter"" name=""newsletter11"" /> </block></reference name=""before_body_end""> var_dump($this->getChildHtml('newsletter11')) var_dump($this->getLayout()->createBlock('module/popup_newsletter')); puplic function test(){ return 'this is test';}public function _toHtml(){ return test();} <?xml version=""1.0"" encoding=""UTF-8""?><config> <modules> <My_Module> <version>1.0.1</version> </My_Module> </modules> <global> <models> <my_module> <class>My_Module_Model</class> </my_module> </models> <helpers> <my_module> <class>My_Module_Helper</class> </my_module> </helpers> <blocks> <my_module> <class>My_Module_Block</class> </my_module> </blocks> </global><frontend> <routers> <My_Module> <use>standard</use> <args> <module>My_Module</module> <frontName>my</frontName> </args> </My_Module> </routers> </frontend>",how to call block method from magento 1 template
Laravel sort Relateionship," How can I sort my result with related tables?I have this tables: Clients and Managers (users table)Client.php Users.php (default Laravel's model)My question is how can I query table clients to be sorted by Manager's name.Here is my code so far: If I try to sort by Name it sorts OK by Clients name but if I try to sort by contact it needs to sort by User's (Manager's) name. <code>  <?phpclass Client extends Eloquent { protected $table = 'clients'; public function Manager(){ return $this->belongsTo('User','manager','id'); } public function Transaction(){ return $this->hasMany('ClientTransaction','client','id'); }} public function getClients() { // Sorting preparations $allowed = array('name','contact','money'); $sort = in_array(Input::get('sort'), $allowed) ? Input::get('sort') : 'name'; $order = Input::get('order') === 'desc' ? 'desc' : 'asc'; // Get Clients from DB if($sort == 'contact'){ $clients = Client::with(array('Manager' => function($query) use ($order) { $query->orderBy('name', $order); })); } else { $clients = Client::orderBy($sort, $order)->with('Manager'); } // Filters $cname = null; if(Input::has('cname')){ $clients = $clients->where('name', Input::get('cname')); $cname = '$cname='.Input::get('cname'); } // Pagination $clients = $clients->paginate(25); // Return View return View::make('pages.platform.clients') ->with('clients', $clients);}",Laravel sort Relationship
Symfony2 sessions not working as expected," My Symfony2 application displays a main page, and from there on it primarily uses AJAX requests to display content to the user via modals.I've noticed that after the user is idle for some period of time (around 15-30 minutes) the session is destroyed, and the user is logged out and needs to log in again. This is incredibly frustrating, since I can't expect users to log in again every time they've been idle for a few minutes.As far as I can tell, this problem should not be happening according to my config.yml file, which is as follows: For completeness, my current environment is as follows:Symfony 2.4.8PHP 5.4Session handler: default (file-based according to php.ini)Ubuntu Server 12.10Summary:What should be happening: users should not be logged out, even after being idle for hoursWhat is actually happening: users are being logged out after being idle for 15-30 minutesHow can I fix this? <code>  framework: session: cookie_lifetime: 0 # Session lifetime in seconds gc_maxlifetime: 28800 # Seconds after which data will be seen # as garbage and potentially cleaned up handler_id: ~ # Current using the default session handler",Symfony2 sessions not working as expected / session keeps timing out
How can I access which environment set in CodeIgniter?," I am new to CodeIgniter. I have found that, in order to manage multiple environments, CodeIgniter uses the following function in index.php to define the environment.My question is, how can I get which environment set at index.php inside my controllers? <code>  define('ENVIRONMENT', 'development');",How can I access which environment is set in CodeIgniter?
how can I use strlen in php for persian?," I have this code: Since $string has 3 Persian characters, output must be 3 but I get 6. has 3 characters. Why my output is 6 ?How can I use strlen() in php for Persian with real output? <code>  $string = '';echo strlen($string);",How can I use strlen in php for Persian?
PHP / Bootstrap 3: How to determine which grid option is used," I use Bootstrap 3 for a web page that is created using PHP and HTML.With the responsive grid and classes on Bootstrap 3 you can assign multiple classes to a div to define different widths depending on the current screen size - exmaple: This refers to the screen size using col-lg for large devices, col-md for medium devices, col-sm for small devicesand col-xs for extra small devices.It works as intended but I am wondering how I can determine which of these classes Bootstrap is using at the moment so that I can show the current size version on the screen.Is there a way I can determine which of the above grid options / col classes is currently active using PHP (or jQuery)? I could not find a proper solution for this myself. <code>  <div class=""col-lg-3 col-md-3 col-sm-4 col-xs-6"">...</div>",How to determine which grid option is currently used
Bootstrap 3: How to determine which grid option is used," I use Bootstrap 3 for a web page that is created using PHP and HTML.With the responsive grid and classes on Bootstrap 3 you can assign multiple classes to a div to define different widths depending on the current screen size - exmaple: This refers to the screen size using col-lg for large devices, col-md for medium devices, col-sm for small devicesand col-xs for extra small devices.It works as intended but I am wondering how I can determine which of these classes Bootstrap is using at the moment so that I can show the current size version on the screen.Is there a way I can determine which of the above grid options / col classes is currently active using PHP (or jQuery)? I could not find a proper solution for this myself. <code>  <div class=""col-lg-3 col-md-3 col-sm-4 col-xs-6"">...</div>",How to determine which grid option is currently used
Bootstrap 3: How to determine which grid option is currently used," I use Bootstrap 3 for a web page that is created using PHP and HTML.With the responsive grid and classes on Bootstrap 3 you can assign multiple classes to a div to define different widths depending on the current screen size - exmaple: This refers to the screen size using col-lg for large devices, col-md for medium devices, col-sm for small devicesand col-xs for extra small devices.It works as intended but I am wondering how I can determine which of these classes Bootstrap is using at the moment so that I can show the current size version on the screen.Is there a way I can determine which of the above grid options / col classes is currently active using PHP (or jQuery)? I could not find a proper solution for this myself. <code>  <div class=""col-lg-3 col-md-3 col-sm-4 col-xs-6"">...</div>",How to determine which grid option is currently used
Execute php artisan migrate and other laravel commands in remote server, I'm using Laravel 4.2 in remote server and I want to execute Laravel commands php artisan migrate but I don't know how. <code> ,"How to execute ""php artisan migrate"" and other Laravel commands in remote server?"
Use external function in array_filter," I've got an array, which I want to filter by an external variable.The situation is as follows: The first var_dump returns the ID (which is dynamically set ofcourse), however, the second var_dump returns NULL.Can anyone tell me why, and how to solve it? <code>  $id = '1';var_dump($id);$foo = array_filter($bar, function($obj){ if (isset($obj->foo)) { var_dump($id); if ($obj->foo == $id) return true; } return false;});",Use external variable in array_filter
Yii2 global filter/behavior," In my Yii2 application I'm trying to force all users to be authenticated. If they're not already authenticated they should be redirected to the login page.In Yii1 I did this by creating a class that would check if a user was logged in and attaching that class to the onBeginRequest behavior in my main config file. How can I get the same behavior in Yii2? I know I can use behavior to do this, but I wan't to add this behavior to my main config file so all requests are first checked for authentication.The working behaviors method looks like this: <code>  // Yii 1'behaviors' => array( 'onBeginRequest' => array( 'class' => 'application.components.RequireLogin', )), // Yii2public function behaviors() { return [ 'access' => [ 'class' => AccessControl::className(), 'rules' => [ [ 'actions' => ['login', 'error'], 'allow' => true, ], [ 'allow' => true, 'roles' => ['@'], ], ], ], ];}",Yii2 global filter/behavior to force user to authenticate first
Yii2 global filter/behavior to force user to authenicate first," In my Yii2 application I'm trying to force all users to be authenticated. If they're not already authenticated they should be redirected to the login page.In Yii1 I did this by creating a class that would check if a user was logged in and attaching that class to the onBeginRequest behavior in my main config file. How can I get the same behavior in Yii2? I know I can use behavior to do this, but I wan't to add this behavior to my main config file so all requests are first checked for authentication.The working behaviors method looks like this: <code>  // Yii 1'behaviors' => array( 'onBeginRequest' => array( 'class' => 'application.components.RequireLogin', )), // Yii2public function behaviors() { return [ 'access' => [ 'class' => AccessControl::className(), 'rules' => [ [ 'actions' => ['login', 'error'], 'allow' => true, ], [ 'allow' => true, 'roles' => ['@'], ], ], ], ];}",Yii2 global filter/behavior to force user to authenticate first
chessboardjs can't play a game with a set position," When I use the example 'only allow legal moves http://chessboardjs.com/examples#5000, I can move the white and black pieces.When I want to set a fen string in the config, replacing position: 'start' by position: 'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R', I can't move the pieces that have already been moved and if I move a piece that has never been moved, all the other pieces get back to the start position. <code> ",chessboard.js can't play a game with a set position
Laravel Migration table already exists but i want to add new not the older," I previously created users table. Now I have created a new migration to create a new books table inside my schema. When I try to run the command It shows: Here is my new migration table: How can I get rid of the error? <code>  php artisan migrate [Illuminate\Database\QueryException]SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'users' already exists (SQL: create table `users` (`id` int unsigned not null auto_increment primary key, `username` varchar(255) not null, `email` varchar(255) not null, `password` varchar(255) not null, `created_at` timestamp default 0 not null, `updated_at` timestamp default 0 not null) default character set utf8 collate utf8_unicode_ci) <?phpuse Illuminate\Database\Schema\Blueprint;use Illuminate\Database\Migrations\Migration;class CreateBooksTable extends Migration { public function up() { Schema::create('books', function(Blueprint $table) { $table->increments('id'); $table->string('name'); $table->string('auther'); $table->string('area'); $table->timestamps(); }); } public function down() { Schema::drop('books'); }}","Laravel Migration table already exists, but I want to add new not the older"
file_get_contents(): SSL operation failed with code 1. And more," Ive been trying to access this particular REST service from a PHP page Ive created on our server. I narrowed the problem down to these two lines. So my PHP page looks like this: The page dies on line 2 with the following errors: Warning: file_get_contents(): SSL operation failed with code 1. OpenSSL Error messages: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed in ...php on line 2 Warning: file_get_contents(): Failed to enable crypto in ...php on line 2 Warning: file_get_contents(https://maps.co.weber.ut.us/arcgis/rest/services/SDE_composite_locator/GeocodeServer/findAddressCandidates?Street=&SingleLine=3042+N+1050+W&outFields=*&outSR=102100&searchExtent=&f=json): failed to open stream: operation failed in ...php on line 2 Were using a Gentoo server. We recently upgraded to PHP version 5.6. It was after the upgrade when this problem appeared. I found when I replace the REST service with an address like https://www.google.com; my page works just fine. In an earlier attempt I set verify_peer=>false, and passed that in as an argument to file_get_contents, as described here: file_get_contents ignoring verify_peer=>false? But like the writer noted; it made no difference. Ive asked one of our server administrators if these lines in our php.ini file exist:extension=php_openssl.dllallow_url_fopen = OnHe told me that since were on Gentoo, openssl is compiled when we build; and its not set in the php.ini file. I also confirmed that allow_url_fopen is working. Due to the specialized nature of this problem; Im not finding a lot of information for help. Have any of you come across something like this? Thanks.  <code>  <?php$response = file_get_contents(""https://maps.co.weber.ut.us/arcgis/rest/services/SDE_composite_locator/GeocodeServer/findAddressCandidates?Street=&SingleLine=3042+N+1050+W&outFields=*&outSR=102100&searchExtent=&f=json"");echo $response; ?>","file_get_contents(): SSL operation failed with code 1, Failed to enable crypto"
how can i get user's location without asking for the permission or if user permitted once so need not to ask ever again?," I am creating a portal using MySQL, JavaScript and Ajax and I want to fetch user's location in terms of latitude and longitude. if it is not possible to fetch the location without asking then once user grant the permission, I could fetch the location from any page without asking ever again.Thanks in Advance. <code> ",How can I get user's location without asking for the permission or if user permitted once so need not to ask ever again?
PHP - Randomly Unset Element in Multidimensional Array if key-value Exists," I have a multidimensional array in PHP taking on the form of the following: If more than one array element contains a duplicate for the 'spot' number I would want to randomly select a single one and unset all other elements with the same 'spot' value. What would be the most efficient way to execute this? The resulting array would look like: <code>  $data = array( array('spot'=>1,'name'=>'item_1'), array('spot'=>2,'name'=>'item_2'), array('spot'=>1,'name'=>'item_3'), ); $data = array( array('spot'=>2,'name'=>'item_2'), array('spot'=>1,'name'=>'item_3'), );",Randomly Unset Element in Multidimensional Array if key-value Exists
PHP mail in Mac OS X Yosemite," I use the XAMPP stack for web development. I followed this tutorial a while ago to set my machine up to send mail from the localhost. This worked flawlessly under OS X Mavericks, but Yosemite seems to have broken it.I have tried all of the troubleshooting methods in the linked post to no avail and created this small PHP file in order to test them. This outputs false on my machine. I can still send mail using the terminal, for instance, if I run the command mail example@gmail.com my machine will send the email from my personal gmail address (the one I configured for the localhost) and it would show up in example@gmail.com's inbox. However, whenever I use the mail function in PHP the emails never arrive and are maybe never sent.I think the problem lies within sendmail, It has generated some crash reports like this... Any ideas on what Yosemite might have broken? Or has anyone else had this problem? <code>  <?php error_reporting(-1); ini_set('display_errors', 'On'); $headers = array(""From: from@example.com"", ""Reply-To: replyto@example.com"", ""X-Mailer: PHP/"" . PHP_VERSION ); $headers = implode(""\r\n"", $headers); $didhappen = mail('myemail@email.com', 'test', 'test', $headers); if($didhappen) { echo 'true'; } else { echo 'false'; }?> 10/19/14 6:42:09.407 PM ReportCrash[13377]: Saved crash report for sendmail[13376] version ??? to /Library/Logs/DiagnosticReports/sendmail_2014-10-19-184209_Trevors-MacBook-Pro.crash",sendmail in Mac OS X Yosemite
what is the difference between sqli and pdo," I have recently started learning PHP. I came to know that there has been many changes and SQL is now being avoided and has been replaced by MySQLi, but then I came to know about PDO. I have gone through many posts about these two topics, but everyone has their own opinion and I am confused. Many posts have said that MySQLi supports procedural and object oriented method whereas PDO supports only an object-oriented method.What I want to know is that:Are these two (PDO and MySQLi) just two different ways of doing the same thing or are they different from each other?If they are just two different ways to do the same thing then what is the difference between them and which one is a better way to perform the task?If learning MySQLi, which one is better method between object-oriented and procedural?For some it may seem to be a broad question, but I would be highly obliged if anyone can give specific answer for these three questions. <code> ",What is the difference between MySQLi and PDO?
OSX Home Brew PHP 5.5 with Curl triggers SSL: unable to get local issuer certificate," After installing Homebrew PHP 5.5 on Mac OS Yosemite following this answers steps, I found that I could connect to the external SSL hosts which prompted me a 'Error Number:56 Error String:SSLRead() return error -9806' before.This problem has been fixed.But now, at my day job I run into another SSL issue with another HOST: Canvas API.Running the following Curl on terminal (using OSX native curl) work fine, but through PHP I am getting SSL certificate problem: unable to get local issuer certificate. So my original issue is fixed now that I use OpenSSL in PHP Curling, but I got this new issue.I did try to add a PEM file to my php.ini, curl.cainfo = ""/usr/local/cacert.pem"" but that triggered another error I am a bit puzzled. I need to have the Brew PHP Curl version working for both API's. Now the one who wasn't working is working, but the other one which was working isn't. (throwing the unable to get local issuer certiciface message). Any wisdom would be appreciated.EDIT: Curl output from php -i: <code>  curl -v -H ""Accept: application/json"" -H ""Content-type: application/json"" -X GET \ -d '{""userid"": ""mohit"", ""password"":""password""}' https://canvas.instructure.com/api/v1/accounts error setting certificate verify locations: CAfile: /usr/local/cacert.pem CApath: none. cURL support => enabledcURL Information => 7.38.0Age => 3FeaturesAsynchDNS => NoCharConv => NoDebug => NoGSS-Negotiate => NoIDN => NoIPv6 => Yeskrb4 => NoLargefile => Yeslibz => YesNTLM => YesNTLMWB => YesSPNEGO => NoSSL => YesSSPI => NoTLS-SRP => YesProtocols => dict, file, ftp, ftps, gopher, http, https, imap, imaps, ldap, ldaps, pop3, pop3s, rtsp, smtp, smtps, telnet, tftpHost => x86_64-apple-darwin14.0.0SSL Version => OpenSSL/1.0.1jZLib Version => 1.2.5",Curl causes SSL: unable to get local issuer certificate
How to import static function with namesapce ? php, class A declared at namespace1. I want to use fun1() inside class B: How to do that ? <code>  namesapce namesapce1;class A{ public static function fun1() { }} namespace namesapce2;use ???? as fun1class B{ public static func2() { fun1(); }},How to import static function with namespace in php?
Laravel checking if record exists," I am new to Laravel. How do I find if a record exists? What can I do here to see if $user has a record? <code>  $user = User::where('email', '=', Input::get('email'));",Laravel Checking If a Record Exists
Does unused use statements decrease performance?, I want to know if unused use statements in my class affect performance of my php website?Does php include all classes in beginning or when need it? If second choice then I think it doesn't affect performance of my system. For Example: Use statement 'DbConnector' is not used <code>  use model\adapter\DbConnector;,Do unused use statements decrease performance?
PHPUnit - Test code or tested code did not (only) close its own output buffers," The question: Why would PHPUnit appear to be running in strict mode?The issue: PHPUnit 4.3.1 by Sebastian Bergmann. Configuration read from /full/path/to/configuration.xml R Time: 2.65 seconds, Memory: 11.50Mb OK, but incomplete, skipped, or risky tests! Tests: 1, Assertions: 1, Risky: 1. Done.Also: Risky Test: Test code or tested code did not (only) close its own output buffersMy PHP Version is 5.4.As stated in the documentation (https://phpunit.de/manual/current/en/strict-mode.html) this only appears to apply to PHPUnits' strict mode setting. PHPUnit can perform additional checks while it executes the tests. In addition to the fine-grained control over the various strict mode checks (see below) you may use the --strict commandline option or set strict=""true"" in PHPUnit's XML configuration file to enable all of them.- Output During Test Execution PHPUnit can be strict about output during tests. This check can be enabled by using the --disallow-test-output option on the commandline or by setting beStrictAboutOutputDuringTests=""true"" in PHPUnit's XML configuration file. A test that emits output, for instance by invoking print in either the test code or the tested code, will be marked as risky when this check is enabled.I believe though, that I did not activate strict mode. My command line is ""/usr/bin/php /usr/bin/phpunit --colors --bootstrap /full/path/to/bootstrap.php --configuration /full/path/to/configuration.xml /full/path/to/Test.php"". I also used the configuration as provided at ""https://phpunit.de/manual/current/en/appendixes.configuration.html"". I had used a shorter version of this configuration previously which provided the same result. <code>  <phpunit xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xsi:noNamespaceSchemaLocation=""http://schema.phpunit.de/4.3/phpunit.xsd"" backupGlobals=""true"" backupStaticAttributes=""false"" cacheTokens=""false"" colors=""false"" convertErrorsToExceptions=""true"" convertNoticesToExceptions=""true"" convertWarningsToExceptions=""true"" forceCoversAnnotation=""false"" mapTestClassNameToCoveredClassName=""false"" printerClass=""PHPUnit_TextUI_ResultPrinter"" processIsolation=""false"" stopOnError=""false"" stopOnFailure=""false"" stopOnIncomplete=""false"" stopOnSkipped=""false"" testSuiteLoaderClass=""PHPUnit_Runner_StandardTestSuiteLoader"" timeoutForSmallTests=""1"" timeoutForMediumTests=""10"" timeoutForLargeTests=""60"" strict=""false"" verbose=""false""></phpunit> <phpunit beStrictAboutOutputDuringTests=""false"" strict=""false"" colors=""false""></phpunit>",PHPUnit - Why would PHPUnit appear to be running in strict mode?
Try / catch in PHP," I'm following an OOP mysqli course. When connecting to the database, they use the following script: Later though, they call the database connection file with a try / catch block: Isn't a possible connection error being handled by the connection file immediately after trying to connect? Is the try / catch block basically doing the same thing? Or is the try / catch block looking for a different type of error?UPDATE: Just to clarify, after reading some of the answers. When I just do this: assuming that the database access data is wrong (for example a wrong host), I get a PHP warning but not the error output in the catch block. Shouldn't the catch detect this error?  <code>  $db = new mysqli(""host"", ""user"", ""password"", ""database"");if ($db->connect_error){ $error = $db->connect_error; echo(""Not connected: "" . $error);} try { require_once ""connection.php"";}catch (Exception $e){ $error = $e->getMessage(); echo $error;} try { $db = new mysqli(""host"", ""user"", ""password"", ""database"");}catch (Exception $e){ $error = $e->getMessage(); echo $error;}",Try / catch in mysqli
Can the order in which adding link and meta tags on head of a webpage have any adverse effect?(see dtails)," I have added this code to my webpage with .php extension Now, cssheadertop.php contains the following code The cssheaderbottom.php file has following code I want to add meta description and meta keywords tag between and just like the link tag I have added.Can it pose any problem in rendering or SEO? <code>  <?php include_once(""cssheadertop.php"")?><link rel=""stylesheet"" href=""button.css""><?php include_once(""cssheaderbottom.php"")?> <head><meta charset=""utf-8""><title>8mags - CSS Lessons</title><meta name=""viewport"" content=""width=device-width, initial-scale=1""><link rel=""stylesheet"" href=""../../bootstrap.min.css"" media=""screen""><link rel=""stylesheet"" href=""../../style.css""><link href='http://fonts.googleapis.com/css?family=Roboto+Condensed' rel='stylesheet' type='text/css'><link href='http://fonts.googleapis.com/css?family=Coda' rel='stylesheet' type='text/css'><script type=""text/javascript"" src=""http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js""></script> <style> page specific style here. </style> </head> <?php include_once(""cssheadertop.php"")?> <?php include_once(""cssheaderbottom.php"")?>",Can the order in which adding link and meta tags on head of a webpage have any adverse effect?
using number_format method in laravel, I am fairly new in Laravel and Blade templating.Can anyone help show me how to do this? I have a view like this: I want the $Expense->price and$Expense->amount to be formatted.I tried using it on the $Expense->amount as number_format($Expense->amount) but it didn't work. <code>  @foreach ($Expenses as $Expense) <tr> <td>{{{ $Expense->type }}}</td> <td>{{{ $Expense->narration }}}</td> <td>{{{ $Expense->price }}}</td> <td>{{{ $Expense->quantity }}}</td> <td>{{{ $Expense->amount }}}</td> </tr>@endforeach,Using number_format method in Laravel
Yii2 DetailView Value of column using function()," I get an error when I use a function to get the value of an attribute and it's working normally using Gridview. What I'm doing wrong? <code>  <?= DetailView::widget([ 'model' => $model, 'attributes' => [ [ 'label' => 'subject_type', 'value' => function ($data) { return Lookup::item(""SubjectType"", $data->subject_type); }, 'filter' => Lookup::items('SubjectType'), ], 'id', 'subject_nature', ],]) ?>",Yii2 DetailView: value of attribute using a function
Sorthing integer value in php," I have 19 variables in a php file. What i need, I need to show only top 5 value. And there is similar value for some variables. In that case, I need to show the first value only if it is in the top 5 value. I am not having any clue on doing this. After receiving some feedback given bellow, i have used array and asort Here is the example- The output looks like this: I need the reverse result. Meaning, 32, 19, 18, 12.....Any help. Just dont know the exact command <code>  $a = 20;$b = 23;$c = 2;$d = 92;$e = 51;$f = 27;$g = 20;$h = 20;..........$s = 32; <?php$fruits = array(""a"" => ""32"", ""b"" => ""12"", ""c"" => ""19"", ""d"" => ""18"");asort($fruits);foreach ($fruits as $key => $val) { echo ""$key = $val\n"";}?> b = 12 d = 18 c = 19 a = 32 ",Sorting integer value in php
PHP GuzzleHttp . How make post request with params?," How to make a post request with GuzzleHttp( version 5.0 ).I am trying to do the following: But I am getting the error: PHP Fatal error: Uncaught exception 'InvalidArgumentException' with the message 'No method can handle the email config key' <code>  $client = new \GuzzleHttp\Client();$client->post( 'http://www.example.com/user/create', array( 'email' => 'test@gmail.com', 'name' => 'Test user', 'password' => 'testpassword' ));",PHP GuzzleHttp. How to make a post request with params?
PHP array copying and passing," I'm trying to figure out how does PHP load arrays to memory and when does passing an array consume memory.So Ive got this little bit of code running: note that the input array is less important in this example: This consumes exactly 250 kB of memory, this means the array is roughly 250 kB in size, roughly.So I ran the following code: According to what I read and was told, PHP doesnt actually copy the array, it only references the original array, but once a change is made PHP has to copy the entire array.Imagine my surprise when the above code consumes exactly 500 kB of RAM.Can anyone explain whats going on here? Just to be clear, all these indices (05 and id) already exist in the original array, Im just modifying the value. The original value is some integer.EDITJust to clear the involvement of $this->result(); Here's another test I've conducted : This time the output is exactly 250 kB - Just like the original trial without any changesEDIT #2As requested, I've ran the code from here on my setup, to make sure results are consistent :http://pastebin.com/cYNg4cg7These are the results : DECLARATION: 4608 kBFINAL: 8904 kBDIFF TO DECLARATION: 4296 kBSo even though the declaration was 4608 and the array was passed and changed 4 times, it's still only less than doubled the memory footprint. EDIT #3 I've ran the memory changes after each allocation : DECLARATION: 5144 kBallocating A0 added : 144 kBallocating A1 added : 1768 kBallocating A2 added : 1768 kBallocating A3 added : 1768 kBFINAL: 10744 kBDIFF TO DECLARATION: 5600 kBEach following operation after the first costs exactly the same, which seems to indicate the exact same size is being copied. This seems to support Austin's answer, The only thing that doesn't add up now is the size that's allocated, But that's a different question .Seems like Austin's on the ball, I'll accept it if no other answer comes by. <code>  <?phpecho $this->getMemoryUsage();$arr = $query->result_array(); // array of arrays from codeigniterecho $this->getMemoryUsage(); <?phpecho $this->getMemoryUsage();$arr = $query->result_array(); // array of arrays from codeigniter$arr[0]['id'] = 'changing this value';$foo = $arr;$foo[2]['id'] = 'changing this value again';$bar = $foo;$bar[4]['id'] = 'changing this value again and again';$far = $bar;$far[5]['id'] = 'changing this value again and again and again';echo $this->getMemoryUsage(); echo $this->getMemoryUsage(); $arr = $query->result_array(); // array of arrays from codeigniter//$arr[0]['id'] = 'changing this value'; $foo = $arr; $foo[2]['id'] = 'changing this value again'; //$bar = $foo; //$bar[4]['id'] = 'changing this value again and again'; // //$far = $bar; //$far[4]['id'] = 'changing this value again and again and again'; echo $this->getMemoryUsage();",How does PHPs array memory usage management work?
Use a string of values (or an array) to navigate an array," I've to implement a setter in PHP, that allows me to specify the key, or sub key, of an array (the target), passing the name as a dot-separated-keys value.Given the following code: From the value of $key I want to reach the value 5 of $arr['b']['x']['z'].Now, given a variable value of $key and a different $arr value (with different deepness).How can I set the value of the element referred by by $key?For the getter get() I wrote this code: To write a setter is more difficult because I succeed in reaching the right element (from the $key), but I am not able to set the value in the original array and I don't know how to specify the keys all at once.Should I use some kind of backtracking? Or can I avoid it? <code>  $arr = array('a' => 1, 'b' => array( 'y' => 2, 'x' => array('z' => 5, 'w' => 'abc') ), 'c' => null);$key = 'b.x.z';$path = explode('.', $key); public static function get($name, $default = null){ $setting_path = explode('.', $name); $val = $this->settings; foreach ($setting_path as $key) { if(array_key_exists($key, $val)) { $val = $val[$key]; } else { $val = $default; break; } } return $val;}",How to access and manipulate multi-dimensional array by key names / path?
How to write getter/setter to access multi-leveled array by dot separated key names?," I've to implement a setter in PHP, that allows me to specify the key, or sub key, of an array (the target), passing the name as a dot-separated-keys value.Given the following code: From the value of $key I want to reach the value 5 of $arr['b']['x']['z'].Now, given a variable value of $key and a different $arr value (with different deepness).How can I set the value of the element referred by by $key?For the getter get() I wrote this code: To write a setter is more difficult because I succeed in reaching the right element (from the $key), but I am not able to set the value in the original array and I don't know how to specify the keys all at once.Should I use some kind of backtracking? Or can I avoid it? <code>  $arr = array('a' => 1, 'b' => array( 'y' => 2, 'x' => array('z' => 5, 'w' => 'abc') ), 'c' => null);$key = 'b.x.z';$path = explode('.', $key); public static function get($name, $default = null){ $setting_path = explode('.', $name); $val = $this->settings; foreach ($setting_path as $key) { if(array_key_exists($key, $val)) { $val = $val[$key]; } else { $val = $default; break; } } return $val;}",How to access and manipulate multi-dimensional array by key names / path?
How to write getter/setter to access multi-level array by key names?," I've to implement a setter in PHP, that allows me to specify the key, or sub key, of an array (the target), passing the name as a dot-separated-keys value.Given the following code: From the value of $key I want to reach the value 5 of $arr['b']['x']['z'].Now, given a variable value of $key and a different $arr value (with different deepness).How can I set the value of the element referred by by $key?For the getter get() I wrote this code: To write a setter is more difficult because I succeed in reaching the right element (from the $key), but I am not able to set the value in the original array and I don't know how to specify the keys all at once.Should I use some kind of backtracking? Or can I avoid it? <code>  $arr = array('a' => 1, 'b' => array( 'y' => 2, 'x' => array('z' => 5, 'w' => 'abc') ), 'c' => null);$key = 'b.x.z';$path = explode('.', $key); public static function get($name, $default = null){ $setting_path = explode('.', $name); $val = $this->settings; foreach ($setting_path as $key) { if(array_key_exists($key, $val)) { $val = $val[$key]; } else { $val = $default; break; } } return $val;}",How to access and manipulate multi-dimensional array by key names / path?
How to access / manipulate multi-level array by key names / path?," I've to implement a setter in PHP, that allows me to specify the key, or sub key, of an array (the target), passing the name as a dot-separated-keys value.Given the following code: From the value of $key I want to reach the value 5 of $arr['b']['x']['z'].Now, given a variable value of $key and a different $arr value (with different deepness).How can I set the value of the element referred by by $key?For the getter get() I wrote this code: To write a setter is more difficult because I succeed in reaching the right element (from the $key), but I am not able to set the value in the original array and I don't know how to specify the keys all at once.Should I use some kind of backtracking? Or can I avoid it? <code>  $arr = array('a' => 1, 'b' => array( 'y' => 2, 'x' => array('z' => 5, 'w' => 'abc') ), 'c' => null);$key = 'b.x.z';$path = explode('.', $key); public static function get($name, $default = null){ $setting_path = explode('.', $name); $val = $this->settings; foreach ($setting_path as $key) { if(array_key_exists($key, $val)) { $val = $val[$key]; } else { $val = $default; break; } } return $val;}",How to access and manipulate multi-dimensional array by key names / path?
Doctrine: How don't understand how this code work (from documentation)," In the Doctrine documentation there is this code: What I don't understand is the last part, where, after setting the product name with $product->setName(), the $entityManager->flush() method is called: It seems to me that there is no connection between the $product variable and the $entityManager variable, except for the fact that $product should contain the response from the $entityManager->find() method.How is it possible that $entityManager->flush() can read values set by $product->setName()? <code>  <?php// update_product.php <id> <new-name>require_once ""bootstrap.php"";$id = $argv[1];$newName = $argv[2];$product = $entityManager->find('Product', $id);if ($product === null) { echo ""Product $id does not exist.\n""; exit(1);}$product->setName($newName);$entityManager->flush(); $product->setName($newName);$entityManager->flush();",How does doctrine entity manager flush() method works?
Doctrine: How does flush() mechanism work? (I don't understand how this code work - from documentation)," In the Doctrine documentation there is this code: What I don't understand is the last part, where, after setting the product name with $product->setName(), the $entityManager->flush() method is called: It seems to me that there is no connection between the $product variable and the $entityManager variable, except for the fact that $product should contain the response from the $entityManager->find() method.How is it possible that $entityManager->flush() can read values set by $product->setName()? <code>  <?php// update_product.php <id> <new-name>require_once ""bootstrap.php"";$id = $argv[1];$newName = $argv[2];$product = $entityManager->find('Product', $id);if ($product === null) { echo ""Product $id does not exist.\n""; exit(1);}$product->setName($newName);$entityManager->flush(); $product->setName($newName);$entityManager->flush();",How does doctrine entity manager flush() method works?
How does the flush() mechanism work?," In the Doctrine documentation there is this code: What I don't understand is the last part, where, after setting the product name with $product->setName(), the $entityManager->flush() method is called: It seems to me that there is no connection between the $product variable and the $entityManager variable, except for the fact that $product should contain the response from the $entityManager->find() method.How is it possible that $entityManager->flush() can read values set by $product->setName()? <code>  <?php// update_product.php <id> <new-name>require_once ""bootstrap.php"";$id = $argv[1];$newName = $argv[2];$product = $entityManager->find('Product', $id);if ($product === null) { echo ""Product $id does not exist.\n""; exit(1);}$product->setName($newName);$entityManager->flush(); $product->setName($newName);$entityManager->flush();",How does doctrine entity manager flush() method works?
Get latest Facebook posts of page witj JS SDK," The following code is inside a file called facebook_posts.php which I call from my index file like so: <?php require_once(""http://www.example.com/design/php/facebook_posts.php""); ?>. However, where this code is put, there is no response. So neither success, nor the catch errors return an error (as I see it). I tried absolute URLs, but that didn't work either. (I hid the api and page information.) Apparently the content that follows the require_once (footer and scripts) aren't loaded. Something seems to go wrong when including the SDK.I'm not using composer, do I need to require the Facebook\ files or use them? And which ones do I need for retrieving posts from a page? EDIT: so I just required in all the FB files, and that seems to work. However, I don't know how to traverse/iterate the object that is returned. I.e. how to loop through the different posts (the four latest posts by the page) and echo them in HTML. A base structure would look like this: <code>  <?php// Defining FB SDK with absolute pathsdefine('FACEBOOK_SDK_V4_SRC_DIR', 'http://example.com/design/Facebook/');require 'http://example.com/design/php/autoload.php';use Facebook\FacebookSession;use Facebook\FacebookRequest;use Facebook\GraphUser;use Facebook\FacebookRequestException;FacebookSession::setDefaultApplication('{my-app-id}','{my-app-secret}');$session = new FacebookSession('{my-long-lived-access-token}');// Get the GraphUser object for the current user:try {$request = new FacebookRequest( $session, 'GET', '/{my-page-id}/feed');$response = $request->execute();$graphObject = $response->getGraphObject();var_dump($graphObject);echo graphObject;echo ""banana"";} catch (FacebookRequestException $e) { echo ""API ERROR"";} catch (\Exception $e) { echo ""other error"";}?> <time>{publish date}</time><p>{post message}</p><a href=""{link to included url}"">{title to included url}</a>",Get latest Facebook posts of page with PHP SDK
Get latest Facebook posts of page with JS SDK," The following code is inside a file called facebook_posts.php which I call from my index file like so: <?php require_once(""http://www.example.com/design/php/facebook_posts.php""); ?>. However, where this code is put, there is no response. So neither success, nor the catch errors return an error (as I see it). I tried absolute URLs, but that didn't work either. (I hid the api and page information.) Apparently the content that follows the require_once (footer and scripts) aren't loaded. Something seems to go wrong when including the SDK.I'm not using composer, do I need to require the Facebook\ files or use them? And which ones do I need for retrieving posts from a page? EDIT: so I just required in all the FB files, and that seems to work. However, I don't know how to traverse/iterate the object that is returned. I.e. how to loop through the different posts (the four latest posts by the page) and echo them in HTML. A base structure would look like this: <code>  <?php// Defining FB SDK with absolute pathsdefine('FACEBOOK_SDK_V4_SRC_DIR', 'http://example.com/design/Facebook/');require 'http://example.com/design/php/autoload.php';use Facebook\FacebookSession;use Facebook\FacebookRequest;use Facebook\GraphUser;use Facebook\FacebookRequestException;FacebookSession::setDefaultApplication('{my-app-id}','{my-app-secret}');$session = new FacebookSession('{my-long-lived-access-token}');// Get the GraphUser object for the current user:try {$request = new FacebookRequest( $session, 'GET', '/{my-page-id}/feed');$response = $request->execute();$graphObject = $response->getGraphObject();var_dump($graphObject);echo graphObject;echo ""banana"";} catch (FacebookRequestException $e) { echo ""API ERROR"";} catch (\Exception $e) { echo ""other error"";}?> <time>{publish date}</time><p>{post message}</p><a href=""{link to included url}"">{title to included url}</a>",Get latest Facebook posts of page with PHP SDK
Laravel: how to translate this SQL into the Query Builder?," Edit:Though this question originally was specific for the query I'm describing underneath, the answer I got applies to almost all questions related to using derived tables / subqueries in Laravel Original Question:Lately I'm a bit stuck on the laravel query builder. It has some really nice features but I feel like it just isn't build for more complex database operations. This is the query I'm trying to build: Explanation of the query:I'm building a faceted search for my product catalog in laravel. Products are narrowed down based on the filters/attributes users provide. For better user experience I want to show the amount of products left for each filter, that's what the query above does: counting all the products for a certain attribute WHERE the product_id is IN an array of product id's.My try: Please help me because I don't like to use a DB::raw() or DB::select() statement. That wouldn't feel ""Laravelish"" or ""Eloquent"". <code>  select 'IFNULL(counted.product_count, 0) AS product_count', 'uncounted.value', 'uncounted.attribute_id', 'uncounted.attribute_option_id' from ( select 'counted.id', 'counted.attribute_id', 'counted.value', 'count(counted.attribute_id) AS product_count' from `attribute_options` as `counted` where `counted.product_id` in (?, ?, ?, ?, ?) group by `counted.attribute_option_id` ) as 'counted' right join 'attribute_options' as 'uncounted' on 'counted.id' = 'uncounted.id' group by 'attribute_option_id' $productIds = [ 1, 2, 3, 4, 5 ]; $subQuery = \DB::table('attribute_options')->selectRaw('counted.id, counted.attribute_id, counted.value, count(counted.attribute_id) AS product_count') ->from('attribute_options AS counted') ->whereIn('counted.product_id', $productIds) ->groupBy('counted.attribute_option_id') ->mergeBindings($subQuery); $query = Model::selectRaw('IFNULL(counted.product_count, 0) AS product_count, uncounted.value, uncounted.attribute_id, uncounted.attribute_option_id') ->from(\DB::raw(' ( ' . $subQuery->toSql() . ' ) AS counted ')) ->rightJoin('attribute_options AS uncounted', 'counted.id', '=', 'uncounted.id') ->groupBy('attribute_option_id') ->get();",Laravel: how to use derived tables / subqueries in the laravel query builder
gridview row as link except action column in Yii2," When i use the below code it overrides the action-column delete/update links. As I have many columns it would be good to specify link url in one place instead of using the below code in each column: So is there any best way to give link for whole row in GridView except action column?EDIT: Full Gridview <code>  'rowOptions' => function ($model, $key, $index, $grid) { return [ 'id' => $model['id'], 'onclick' => 'location.href=""' . Yii::$app->urlManager->createUrl('accountinfo/update') .'?id=""+(this.id);', ];}, 'value' => function ($data) { return Html::url('site/index'); } GridView::widget([ 'dataProvider' => $dataProvider, 'filterModel' => $searchModel, 'rowOptions' => function ($model, $index, $widget, $grid) { if ($widget == 1) return [ 'id' => $model['id'], 'onclick' => 'location.href=""' . Yii::$app->urlManager->createUrl('accountinfo/update') . '?id=""+(this.id);' ]; }, 'columns' => [ ['class' => 'yii\grid\SerialColumn'], // 'id', 'f_name', 'l_name', 'address', 'country', 'state', 'city', 'pincode', [ 'attribute' => 'status', 'value' => function ($model, $key, $index, $column) { return $model->status == '1' ? 'Enabled' : 'Disabled'; }, 'filter' => [1 => 'Enabled', 0 => 'Disabled'], ], 'card', 'note', 'balance', 'is_new', [ 'attribute' => 'is_new', 'value' => function ($model, $key, $index, $column) { return $model->is_new == '1' ? 'Yes' : 'No'; }, 'filter' => [1 => 'Yes', 0 => 'No'], ], [ 'class' => 'yii\grid\ActionColumn', 'template' => '{update}&nbsp;&nbsp;{delete}', ], ],]);","GridView row as link, except action column items in Yii2"
ext-mcrypt error while installing laravel," I am beginner in laravel in ubuntu 14.04.I try to run this following commend for install laravel. and i got following error.i am also try to install ncrypt but i got same error. i am also try to run this command but i got this same error. Thanks in advance.. <code>  composer create-project laravel/laravel --prefer-dist Installing laravel/laravel (v5.0.1) - Installing laravel/laravel (v5.0.1) Loading from cache Created project in /opt/lampp/htdocs/laravel Loading composer repositories with package information Installing dependencies (including require-dev) Your requirements could not be resolved to an installable set of packages. Problem 1 - laravel/framework v5.0.2 requires ext-mcrypt * -> the requested PHP extension mcrypt is missing from your system. - laravel/framework v5.0.1 requires ext-mcrypt * -> the requested PHP extension mcrypt is missing from your system. - laravel/framework v5.0.0 requires ext-mcrypt * -> the requested PHP extension mcrypt is missing from your system. - Installation request for laravel/framework 5.0.* -> satisfiable by laravel/framework[v5.0.0, v5.0.1, v5.0.2]. sudo apt-get install mcrypt php5-mcryptsudo php5enmod mcryptsudo service apache2 restart",ext-mcrypt error while installing laravel on ubuntu 14.04
php - iconv convert from UTF-8 to Windows-1250 doesn't work," I've always had problems with iconv. Now I must convert string to Windows-1250 and this doesn't seems to work: The three echos above output exactly this: Since I've always seen this diamond question marks I wonder if this PHP function works at all. How can I convert UTF-8 to Windows-1250?The file was saved in notepad+ in UTF-8Also I've tried header('Content-Type: text/html; charset=windows-1250'); and setLocale() <code>  $string = ""aa ho papuha, ogrcal mi krpce!"";echo $string . ' ( ' . mb_detect_encoding($string) . ' ) <br>';$string_encoded = iconv( mb_detect_encoding( $string ), 'Windows-1250//TRANSLIT', $string );echo $string_encoded . ' ( ' . mb_detect_encoding($string_encoded) . ' ) <br>';$string_encoded = mb_convert_encoding( $string, 'Windows-1250' );echo $string_encoded . ' ( ' . mb_detect_encoding($string_encoded) . ' ) <br>'; aa ho papuha, ogrcal mi krpce! ( UTF-8 )aa ho papuha, ogrcal mi krpce! ( ) mb_convert_encoding() Unknown encoding &quot;Windows-1250&quot; ( ASCII )",Iconv convert from UTF-8 to Windows-1250 doesn't work
Wordpress Core Update Fail," I currently have Wordpress 4.1, trying to update to 4.1.1.I've updated several times in the past via the Dashboard > Updates module. This time around, when I attempt to update, I'm met with a blank page after entering my FTP password. The ""blank"" page isn't entirely blank. The top and left menus of the dashboard show, but the content area is blank. The URL of the page is @HOME/wp-admin/update-core.php?action=do-core-upgrade&_wpnonce=7b6cf80aadI've tried using the default theme, as well as disabling all plugins. Nothing changes.On one occasion, I caught these errors in the Google Chrome console: This is ONLY happening with the Core Update. I can still install/delete plugins no problem. What other factors could affect the core update in this fashion? <code>  Failed to clear temp storage: It was determined that certain files are unsafe for access within a Web application, or that too many calls are being made on file resources. SecurityErrorFailed to create temp file 2 : It was determined that certain files are unsafe for access within a Web application, or that too many calls are being made on file resources.",Wordpress Core Update Fail (4.1 to 4.1.1)
url redirect to login page," I created my website, but I want to require users to log in before they can access certain pages. For example, my home page is index.php, having url (www.sample.com/index.php). There is a login button in this page will redirect to login.php. In login.php page I have an edit button, and onclick event takes to edit.php.Now, if I paste the URL www.sample.com/edit.php in the addressbar, it goes directly to edit.php, but I want it to take to index.php if the user is not logged in, similar to how Google requires authentication. <code> ",Redirect to login page if user is not logged in
How can I get the State for a given zipcode?," I don't need the city or address, just the state. And I don't want to make an API call if possible. The priority is a light-weight solution, ideally just Javascript.I have a user-input zipcode, and I want to display a paragraph of text depending on the state that the zipcode is in. I know it's much more complicated to lookup City and State, and for that an API such as the one the USPS exposes is probably best. But to just match state, perhaps on just the first three numbers, the solution (I think) should be easy and lightweight. Javascript ideally. PHP could also work. <code> ",How can I quickly determine the State for a given zipcode?
How can I get the State (city and address not needed) for a given zipcode?," I don't need the city or address, just the state. And I don't want to make an API call if possible. The priority is a light-weight solution, ideally just Javascript.I have a user-input zipcode, and I want to display a paragraph of text depending on the state that the zipcode is in. I know it's much more complicated to lookup City and State, and for that an API such as the one the USPS exposes is probably best. But to just match state, perhaps on just the first three numbers, the solution (I think) should be easy and lightweight. Javascript ideally. PHP could also work. <code> ",How can I quickly determine the State for a given zipcode?
Yii2: Correct Way to use Jui Date Picker," My Jui Date Time Picker was working perfectly, I am not sure if I have made any changes in config anywhere, but now the date-picker field is showing the format as if it is asking for time with the date.This is my code for the date field: in my Web.php config the relevant code for dates is like Now I am trying to enter the date I am getting the field like 12/07/2014:and colon after the field as if I need to add the time part, where from it is coming, I couldn't find.date-picker <code>  <?= $form->field($model, 'joining_date')->widget(DatePicker::className(), ['clientOptions' =>[ 'dateFormat' => 'dd-mm-yyyy', 'showAnim'=>'fold', 'changeMonth'=> true, 'changeYear'=> true, 'autoSize'=>true, 'showOn'=> ""button"", 'buttonImage'=> ""images/calendar.gif"", 'htmlOptions'=>[ 'style'=>'width:80px;', 'font-weight'=>'x-small', ],]]) ?> 'formatter' => [ 'defaultTimeZone' => 'UTC', 'timeZone' => 'Asia/Kolkata', 'dateFormat' => 'php:d-m-Y', 'datetimeFormat'=>'php:d-M-Y H:i:s' ],",Yii2: Correct Way to use Jui DatePicker
Class 'App\Http\Controllers\admin\Auth' not found in laravel 5," I am getting error like Class App\Http\Controllers\admin\Auth not found in Laravel 5 during login.Routes.php AdminHomeController.php login.blade.php <code>  Route::group(array('prefix'=>'admin'),function(){ Route::get('login', 'admin\AdminHomeController@showLogin'); Route::post('check','admin\AdminHomeController@checkLogin'); }); <?php namespace App\Http\Controllers\admin;use App\Http\Requests;use App\Http\Controllers\Controller;use Illuminate\Http\Request;class AdminHomeController extends Controller { // public function showLogin() { return view('admin.login'); } public function checkLogin(Request $request) { $data=array( 'username'=>$request->get('username'), 'password'=>$request->get('password') ); if(Auth::attempt($data)) { return redirect::intended('admin/dashboard'); } else { return redirect('admin/login'); } } public function logout() { Auth::logout(); return redirect('admin/login'); } public function showDashboard() { return view('admin.dashboard'); }} <html><body> {!! Form::open(array('url' => 'admin/check', 'id' => 'login')) !!} <input type=""text"" name=""username"" id=""username"" placeholder=""Enter any username"" /> <input type=""password"" name=""password"" id=""password"" placeholder=""Enter any password"" /> <button name=""submit"">Sign In</button> {!! Form::close() !!}</body></html>",Class 'App\Http\Controllers\admin\Auth' not found in Laravel 5
How to modify cart total amount with filter or hook - WooCommerce," Okay so I'm trying to write a filter or hook that will modify the total amount of the shopping cart depending on the total overall amount of items in the shopping cart. For example, if there are three items in the shopping cart, I want to deduct twenty dollars from the total order. Below is the code I have so far, any help is greatly appreciated! <code>  add_filter('woocommerce_cart_contents_total', 'bundle_deals');function bundle_deals( $cart_contents_total, $cart_contents_count) { global $woocommerce; if ($woocommerce->cart->get_cart()->cart_contents_count <= 3) { $cart_contents_total = $woocommerce->cart->get_cart()->cart_contents_total - 20.00; } return $cart_contents_total;}",Modify cart total amount with filter or hook
how to get innerhtml of an element from php," I have two files:mainpage.html and recordinput.phpI need get a div's innerhtml from the mainpage.html in my php file.I have copied the code here: in my php file, I have The return is just empty. Any body helps me? I have spent two days on this. I feel like the problem is in here: Thanks <code>  $dochtml = new DOMDocument();//libxml_use_internal_errors(true);$dochtml->loadHTMLFile(""mainpage.html"");$div = $dochtml->getElementById('div2');$div2html = get_inner_html($div);echo ""store information as: "".$div2html;function get_inner_html(DOMNode $elem ) { $innerHTML = "" "";$children = $elem->childNodes;foreach ($children as $child){ $innerHTML .= $elem->ownerDocument->saveHTML( $child );}echo ""function return: "".$innerHTML.""<br />"";return $innerHTML; } $dochtml->loadHTMLFile(""mainpage.html"");",How to get innerhtml of an element from PHP
How to show render time / page load time in laravel 4?, I'm using Laravel and want to display render time / page load time in my web application. Can you help me? <code> ,How to show render time / page load time in Laravel?
"Laravel ->paginate() Returns 0 Results, ->get() Returns 3"," I'm having an issue with Laravel's ->paginate() method. Basically, I have a dynamic query that, based on the GET parameters passed to the controller, has or does not have a ::where() clause in it. Without the ::where(), I can call ->paginate(100) and split the result set into pages of 100. When trying to do the same thing with ::where(...)->paginate(100) I get 0 results.At first I thought my query was wrong, but removing the ->paginate(100) and replacing it with ->get() returns the expected number of results. Here is the complete code: I'm not sure why ->paginate() is returning 0 results. Also, dd($templates) returns the entire object(Illuminate\Pagination\Paginator) collection, which has my results, but not in an accessible way. If you want to see the result I'm talking about, run dd() on a query without ->get(), ->first() or ->paginate() <code>  $search = ((Input::get(""search"") != """") ? Input::get(""search""):"""");$field = ((Input::get(""field"") != """") ? Input::get(""field""):"""");if($search != """" && $field != """"){ $templates = Template::where($field, ""LIKE"", $search) ->orderBy($sort, $order) ->paginate(100); // Fails (0 Results) ->get(); // Works (3 Results)} else { $templates = Template::orderBy($sort, $order) ->paginate(100); }",Laravel Paginate Not Working with ::where(...)
HtmlPurifier - allow data attibute," I'm trying to allow some data-attribute with htmlPurifier for all my span but no way...I have this string: My htmlpurifier config: I purify my $value like this: And get this : But how to conserve my data attributes id, data-time-start, data-time-end in my span ? I need to have this : I tried to test with this config: but error message : User Warning: Attribute 'data-time-start' in element 'span' not supported (for information on implementing this, see the support forums)Thanks for your help !!EDIT 1 I tried to allow ID in the firdt time with this code line: It doesn't work for me ...EDIT 2For data-* attributes, I add this line but nothing happened too... <code>  <p> <span data-time-start=""1"" data-time-end=""5"" id=""5""> <word class=""word"">My</word> <word class=""word"">Name</word> </span> <span data-time-start=""6"" data-time-end=""15"" id=""88""> <word class=""word"">Is</word> <word class=""word"">Zooboo</word> </span><p> $this->HTMLpurifierConfigInverseTransform = \HTMLPurifier_Config::createDefault();$this->HTMLpurifierConfigInverseTransform->set('HTML.Allowed', 'span,u,strong,em');$this->HTMLpurifierConfigInverseTransform->set('HTML.ForbiddenElements', 'word,p');$this->HTMLpurifierConfigInverseTransform->set('CSS.AllowedProperties', 'font-weight, font-style, text-decoration');$this->HTMLpurifierConfigInverseTransform->set('AutoFormat.RemoveEmpty', true); $purifier = new \HTMLPurifier($this->HTMLpurifierConfigInverseTransform);var_dump($purifier->purify($value));die; <span>My Name</span><span>Is Zoobo</span> <span data-time-start=""1"" data-time-end=""5"" id=""5"">My Name</span data-time-start=""6"" data-time-end=""15"" id=""88""><span>Is Zoobo</span> $this->HTMLpurifierConfigInverseTransform->set('HTML.Allowed', 'span[data-time-start],u,strong,em'); $this->HTMLpurifierConfigInverseTransform->set('Attr.EnableID', true); $def = $this->HTMLpurifierConfigInverseTransform->getHTMLDefinition(true);$def->addAttribute('sub', 'data-time-start', 'CDATA');$def->addAttribute('sub', 'data-time-end', 'CDATA');",HtmlPurifier - allow data attribute
PHP Slim Framewrok : The requested URL was not found on this server," For one of the projects, i am using Slim Framework http://www.slimframework.com/ to create restful APIs in PHP. I did a manual install for the framework by copying it in the PHP project folder using instructions at https://github.com/slimphp/Slim. Later i updated my .htaccess as well. For my project, I have the following Directory Structure For this, the Get call i.e. http://someIp/project/ works for me. It fetches the standard ""Welcome to Slim! Congratulations! Your Slim application is running. If this is your first time using Slim, start with this ""Hello World"" Tutorial.""However, post/patch/delete and other get are not working. Not even get for hello. It gives the not found error.http://someIp/project/hello/:nameThe requested URL /project/hello/:name was not found on this server.http://someIp/project/postThe requested URL /project/post was not found on this server.Updated my .htaccess file as : Still it is failing.When i made changes into the apache config file to allowOverride = all, it failed even for the GET call on index.php. For sure, it is not mapping from .htaccess. I am still clueless what changes i need to make to .htaccess or any other file to get it working. Here is the code:  <code>  project\----slim\----tests\----index.php----.htaccess RewriteEngine OnRewriteBase /project/RewriteCond %{REQUEST_FILENAME} !-fRewriteRule ^ index.php [QSA,L] \Slim\Slim::registerAutoloader();/** * Step 2: Instantiate a Slim application * * This example instantiates a Slim application using * its default settings. However, you will usually configure * your Slim application now by passing an associative array * of setting names and values into the application constructor. */$app = new \Slim\Slim();/** * Step 3: Define the Slim application routes * * Here we define several Slim application routes that respond * to appropriate HTTP request methods. In this example, the second * argument for `Slim::get`, `Slim::post`, `Slim::put`, `Slim::patch`, and `Slim::delete` * is an anonymous function. */// GET route$app->get( '/', function () { $template = ""hi""; echo $template; });//$app->get(// '/v1/status/',// function() {// echo ""status"";// }//);//$app->get('/hello/:name', function ($name) { echo ""Hello, $name"";});// POST route$app->post( '/post', function () { echo 'This is a POST route'; });// PUT route$app->put( '/put', function () { echo 'This is a PUT route'; });// PATCH route$app->patch('/patch', function () { echo 'This is a PATCH route';});// DELETE route$app->delete( '/delete', function () { echo 'This is a DELETE route'; });/** * Step 4: Run the Slim application * * This method should be called last. This executes the Slim application * and returns the HTTP response to the HTTP client. */$app->run();",PHP Slim Framework: The requested URL was not found on this server
How to calculate a CRC32 of an arrayBuffer (javascript) compatible with php," On the client side (Javascript) I'm using the FileReader() Object to read a local file from a browser and this file is sent to the server (PHP) thanks to the XMLHttpRequest() object. The object I recover thanks to the FileReader object is an arrayBuffer. This ArrayBuffer object is used to represent a generic, fixed-length raw binary data buffer and its content can not be manipulate directly.To optimize the transfer I split the file in several chunk. I want to check the integrity of each chunk transferred (Each chunk is about 100KB). The idea is to calculate the CRC on the javascript side and the server side, then compare the two CRC to check the integrity and retry the transfer if needed.JAVASCRIPT PHP <code>  var fileReader = new FileReader();fileReader.onload = function(event){ var arrayBuffer = event.target.result; // // TODO : calculate the crc of this arrayBuffer var xhr = new XMLHttpRequest(); ... xhr.open(YourMethod,YourUrl,true); ... xhr.addEventListener('loadend', function (event) { var CRCFromPhp = event.target.responseText; // TODO : compare the CRC from php with the CRC from javascript }}fileReader.readAsArrayBuffer(blob); $file_crc = hash_file(""crc32b"",$target_file,FALSE); $file_crc = sprintf('%u',hexdec($file_crc)); echo $file_crc; ",How to calculate the CRC of an arrayBuffer (From FileReader in javascript) compatible with the CRC32 function in php?
Fatal error: cURL error 7: Failed to connect to xxxx port 443," I have a script that connects to a third party API. It is and should be running on a non-stop loop 24/7 (I use a sleep at the end before restarting the loop).The problem is that sometimes the third party API gets ddosed or the connection simply drops with this error: Fatal error: Uncaught exception 'GuzzleHttp\Ring\Exception\ConnectException' with message 'cURL error 7: Failed to connect to xxx.com port 443Is there any way to ""break"" on this fatal error to ensure the code is restarted and proceed if the action can be made or must I manually restart each time I get this error? <code> ",How to handle Fatal error: cURL error 7: Failed to connect to xxxx port 443
"Woocommerce: which hook to use instead of deprecated ""woocommerce_add_order_item_meta"""," Need to add custom meta to order items. Googled it and most articles says to use ""woocommerce_add_order_item_meta"" hook. This hook is deprecated in the newest version 2.3.7. Someone, please tell me which hook to use instead.http://docs.woothemes.com/wc-apidocs/function-woocommerce_add_order_item_meta.html  <code> ","Woocommerce: Which hook to replace deprecated ""woocommerce_add_order_item_meta"""
How to display default image if particular image is not available in Database," How to display the particular image in case if that image is not available in database? I have database name:projecttable name: imagefields: id (int), file (varchar) [image url stored here], name (varchar) [image description]PHP code is here: <code>  <?php$con=mysql_connect(""localhost"",""root"","""") or die(""no connection "");mysql_select_db(""project"")or die(""no database exit"");echo ""<h2 align='center'>Displaying image from database</h2>"";$res=mysql_query(""SELECT * FROM image"");echo ""<table>"";while ($row=mysql_fetch_array($res)) { echo ""<tr>""; echo ""<td>"";echo $row[""id""];echo ""</td>""; echo ""<td>""; ?> <img src=""<?php echo $row[""file""]; ?>"" height=""100px"" width=""150px""> <?php echo ""</td>""; echo ""<td>""; echo $row[""name""]; echo ""</td>""; echo ""</tr>""; }?></table>",How to display default image if particular image is not available in database?
Using Content-ID and cid for embedded email images," I'm generating emails in a PHP application which attach multiple files to an HTML email. Some of the files are Excel spreadsheets, some of the files are company logos which need to be embedded in the HTML so they load by default using Content-ID and cid identifiers to refer to the attached images.As far as I can see, my syntax is correct, but the images don't ever load inline (they are attached successfully, however). Can anybody see an obvious reason why the image won't embed as expected?EDITNote this behaviour isn't general to all email clients. So far only noted in Thunderbird. <code>  From: email@example.comReply-To: email@example.comMIME-Version: 1.0Content-type: multipart/mixed;boundary=""d0f4ad49cc20d19bf96d4adf9322d567""Message-Id: <20150421165500.0A5488021B@server>Date: Tue, 21 Apr 2015 12:54:59 -0400 (EDT)--d0f4ad49cc20d19bf96d4adf9322d567Content-type: text/html; charset=utf-8Content-transfer-encoding: 8bit<html> Html message goes here, followed by email.<br/> <img src=""cid:mylogo"" /></html>--d0f4ad49cc20d19bf96d4adf9322d567Content-type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet; name=excelsheet.xlsxContent-Description: excelsheet.xlsxContent-Disposition: attachment; filename=""excelsheet.xlsx""; size=24712;Content-transfer-encoding:base64[base64 encoded string goes here.]--b19e863e2cf66b40db1d138b7009010cContent-Type: image/jpeg; name=""mylogo.jpg""Content-transfer-encoding:base64Content-ID: <mylogo>Content-Disposition: inline; filename=""mylogo.jpg""; size=7579;[base64 encoded string goes here.]--b19e863e2cf66b40db1d138b7009010c--",Using Content-ID and cid for embedded email images in Thunderbird
PHP Array combing not working," COMPANY ARRAY DISTANCE ARRAY What I'd like the output to look like: Question:array_push($company_array,$distance_array); seems to not do what I want it do.It adds it to the end, but not where i want it to (notice the difference in where it is placed): <code>  array(1) { [0]=> array(19) { [""entityid""]=> string(4) ""3626"" [""entityparentid""]=> string(1) ""0"" [""entityduplicateof""]=> string(1) ""0"" [""entitytype""]=> string(1) ""0"" [""entityname""]=> string(12) ""Facebook Inc"" } } array(1) { [""distance""]=> string(4) ""1.22"" } array(1) { [0]=> array(19) { [""entityid""]=> string(4) ""3626"" [""entityparentid""]=> string(1) ""0"" [""entityduplicateof""]=> string(1) ""0"" [""entitytype""]=> string(1) ""0"" [""entityname""]=> string(12) ""Facebook Inc"" [""distance""]=> string(4) ""1.22"" // here }} array(1) { [0]=> array(19) { [""entityid""]=> string(4) ""3626"" [""entityparentid""]=> string(1) ""0"" [""entityduplicateof""]=> string(1) ""0"" [""entitytype""]=> string(1) ""0"" [""entityname""]=> string(12) ""Facebook Inc"" }, [""distance""]=> string(4) ""1.22"" // not here} ",PHP Array combining not working
what is bool and tinyint difference in mysql?," When I was using type as bool when creating table it was directly converted into tinyint (1) , I don't know exact deference why mysql convert it into tinyint instead of datatype bool ?  <code> ",why mysql conver bool into tinyint(1) instead it should be bool into mysql table
The action you have have requested is not allowed. Codigniter, I'm trying to make a simple login system in codeigniter. When I click on my button login I get an error: The action you have requested is not allowed.When I open my console I see this: POST http://localhost/PHP/PROJECT/CodeIgniter/ 403 (Forbidden)This is my view: This is my model: and this is my controller: How do I solve this problem?  <code> ,The action you have requested is not allowed. Codeigniter
The action you have requested is not allowed. Codigniter, I'm trying to make a simple login system in codeigniter. When I click on my button login I get an error: The action you have requested is not allowed.When I open my console I see this: POST http://localhost/PHP/PROJECT/CodeIgniter/ 403 (Forbidden)This is my view: This is my model: and this is my controller: How do I solve this problem?  <code> ,The action you have requested is not allowed. Codeigniter
How to correctly link php-fpm and Nginx Docker containers together?," I am trying to link 2 separate containers:nginx:latestphp:fpmThe problem is that php scripts do not work. Perhaps the php-fpm configuration is incorrect.Here is the source code, which is in my repository. Here is the file docker-compose.yml: and Dockerfile which I used to build a custom image based on the nginx one: Lastly, here is my custom Nginx virtual host config: Could anybody help me configure these containers correctly to execute php scripts?P.S.I run containers via docker-composer like this:docker-compose upfrom the project root directory. <code>  nginx: build: . ports: - ""80:80"" - ""443:443"" volumes: - ./:/var/www/test/ links: - fpmfpm: image: php:fpm ports: - ""9000:9000"" FROM nginx# Change Nginx config here...RUN rm /etc/nginx/conf.d/default.confADD ./default.conf /etc/nginx/conf.d/ server { listen 80; server_name localhost; root /var/www/test; error_log /var/log/nginx/localhost.error.log; access_log /var/log/nginx/localhost.access.log; location / { # try to serve file directly, fallback to app.php try_files $uri /index.php$is_args$args; } location ~ ^/.+\.php(/|$) { fastcgi_pass 192.168.59.103:9000; fastcgi_split_path_info ^(.+\.php)(/.*)$; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param HTTPS off; }}",How to correctly link php-fpm and Nginx Docker containers?
Getting error mysqli::real_connect(): (HY000/2002): No such file or directory when i try to access my project on live server," I had uploaded my website to server and then I tried to access, but the code igniter returns me that error that I don't find any answer. Why is this happening?My config database is set like: <code>  $db['default'] = array('dsn' => '','hostname' => 'localhost','username' => 'netservice','password' => '*********','database' => 'valedastrutas','dbdriver' => 'mysqli','dbprefix' => '','pconnect' => FALSE,'db_debug' => FALSE,'cache_on' => FALSE,'cachedir' => '','char_set' => 'utf8','dbcollat' => 'utf8_general_ci','swap_pre' => '','encrypt' => FALSE,'compress' => FALSE,'stricton' => FALSE,'failover' => array(),'save_queries' => TRUE,);",Getting error mysqli::real_connect(): (HY000/2002): No such file or directory when I try to access my project on live server
PHP Determining Background Color of Image," I've been looking at CustomInk's design lab and I am very curious as to how they decide what color is the background color. For example, If I upload the Facebook logo, they decide to remove the blue from the image. But if I upload a picture of an apple with a white background, then they remove the white in a similar fashion. (even though the white background is not the dominant color)Using ImageMagick in PHP, how could I also achieve this task? <code> ",PHP Determining and Removing Background Color of Image
Illuminate on Laravel 5," What is the right way to use the classes HTML and FORM, from illuminate of Laravel 4 in Laravel 5?In Laravel 4 I can use like this: I can add inputs as follows: How could I do the same thing in Laravel 5? <code>  {{ Form::open(array('url' => 'foo/bar')) }} // Anything{{ Form::close() }} {{ Form::text('username'); }}{{ Form::text('email', 'example@gmail.com'); }}{{ Form::password('password'); }}{{ Form::email($name, $value = null, $attributes = array()); }}{{ Form::file($name, $attributes = array()); }}",Using HTML & Form helpers in Laravel 5
How efficient is insert_last_id?," I recently came across a problem where I needed to be able to grab the last ID of a query I've inserted on a page. The process was quite simple, but I'd like some reassurance on how the process is done. Here's how my code is: As you can see I have just inserted something into mybb_quickexample, which then generates an ID. Now in the code directly under it, I try to locate the ID. As you can see, it grabs the recent ID and puts it into the new table. Allowing for these 2 tables to correspond with each other later on when I need them to.However, does insert_last_id grab the last row inserted into the database or the last row inserted into the database on the page? Now I'm not entirely sure of the mechanics behind this, but I ask this because, what if a person was to load this page at the same exact time as another person? Would there be unmatched ID grabs or would the code still work? <code>  $query30 = $db->query(""INSERT `mybb_quickexample` SET `player1` = '"".$row19[username].""', `player2` = '"".$row18[username].""', `games` = '"".$numberofgames.""'"")or die( mysqli_error()); $mmid = $db->insert_id(); foreach($_POST['optiontitle'] as $val){$val = $db->escape_string($val); //echo $val;$query30 = $db->query(""INSERT `mybb_quickexample2` SET `gid` = '"".$id.""', `mid` = '"".$mmid.""', `optiontitle` = 'OPTION TITLE', `option1` = '$val'"")or die( mysqli_error());}",How efficient is Last_insert_id?
Displaying a nested array in a nested HTML table," This is a simple problem that I've been trying to solve for several hours. I have an array containing information of several students and marks they scored in tests. There are 8 subjects in total, with each subject having 5 parameters.The array looks like below: I need to display the following in a nicely formatted HTML table (I'm planning to use Bootstrap), but I can't for the life of me figure out how to properly nest the table using PHP.This is the HTML markup that I currently have: http://jsfiddle.net/9y910uvp/This gives the following result:Which is okay. The Actual ProblemI'm using PHP to display the contents from the array. I'm confused how to display the values for the nested <tr> and <td> sections.How do I loop through the array and display the contents correctly? (I'd post my attempts so far, but they're all stupid and not working so I'm not posting).An example would be greatly appreciated because I've spent countless hours trying to get this working, but failed terribly. <code>  Array( [Ron] => Array ( [subject1] => Array ( [test1] => 47 [test2] => 86 [total] => 133 [percentage] => 88.67 [status] => Pass ) [pass_count] => 8 [fail_count] => 0 [gross_total] => 963 [gross_percentage] => 80.25 [...] [subject8] => Array ( [test1] => 48 [test2] => 86 [total] => 134 [percentage] => 89.33 [status] => Pass ) [pass_count] => 8 [fail_count] => 0 [gross_total] => 900 [gross_percentage] => 75.50 ) [John] => Array ( [subject1] => Array ( [test1] => 39 [test2] => 72 [total] => 111 [percentage] => 74 [status] => Pass ) [pass_count] => 8 [fail_count] => 0 [gross_total] => 963 [gross_percentage] => 80.25 [...] [subject8] => Array ( [test1] => 39 [test2] => 75 [total] => 114 [percentage] => 76 [status] => Pass ) [pass_count] => 8 [fail_count] => 0 [gross_total] => 846 [gross_percentage] => 70.5 ))",Displaying a nested array in an HTML table
ReCaptcha 2.0: enable Submit button only if Successful," I have a very simple form as follows. I want to make it so that the Submit button is disabled, and only enabled after the user has successfully completed the ReCaptcha.I'm assuming I'm going to need some Javascript / jQuery to do this.Google's documentation on ReCaptcha 2.0 seems really sparse and dense (to me, anyway). I'd appreciate some pointers: <code>  <form action=""something.php"" method=""post""> Name: <input type=""text"" size=""40"" name=""name""><br><br> <div class=""g-recaptcha"" data-sitekey=""############-#####""></div> <input type=""submit"" value=""Submit"" ></form>",ReCaptcha 2.0: enable Submit button on callback if recaptcha successful
Get HTTP status Ngnix," Using .htaccess and ErrorDocument 404 /error.php, if access an invalid url eg.: http://example/css/invalid-file.css: Output: But in Nginx using error_page 404 /error.php; this is not working, the result in Nginx is: Note: REDIRECT_URL and REDIRECT_REQUEST_METHOD are undefinedsHow to set the variables $_SERVER[REDIRECT_STATUS], $_SERVER[REDIRECT_REQUEST_METHOD] and $_SERVER[REDIRECT_URL] using Ngnix?fastcgi_params file: <code>  <?phpecho 'REDIRECT_STATUS: ', $_SERVER['REDIRECT_STATUS'], PHP_EOL, 'REDIRECT_URL: ', $_SERVER['REDIRECT_URL'], PHP_EOL, 'REDIRECT_REQUEST_METHOD: ', $_SERVER['REDIRECT_REQUEST_METHOD']; REDIRECT_STATUS: 404REDIRECT_URL: /css/invalid-file.cssREDIRECT_REQUEST_METHOD: GET REDIRECT_STATUS: 200REDIRECT_URL: REDIRECT_REQUEST_METHOD: fastcgi_param QUERY_STRING $query_string;fastcgi_param REQUEST_METHOD $request_method;fastcgi_param CONTENT_TYPE $content_type;fastcgi_param CONTENT_LENGTH $content_length;fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;fastcgi_param SCRIPT_NAME $fastcgi_script_name;fastcgi_param PATH_INFO $fastcgi_path_info;fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info;fastcgi_param REQUEST_URI $request_uri;fastcgi_param DOCUMENT_URI $document_uri;fastcgi_param DOCUMENT_ROOT $document_root;fastcgi_param SERVER_PROTOCOL $server_protocol;fastcgi_param GATEWAY_INTERFACE CGI/1.1;fastcgi_param SERVER_SOFTWARE nginx/$nginx_version;fastcgi_param REMOTE_ADDR $remote_addr;fastcgi_param REMOTE_PORT $remote_port;fastcgi_param SERVER_ADDR $server_addr;fastcgi_param SERVER_PORT $server_port;fastcgi_param SERVER_NAME $server_name;fastcgi_param HTTPS $https;# PHP only, required if PHP was built with --enable-force-cgi-redirectfastcgi_param REDIRECT_STATUS 200;",Retrieve REDIRECT_STATUS with error_page
"Get method, url and http status from redirect"," Using .htaccess and ErrorDocument 404 /error.php, if access an invalid url eg.: http://example/css/invalid-file.css: Output: But in Nginx using error_page 404 /error.php; this is not working, the result in Nginx is: Note: REDIRECT_URL and REDIRECT_REQUEST_METHOD are undefinedsHow to set the variables $_SERVER[REDIRECT_STATUS], $_SERVER[REDIRECT_REQUEST_METHOD] and $_SERVER[REDIRECT_URL] using Ngnix?fastcgi_params file: <code>  <?phpecho 'REDIRECT_STATUS: ', $_SERVER['REDIRECT_STATUS'], PHP_EOL, 'REDIRECT_URL: ', $_SERVER['REDIRECT_URL'], PHP_EOL, 'REDIRECT_REQUEST_METHOD: ', $_SERVER['REDIRECT_REQUEST_METHOD']; REDIRECT_STATUS: 404REDIRECT_URL: /css/invalid-file.cssREDIRECT_REQUEST_METHOD: GET REDIRECT_STATUS: 200REDIRECT_URL: REDIRECT_REQUEST_METHOD: fastcgi_param QUERY_STRING $query_string;fastcgi_param REQUEST_METHOD $request_method;fastcgi_param CONTENT_TYPE $content_type;fastcgi_param CONTENT_LENGTH $content_length;fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;fastcgi_param SCRIPT_NAME $fastcgi_script_name;fastcgi_param PATH_INFO $fastcgi_path_info;fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info;fastcgi_param REQUEST_URI $request_uri;fastcgi_param DOCUMENT_URI $document_uri;fastcgi_param DOCUMENT_ROOT $document_root;fastcgi_param SERVER_PROTOCOL $server_protocol;fastcgi_param GATEWAY_INTERFACE CGI/1.1;fastcgi_param SERVER_SOFTWARE nginx/$nginx_version;fastcgi_param REMOTE_ADDR $remote_addr;fastcgi_param REMOTE_PORT $remote_port;fastcgi_param SERVER_ADDR $server_addr;fastcgi_param SERVER_PORT $server_port;fastcgi_param SERVER_NAME $server_name;fastcgi_param HTTPS $https;# PHP only, required if PHP was built with --enable-force-cgi-redirectfastcgi_param REDIRECT_STATUS 200;",Retrieve REDIRECT_STATUS with error_page
how i can rotate a matrix 90 degrees using php," I want to rotate a matrix 90 degrees clockwise. This amounts to making the first column in the input the first row of the output, the second column of the input the 2nd row of the output, and the 3rd column of the input the 3rd row of the output. Note that the bottom of the column=the beginning of the row, because of the 90 degree rotation.For example: What I know is I have first transpose the matrix and then swap the columns to rotate the matrix by 90 degrees. How can this be applied to php? <code>  $matrix= [[1, 2, 3] [4, 5, 6], [7, 8, 9]];rotate90degrees($matrix)= [[7, 4, 1], [8, 5, 2], [9, 6, 3]]",How can I rotate a 2d array in php by 90 degrees
How can I rotate a matrix 90 degrees using php," I want to rotate a matrix 90 degrees clockwise. This amounts to making the first column in the input the first row of the output, the second column of the input the 2nd row of the output, and the 3rd column of the input the 3rd row of the output. Note that the bottom of the column=the beginning of the row, because of the 90 degree rotation.For example: What I know is I have first transpose the matrix and then swap the columns to rotate the matrix by 90 degrees. How can this be applied to php? <code>  $matrix= [[1, 2, 3] [4, 5, 6], [7, 8, 9]];rotate90degrees($matrix)= [[7, 4, 1], [8, 5, 2], [9, 6, 3]]",How can I rotate a 2d array in php by 90 degrees
How can I rotate a matrix 90 degrees using php?," I want to rotate a matrix 90 degrees clockwise. This amounts to making the first column in the input the first row of the output, the second column of the input the 2nd row of the output, and the 3rd column of the input the 3rd row of the output. Note that the bottom of the column=the beginning of the row, because of the 90 degree rotation.For example: What I know is I have first transpose the matrix and then swap the columns to rotate the matrix by 90 degrees. How can this be applied to php? <code>  $matrix= [[1, 2, 3] [4, 5, 6], [7, 8, 9]];rotate90degrees($matrix)= [[7, 4, 1], [8, 5, 2], [9, 6, 3]]",How can I rotate a 2d array in php by 90 degrees
Can i provide an encrypted string to users and be sure it is safe for 1-2 hours," We were making kind of a simple game,in which:Users receive the next number of play as an encrypted string Before they playAfter they play, the encryption password is provided to them to check the play number was correct.Each encrypted string is only valid for 1-2 hours and number of play , verificating string and encrypted string is regenerated again after that timeThe encrypted string includes a verification (5 char) code so both users and we can make sure Decryption process was successfulSample Character to get Encrypted (QQ9LU is random verification code provided to user before the play):Next Play Number: 8 - Verify String: QQ9LUSample Encrypted String (provided to user before play):NXRykKOv3B6kuu4Ke3svp7HH3enNiqIZrJSXJiF54QkHHjtXgqpUXxyuP7YUNICeFLg==Sample Password (provided after play):Please note this is generated randomly for each encryptionFA00RDjA77hlOzcOzH6kuGcc29CyM7HwWe use CodeIgniter 2.2.2 Encryption Class to encrypt/decrypt stringsEncryption Method Info:Function Used: $this->encrypt->encode($msg, $pass); with random pass each timeCipher is CodeIgniter 2 default MCRYPT_RIJNDAEL_256Mcrypt mode is MCRYPT_MODE_CBCMy Questions are:Can i trust that users cannot break the encrypted string (and know the number of play before they get the password) in 1-2 hours (aside from getting lucky)Is placing random verification code Verify String: T3YH4 in there good or bad? does is affect security? (this is to verify decryption result was successful, also we added it because the only variable in each string was a single digit, for example only number 8 changes to 7, so we wanted to add more variable characters to the string to possibly have a better security)Any other suggestion is appreciated <code> ",Can I provide an encrypted string to users and be sure it is safe for 1-2 hours
instanceof operator returns false for true condition," I'm thoroughly confused as to why php's instanceof operator insists that the LVALUE here is not an instance of the defined class when get_class says that it is. The output from this method is: For reference, I'm using PHP 5.6.9. <code>  class WhereIn { public function __construct($args) { echo ""is instanceof: "" . ($args[0] instanceof ActiveRecordField) . EOL; echo ""get class: "" . get_class($args[0]) . EOL; }} is instanceof: get class: ActiveRecordField",PHP instanceof returns false for true condition
Redirect 302 on Laravel POST Request," I'm developing a Laravel Web Service. When I try my POST routes with web forms, everything works fine, but when I try the same with a REST Client like Postman it doesn't get me the response that should.It gives me status code 302, and redirects to ""/"". What's the problem? <code> ",Redirect 302 on Laravel POST request
how apply limit just for joining table in mysql query?," I have two table named category and content (each category can have many contents), and this is my query I want to apply limit on it that query fetch 10 content for each category.How should I query for this? <code>  SELECT * FROM categories ca LEFT JOIN content co ON co.cat_id=ca.id",How to apply a limit just for joining table in MySQL query?
PHP - Case insensitive Image Search," I need to check the image folder for adding some product images. My product list array has SKUs such as a48be25, A48be29, A48BE30 and my image folder has images such as a48BE25_1.jpg, a48bE29_2.JPG, A48BE30_1.jpg and so on. As you can see, the images and SKUs are mixed. I need to somehow match SKUs to the file names. If I use glob(""my/dir/{$SKU}*.jpg""), it won't work in case sensitive operating systems according to the best of my knowledge. Is there a way to force glob to search in a case-insensitive way?EDIT: I don't think this thread is a duplicate of this one. I am saying this because in my case I can have many SKUs that can have mixed cases. In the mentioned thread, OP only had the word CSV in mixed cases, so glob('my/dir/*.[cC][sS][vV]') could work well there. <code> ",PHP - Case insensitive File Search
Doctrine2's ManyToMany relationship with latin1 charset and MyISAM engine for the linking table," I'm building this ManyToMany relationship between my two entities in Symfony2 and wish to have the linking table to be of charset latin1 and engine MyISAM (they are UTF-8 and InnoDB by default).Here they are :Entity\Commande Entity\Paiement As you can see, I know how to properly set this information for my entity tables but how can I do for the paiement_commande table?I tried: But I got, from the $ php app/console doctrine:schema:validate command : How can I set this ManyToMany relationship between my two entities and still be able to specify both engine and charset for the newly created linking table?Thanks for the help! <code>  <?php// .../** * Commande * * @ORM\Table(name=""commande"", options={""collate""=""latin1_general_ci"", ""charset""=""latin1"", ""engine"":""MyISAM""}) * @ORM\Entity() */class Commande{ // ... /** * @var ArrayCollection * * @ORM\ManyToMany(targetEntity=""Paiement"", inversedBy=""commandes"", cascade={""persist""}) * @ORM\JoinTable(name=""paiement_commande"", * joinColumns={@ORM\JoinColumn(name=""commande_id"", referencedColumnName=""id"")}, * inverseJoinColumns={@ORM\JoinColumn(name=""paiement_id"", referencedColumnName=""id"")} * ) */ private $paiements; <?php// .../** * Paiement * * @ORM\Table(name=""paiement"", options={""collate""=""latin1_general_ci"", ""charset""=""latin1"", ""engine"":""MyISAM""}) * @ORM\Entity() */class Paiement{ // ... /** * @var ArrayCollection * * @ORM\ManyToMany(targetEntity=""Commande"", mappedBy=""paiements"", cascade={""persist""}) * @ORM\JoinTable(name=""paiement_commande"") */ private $commandes; /* * @ORM\JoinTable(name=""paiement_commande"", options={""collate""=""latin1_general_ci"", ""charset""=""latin1"", ""engine"":""MyISAM""}) */private $commandes; [Doctrine\Common\Annotations\AnnotationException] [Creation Error] The annotation @ORM\JoinTable declared on property Entity\Paiement::$commandes does not have a property named ""options"". Available properties: name, schema, joinColumns, inverseJoinColumns ",Change charset and engine for Doctrine2's ManyToMany relationship's intermediary table
core ui select not working for mobile users," I am using the script ""core ui select"" to style my forms on my website. Everything was working fine for desktop users, but since a while there is a lot of reports from users using mobiles. They say that they can't modify the option because it is greyed out.So i did the test using a firefox plugin called ""Default User Agent"" and i switched my browser agent to iPhone. Then i realised that the whole form stopped working, but only for mobile users Here's a test page if you want to see the problem live (you would have to change your user agent to reproduce the bug) :https://www.ni-dieu-ni-maitre.com/test_mobile.phpAnd here's the code of the page. <code>  <script type=""text/javascript"" src=""https://www.no-gods-no-masters.com/scripts/jquery-1.8.2.min.js""></script><link href=""https://www.no-gods-no-masters.com/scripts/css/core-ui-select.css"" media=""screen"" rel=""stylesheet"" type=""text/css""><link href=""https://www.no-gods-no-masters.com/scripts/css/jquery.scrollpane.css"" media=""screen"" rel=""stylesheet"" type=""text/css""> <script> $(document).ready(function(){ $('#impression').coreUISelect(); }); </script></head><body><select class=""b-core-ui-select__dropdown"" name=""impression"" id=""impression""><option>Printing on front</option><option>Printing on back</option></select><script src=""https://www.no-gods-no-masters.com/scripts/js/jquery.core-ui-select.js""></script></body></html>",Core ui select not working for mobile users
2 mysql tables USERS and FLASHCARDS - modify one depending on the other?," I'm implementing a flashcard app, hence my FLASHCARDS table contains fields such as QUESTION and RESPONSE, and my USERS table is just that - names and personal info of my flashcard app.Here's where I get confused. The FLASHCARDS table will hold 100s of questions and responses categorized into ""groups"" of flashcards (or decks). When the USERS ""use"" the flashcards they will also be able to decide if the question was EASY, NORMAL, or DIFFICULT - hence modifying the time till the card is next shown.If I only had one user this wouldn't be a problem - I'd just modify the FLASHCARDS table accordingly, but Ill also have 100s of users. How can I modify FLASHCARDS table depending on each USERS decision of EASY, NORMAL or DIFFICULT and keep record of all of this for each user (I imagine in USERS table). <code> ",MySQL tables USERS and FLASHCARDS - how to modify one depending on the other?
Configure Select2 Widget Manually on Yii2 Framework," I want to install Select 2 extension widget manually with Yii2 Framework without using composer.I done the following steps but it's not working.1) Added yii2-widget-select2 to vendor/yii-soft2) Added following code in my yii-soft/extensions.php: 3) Added display in view form: And It shows the following error: PHP Fatal Error yii\base\ErrorException. Class 'kartik\select2\Select2' not found <code>  'yiisoft/yii2-widget-select2' => array( 'name' => 'yiisoft/yii2-widget-select2', 'version' => '2.0.3.0', 'alias' => array( '@yii/kartik' => $vendorDir . '/yiisoft/yii2-widget-select2', ),), use kartik\select2\Select2;<?php echo Select2::widget([ 'model' => $model, 'attribute' => 'state_2', 'data' => $data, 'options' => ['placeholder' => 'Select a state ...'], 'pluginOptions' => [ 'allowClear' => true, ],]); ?>",Install Yii2 extension manually without using Composer
call stored procedure on laravel," Error comes when i run update stored procedure in laravel5 like this.. QueryException in Connection.php line 620: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Sandeep,09999999999,,,sandeep@gmail.com,,,,,,,)' at line 1 (SQL: call sp_clientupdate(108, Sandeep,09999999999,,,sandeep@gmail.com,,,,,,,))my code is.... Pls anyone give me solution..... <code>  return DB::select('call sp_clientupdate(108, Sandeep,0999999999,,,sandeep@gmail.com,,,,,,,)');",How to call stored procedure on Laravel?
how to call stored procedure on laravel?," Error comes when i run update stored procedure in laravel5 like this.. QueryException in Connection.php line 620: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'Sandeep,09999999999,,,sandeep@gmail.com,,,,,,,)' at line 1 (SQL: call sp_clientupdate(108, Sandeep,09999999999,,,sandeep@gmail.com,,,,,,,))my code is.... Pls anyone give me solution..... <code>  return DB::select('call sp_clientupdate(108, Sandeep,0999999999,,,sandeep@gmail.com,,,,,,,)');",How to call stored procedure on Laravel?
json_decode AND json_encode long integers without loosing data," As noted in the PHP documentation, when json_decodeing a data structure containing long integers, they'll be converted to floats. The workaround is to use JSON_BIGINT_AS_STRING, which preserves them as strings instead. When json_encodeing such values, JSON_NUMERIC_CHECK will encode those numbers back into large integers: Using this method for a correct roundtrip of the data is prone to errors. If a property contains '123', a numeric string which should stay a string, it will be encoded to an integer.I want to get an object from the server, modify one property and than put the entire data structure back. I need to preserve the original types. I don't want to maintain properties other than the one I'm manipulating.Is there any real workaround for this? PHP does not have any issues with big ints anymore, but the json_decode routine seems to be outdated. <code>  $json = '{""foo"":283675428357628352}';$obj = json_decode($json, false, JSON_BIGINT_AS_STRING);$json2 = json_encode($obj, JSON_NUMERIC_CHECK);var_dump($json === $json2); // true",json_decode AND json_encode long integers without losing data
Laravel SMTP driver with TLS encryption," I'm trying to send an email with this configuration: When I submit the form I receive this erorr: I found this solution where people seems to have solved the problem with the same library but I cant manage to solve it in Laravel.https://github.com/PHPMailer/PHPMailer/issues/368 <code>  return [ 'driver' => 'smtp', 'host' => 'mail.mydomain.com', 'port' => 26, 'from' => ['address' => 'mailer@mydomain.com', 'name' => 'Mailer'], 'encryption' => 'tls', 'username' => env('MAIL_USERNAME'), 'password' => env('MAIL_PASSWORD'), 'sendmail' => '/usr/sbin/sendmail -bs', 'pretend' => false,]; ErrorException in StreamBuffer.php line 95:stream_socket_enable_crypto(): SSL operation failed with code 1.OpenSSL Error messages:error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed",How to deal with self-signed TLS certificates in Laravel's SMTP driver?
POD Insert data double time on single query," I have a terrible problem with pdo statements.My class generate a SQL Query based on the Object, then forward the query and params to Bd Class and execute, but data is inserted twice to database.Table in database Generated query Generated params array call Db function Bd Class (just functions used to this job) I have no more ideas how to solve this problem <code>  CREATE TABLE IF NOT EXISTS `es_simple_object` ( `id_object` int(10) unsigned NOT NULL AUTO_INCREMENT, `active` tinyint(1) NOT NULL, PRIMARY KEY (`id_object`)) ENGINE=InnoDB DEFAULT CHARSET=utf8; INSERT INTO es_simple_object (es_simple_object.id_object, es_simple_object.active) VALUES (NULL, ?) Array( [0] => 1) static::$db = Db::getInstance(); static::$db->_execute($sql, $params); public static function getInstance() { if (!isset(self::$instance)) self::$instance = new Db(); return self::$instance; } private function __construct() { $connection = 'mysql:host='.$this->server.'; port='.$this->port.'; dbname='._DB_NAME_.'; charset='._DB_CHARSET_; try { $this->link = new PDO($connection, _DB_USER_, _DB_PASSWD_); $this->link->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); } catch (PDOException $ex) { Tools::_catchException($ex); exit; } return $this->link; } public function _execute($sql, $params = array()) { try { $pdoStatement = $this->link->prepare($sql); $pdoStatement->execute($params == null ? array(null) : $params); $this->rows_affected = $pdoStatement->rowCount(); $this->rows_returned = $pdoStatement->columnCount(); $this->last_id = $this->link->lastInsertId(); $this->result = $pdoStatement; return $pdoStatement; } catch (PDOException $ex) { Tools::_catchException($ex, array($sql, $params)); return false; } }",PDO Inserts data twice on single query
PDO Insert data double time on single query," I have a terrible problem with pdo statements.My class generate a SQL Query based on the Object, then forward the query and params to Bd Class and execute, but data is inserted twice to database.Table in database Generated query Generated params array call Db function Bd Class (just functions used to this job) I have no more ideas how to solve this problem <code>  CREATE TABLE IF NOT EXISTS `es_simple_object` ( `id_object` int(10) unsigned NOT NULL AUTO_INCREMENT, `active` tinyint(1) NOT NULL, PRIMARY KEY (`id_object`)) ENGINE=InnoDB DEFAULT CHARSET=utf8; INSERT INTO es_simple_object (es_simple_object.id_object, es_simple_object.active) VALUES (NULL, ?) Array( [0] => 1) static::$db = Db::getInstance(); static::$db->_execute($sql, $params); public static function getInstance() { if (!isset(self::$instance)) self::$instance = new Db(); return self::$instance; } private function __construct() { $connection = 'mysql:host='.$this->server.'; port='.$this->port.'; dbname='._DB_NAME_.'; charset='._DB_CHARSET_; try { $this->link = new PDO($connection, _DB_USER_, _DB_PASSWD_); $this->link->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION); } catch (PDOException $ex) { Tools::_catchException($ex); exit; } return $this->link; } public function _execute($sql, $params = array()) { try { $pdoStatement = $this->link->prepare($sql); $pdoStatement->execute($params == null ? array(null) : $params); $this->rows_affected = $pdoStatement->rowCount(); $this->rows_returned = $pdoStatement->columnCount(); $this->last_id = $this->link->lastInsertId(); $this->result = $pdoStatement; return $pdoStatement; } catch (PDOException $ex) { Tools::_catchException($ex, array($sql, $params)); return false; } }",PDO Inserts data twice on single query
Removing white-space AJAX response <span>," I have a php script which returns 0.28. This is then fetched to HTML using AJAX, and inserted into a span. The problem is, it is inserted with 5 spaces and what appears to be a newline. jQuery then sees that as a change and updates the existing span with the new value when there is no change. It appears that the whitespace does not come from the php. I have tried:to trim() and ltrim() the php to get rid of whitespaceremove php exit tagwhite-space-collapsing: discard; in the css and using the !important tag(this is not being read and the chrome yellow alert is on it)trimming the response with jqueryusing html notes to cut the spaceDumping the php variable: This is how my browser returns it This is my script And my html php $balance holds 0.26 <code>  string(4) ""0.28"" <span id=""response1"" style=""display: inline;"">*5spaceshere* 0.28</span> $(function () { function update() { $.ajax({ type: ""GET"", url: ""balancefetch.php"", dataType: ""html"", success: function (response) { var trimmedResponse = $.trim(response) if (trimmedResponse != $(""#response1"").html()) { $(""#response1"").fadeOut(200, function () { $(""#response1"").html(response); $(""#response1"").fadeIn(); }); } else {} } }); } setInterval(update, 5000); update();}); <div id=""balance-div""><!----><p class=""balance"">Balance<span id=""response1"">Loading...</span></p><!----></div> $balance = ltrim($balance);echo $balance;",Removing white-space in AJAX response
Traits with PhP and Laravel," I am using Laravel 5.1 and would like to access an array on the Model from the Trait when the Model before the model uses the appends array. I would like to add certain items to the appends array if it exists from my trait. I don't want to edit the model in order to achieve this. Are traits actually usable in this scenario or should I use inheritance? Here is how my current setup works.Trait Model What I would like to do is something to achieve the same effect as extending a class. I have a few similar traits, so using inheritance gets somewhat ugly. I have seen some workarounds for this, but none of them seem better/cleaner than just adding the item to the array manually. Any ideas are appreciated.UpdateI discovered this way of accomplishing what I need for one trait, but it only works for one trait and I don't see an advantage of using this over inheritance.trait How I am currently handling my Model, for what it is worth. model <code>  array_push($this->appends, 'saucedByCurrentUser'); <?php namespace App;trait AwesomeSauceTrait { /** * Collection of the sauce on this record */ public function awesomeSauced() { return $this->morphMany('App\AwesomeSauce', 'sauceable')->latest(); } public function getSaucedByCurrentUserAttribute() { if(\Auth::guest()){ return false; } $i = $this->awesomeSauced()->whereUserId(\Auth::user()->id)->count(); if ($i > 0){ return true; } return false; }} <?php namespace App;use App\AwesomeSauceTrait;use Illuminate\Database\Eloquent\Model;class FairlyBlandModel extends Model { use AwesomeSauceTrait; protected $appends = array('age','saucedByCurrentUser');} trait AwesomeSauceTrait { function __construct() { parent::__construct(); array_push($this->appends, 'saucedByCurrentUser'); }} protected $awesomeSauceAppends = ['sauced_by_current_user'];protected function getArrayableAppends(){ array_merge($this->appends, $this->awesomeSauceAppends); parent::getArrayableAppends();} public function __construct(){ array_merge($this->appends, $this->awesomeSauceAppends);}",Traits with PHP and Laravel
"Uploading big files (video) in streams with aws s3, laravel 5 & filesystem"," I want to upload a big video file to my AWS S3 bucket. After a good deal of hours, I finally managed to configure my php.ini and nginx.conf files, so they allowed bigger files.But then I got a ""Fatal Error: Allowed Memory Size of XXXXXXXXXX Bytes Exhausted"". After some time I found out larger files should be uploaded with streams using fopen(),fwrite(), and fclose().Since I'm using Laravel 5, the filesystem takes care of much of this. Except that I can't get it to work.My current ResourceController@store looks like this: But now I get this long error: CouldNotCreateChecksumException in SignatureV4.php line 148: A sha256 checksum could not be calculated for the provided upload body, because it was not seekable. To prevent this error you can either 1) include the ContentMD5 or ContentSHA256 parameters with your request, 2) use a seekable stream for the body, or 3) wrap the non-seekable stream in a GuzzleHttp\Stream\CachingStream object. You should be careful though and remember that the CachingStream utilizes PHP temp streams. This means that the stream will be temporarily stored on the local disk.So I am currently completely lost. I can't figure out if I'm even on the right track. Here are the resource I try to make sense of:AWS SDK guide for PHP: Stream WrappersAWS SDK introduction on stream wrappersFlysystem original API on stream wrappersAnd just to confuse me even more, there seems to be another way to upload large files other than streams: The so called ""multipart"" upload. I actually thought that was what the streams where all about...What is the difference? <code>  public function store(ResourceRequest $request){ /* Prepare data */ $resource = new Resource(); $key = 'resource-'.$resource->id; $bucket = env('AWS_BUCKET'); $filePath = $request->file('resource')->getRealPath(); /* Open & write stream */ $stream = fopen($filePath, 'w'); Storage::writeStream($key, $stream, ['public']); /* Store entry in DB */ $resource->title = $request->title; $resource->save(); /* Success message */ session()->flash('message', $request->title . ' uploadet!'); return redirect()->route('resource-index');}",How do I upload big (video) files in streams to AWS S3 with Laravel 5 and filesystem?
How do I upload big files (video) in streams to aws s3 with laravel 5 & filesystem?," I want to upload a big video file to my AWS S3 bucket. After a good deal of hours, I finally managed to configure my php.ini and nginx.conf files, so they allowed bigger files.But then I got a ""Fatal Error: Allowed Memory Size of XXXXXXXXXX Bytes Exhausted"". After some time I found out larger files should be uploaded with streams using fopen(),fwrite(), and fclose().Since I'm using Laravel 5, the filesystem takes care of much of this. Except that I can't get it to work.My current ResourceController@store looks like this: But now I get this long error: CouldNotCreateChecksumException in SignatureV4.php line 148: A sha256 checksum could not be calculated for the provided upload body, because it was not seekable. To prevent this error you can either 1) include the ContentMD5 or ContentSHA256 parameters with your request, 2) use a seekable stream for the body, or 3) wrap the non-seekable stream in a GuzzleHttp\Stream\CachingStream object. You should be careful though and remember that the CachingStream utilizes PHP temp streams. This means that the stream will be temporarily stored on the local disk.So I am currently completely lost. I can't figure out if I'm even on the right track. Here are the resource I try to make sense of:AWS SDK guide for PHP: Stream WrappersAWS SDK introduction on stream wrappersFlysystem original API on stream wrappersAnd just to confuse me even more, there seems to be another way to upload large files other than streams: The so called ""multipart"" upload. I actually thought that was what the streams where all about...What is the difference? <code>  public function store(ResourceRequest $request){ /* Prepare data */ $resource = new Resource(); $key = 'resource-'.$resource->id; $bucket = env('AWS_BUCKET'); $filePath = $request->file('resource')->getRealPath(); /* Open & write stream */ $stream = fopen($filePath, 'w'); Storage::writeStream($key, $stream, ['public']); /* Store entry in DB */ $resource->title = $request->title; $resource->save(); /* Success message */ session()->flash('message', $request->title . ' uploadet!'); return redirect()->route('resource-index');}",How do I upload big (video) files in streams to AWS S3 with Laravel 5 and filesystem?
Multiple forms throw me a 'Connection was reset' error," I'm building a one-page checkout for a customer of ours. This checkout is supposed to contain all forms for credentials, shipment and payment. Editing previously entered values should also be possible. This is all going fine except for one thing.My page is built of multiple includes:credentialsshipmentpaymentIn each of these includes I check if the concerning data is in the session and if it is I show a different view. Nothing special here.For example: When values are already set, I also show an edit button. I do this as follows: Followed by: In the credentials include I check for the $_POST['edit']. If it is set, i will show the form again with the customer's previously filled in data in the input fields.The problemWhenever I click the edit button the first time, it throws me a Connection was reset browser error. If I refresh the page, it will ask for me to submit the form again. When I do this the error is gone. I can't seem to figure out where this is coming from. I checked the server logs but there is nothing unusual there.*Note: * The same problem occurs between the shipment and payment steps.Relevant htaccess index.php ProgressI've dumped the session variable to see if there was something strange in the session. (Nothing strange here)I've installed a Tamper Data plugin for firefox to check the POST data. (Nothing strange here either)UpdateI found something in my code I skipped when checking everything last time. This could however have something to do with my problem. Workflow <code>  <?phpif (is_array($_SESSION['credentials'])) { ... show filled in values ...} else { ... show form ...}?> <div class=""left-column""> <h1 class=""title-left"">Step 1 - Credentials</h1> <div class=""pull-left"" style=""width: 50%;""> Name: name<br /> Address: Address 11<br /> Postal Code: 12345AA<br /> Country: Country<br /> </div> <br /> <div style=""clear: both;height: 10px;""></div> <center> <form method=""POST"" action=""/checkout/credentials/""> <input type=""hidden"" name=""edit"" value=""credentials""> <button class=""sexybutton sexysimple sexybestel"">Edit</button> </form> </center></div> <div class=""left-column""> <h1 class=""title-left"">Step 2 - Shipment</h1> <i>Select a shipment method</i> <form method=""POST"" action=""/checkout/payment/""> <input type=""radio"" value=""0"" name=""shipmentmethod""> Collect<br /> <input type=""radio"" value=""1"" name=""shipmentmethod""> Deliver<br /> <input type=""submit"" value=""Go to Step 3"" class=""sexybutton sexysimple sexybestel pull-right"" name=""shipment""> </form></div> Options +FollowSymLinksRewriteEngine OnRewriteBase /order allow,denyallow from allRewriteCond %{HTTP_HOST} ^tapijttegelhandel\.nlRewriteRule ^(.*)$ http://www.tapijttegelhandel.nl/$1 [R=permanent,L]AddDefaultCharset utf-8RewriteRule ^checkout/ /index.php?mod=checkout&action=show [NC,L,QSA] case 'checkout': $action = isset($_GET['action']) ? $_GET['action'] : ''; switch ($action) { case 'completed': # ... break; case 'cancelled': # ... break; case 'credentials': case 'shipment': case 'payment': case 'edit': default: include $_SERVER['DOCUMENT_ROOT'].'checkout/show.php'; break; } break; <script type=""text/javascript""> window.history.forward(); function noBack() { window.history.forward(); } </script></head><body onload=""noBack();"" onpageshow=""if (event.persisted) noBack();"" onunload=""""> /cart GET 200 OK/checkout/credentials/ GET 304 OK/checkout/credentials/ POST 304 OK# edit/checkout/credentials/ POST - Error 'Connection was reset'# Refresh/checkout/credentials/ POST 200 OK",POST/Redirect throws a `Connection was reset` browser error
Form submit throws a `Connection was reset` browser error," I'm building a one-page checkout for a customer of ours. This checkout is supposed to contain all forms for credentials, shipment and payment. Editing previously entered values should also be possible. This is all going fine except for one thing.My page is built of multiple includes:credentialsshipmentpaymentIn each of these includes I check if the concerning data is in the session and if it is I show a different view. Nothing special here.For example: When values are already set, I also show an edit button. I do this as follows: Followed by: In the credentials include I check for the $_POST['edit']. If it is set, i will show the form again with the customer's previously filled in data in the input fields.The problemWhenever I click the edit button the first time, it throws me a Connection was reset browser error. If I refresh the page, it will ask for me to submit the form again. When I do this the error is gone. I can't seem to figure out where this is coming from. I checked the server logs but there is nothing unusual there.*Note: * The same problem occurs between the shipment and payment steps.Relevant htaccess index.php ProgressI've dumped the session variable to see if there was something strange in the session. (Nothing strange here)I've installed a Tamper Data plugin for firefox to check the POST data. (Nothing strange here either)UpdateI found something in my code I skipped when checking everything last time. This could however have something to do with my problem. Workflow <code>  <?phpif (is_array($_SESSION['credentials'])) { ... show filled in values ...} else { ... show form ...}?> <div class=""left-column""> <h1 class=""title-left"">Step 1 - Credentials</h1> <div class=""pull-left"" style=""width: 50%;""> Name: name<br /> Address: Address 11<br /> Postal Code: 12345AA<br /> Country: Country<br /> </div> <br /> <div style=""clear: both;height: 10px;""></div> <center> <form method=""POST"" action=""/checkout/credentials/""> <input type=""hidden"" name=""edit"" value=""credentials""> <button class=""sexybutton sexysimple sexybestel"">Edit</button> </form> </center></div> <div class=""left-column""> <h1 class=""title-left"">Step 2 - Shipment</h1> <i>Select a shipment method</i> <form method=""POST"" action=""/checkout/payment/""> <input type=""radio"" value=""0"" name=""shipmentmethod""> Collect<br /> <input type=""radio"" value=""1"" name=""shipmentmethod""> Deliver<br /> <input type=""submit"" value=""Go to Step 3"" class=""sexybutton sexysimple sexybestel pull-right"" name=""shipment""> </form></div> Options +FollowSymLinksRewriteEngine OnRewriteBase /order allow,denyallow from allRewriteCond %{HTTP_HOST} ^tapijttegelhandel\.nlRewriteRule ^(.*)$ http://www.tapijttegelhandel.nl/$1 [R=permanent,L]AddDefaultCharset utf-8RewriteRule ^checkout/ /index.php?mod=checkout&action=show [NC,L,QSA] case 'checkout': $action = isset($_GET['action']) ? $_GET['action'] : ''; switch ($action) { case 'completed': # ... break; case 'cancelled': # ... break; case 'credentials': case 'shipment': case 'payment': case 'edit': default: include $_SERVER['DOCUMENT_ROOT'].'checkout/show.php'; break; } break; <script type=""text/javascript""> window.history.forward(); function noBack() { window.history.forward(); } </script></head><body onload=""noBack();"" onpageshow=""if (event.persisted) noBack();"" onunload=""""> /cart GET 200 OK/checkout/credentials/ GET 304 OK/checkout/credentials/ POST 304 OK# edit/checkout/credentials/ POST - Error 'Connection was reset'# Refresh/checkout/credentials/ POST 200 OK",POST/Redirect throws a `Connection was reset` browser error
caching dynamic images not working," I am using Laravel 5 at the moment and taking advantage of the intervention image integration: http://image.intervention.io/I am using it dynamically so images have a URL like this: http://example.org/media/1600x340/2/image_name.jpgSo all working, but im noticing these images will not cache. Other do, but not my dynamic ones.This is my htaccess If I actually connect via FTP and look at the cached images, they are stored like this: /storage/framework/cache/55/ba/0245f7453543100cf0aaa4709eca82f4What is the point in caching if it has to reload it every time? I suspect the problem is that the browser doesn't know what these files are (they have no extension) so it doesn't cache them.Here is some example laravel code: ... Header in chrome looks like this: Any ideas? Hopefully I can sort this out with the htaccess file <code>  <FilesMatch ""\.(ico|pdf|jpg|jpeg|png|gif|html|htm|xml|txt|xsl)$""> Header set Cache-Control ""max-age=31536050""</FilesMatch><IfModule mod_expires.c>ExpiresActive OnExpiresByType image/jpg ""access plus 1 year""ExpiresByType image/jpeg ""access plus 1 year""ExpiresByType image/gif ""access plus 1 year""ExpiresByType image/png ""access plus 1 year""ExpiresByType text/css ""access plus 1 month""ExpiresByType application/pdf ""access plus 1 month""ExpiresByType text/x-javascript ""access plus 1 month""ExpiresByType application/x-shockwave-flash ""access plus 1 month""ExpiresByType image/x-icon ""access plus 1 year""ExpiresDefault ""access plus 2 days""</IfModule> $cache_image = Image::cache( function ( $image ) use ( $size, $name ) { return $image->make( url( '/uploads/' . $name ) )->resize( $size[0], $size[1], function ( $constraint ) { $constraint->aspectRatio(); $constraint->upsize(); } );}, $cache_length )->sharpen(5); return Response::make( $cache_image, 200, [ 'Content-Type' => 'image' ] ); GET /media/1600x340/2/img_0033-copy.jpg HTTP/1.1Host: mywebsite.com.auConnection: keep-aliveAccept: image/webp,*/*;q=0.8User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.130 Safari/537.36 FirePHP/4ChromeReferer: http://mywebsite.com.au/functionsAccept-Encoding: gzip, deflate, sdchAccept-Language: en-GB,en-US;q=0.8,en;q=0.6Cookie: __cfduid=d4fee20f7753d88962b94c880cec57f981435071761; _gat=1; _ga=GA1.3.1903752380.1435076392; XSRF-TOKEN=eyJpdiI6IkFpMHJDTDZtTTVoczVaSkxaZ1hjNmc9PSIsInZhbHVlIjoiVlVRSk1ibCtCWHpZNW5SQkl0NTA2bVN2Tmh4c0N6aW5TWGZ1Njk1WG1Gb05XXC91dW5DYjdLNWpGXC9kSWFsYXZ6bDZMQ0NmZE15UlVvMFV3OEN1bWJPZz09IiwibWFjIjoiZGI1OTYwM2IwZTNhYWFlM2I5NGExNTkzNTlkN2YxNGI4Y2IzNjI5ODU5Y2RjNTRkODYxMWIxNDJiMDM3NGI5YyJ9; laravel_session=eyJpdiI6Ikc5a3ZibmZraG9aZElnYWFKUG5CWHc9PSIsInZhbHVlIjoiblRWcDRxQW9ORGl0RFdubDJ3NTdXR3lNdUcyWmtnSkEyXC9sZFI3VWQ2NkVBdUxJNWVpZU5ubEZ2RG1HbVF6SHdYNFhob21UOEVjOVZxMklKdndxQ3dBPT0iLCJtYWMiOiIwMThlMGZkMTdlNWM5MDQ4OWYxNzIwMzE2NzhhMzEzMjg1MGM4NjI2NzRkMmJhMWEzNmUzN2MyNjJhYzdjNjQ1In0%3DX-FirePHP-Version: 0.0.6X-Wf-Max-Combined-Size: 261120",caching dynamic images with Laravel Intervention library not working
How can I convert Hijri date to gregorian in PHP??," I would like convert this date:09/13/1436 (it is Hijiri) to 2015-06-30(it is Gregorian).I tried that: and when i made compile i got 10/7/2014.Someone have any idea?? <code>  function HijriToJD($m, $d, $y){ return (int)((11 * $y + 3) / 30) + 354 * $y + 30 * $m - (int)(($m - 1) / 2) + $d + 1948440 - 385;}$date = HijriToJD(09, 13, 1436);echo jdtogregorian($date);",How can I convert Hijri date to gregorian in PHP?
"When do I use Exception, InvalidArgumentException and UnexpectedValueException?"," When should I use Exception, InvalidArgumentException or UnexpectedValueException?I don't know the real different between them as I always used Exception. <code> ","What is the difference between Exception, InvalidArgumentException or UnexpectedValueException?"
playing 40.000 unit army for game," SOLVED!! (look at my last edit)I want to make an army fight of 20.000 vs 20.000 units on canvas. So, for every unit data is: And i would to see this fight in real time (25 frames per second).If i generate 1 frame with Json and save on file, it is 2.5mb size (40k such units with this data). 1 second(25 frames) = 62.5 mb file size. And the fight could last about 30 minutes, so it should use 112gb. This is bad. If i would make the file as binary data, it should take 27 times less place, or 4gb for 30 mins. That's still bad. 2 hrs movie takes 700mb.I need to save many fights on server. Real players should make their armies and fight each other, so i need the fights to be saved. Every fight is unique, because every damage of every unit is random 0~10 and after unit kills an enemy, it regenerates 1 health. I'm doing calculations with PHP and saving files on server. All 40.000 units are on one screen, all can be visible at once, i want it like that. For now, units are single 2x2 pixel cubes, red and blue teams, its easy to load for javascript. But, to generate file with PHP i need about 1 hour. That's another problem. Because for every frame i need to iterate these 40.000 units (for updating x/y, searching for nearby enemies or friends, then for doing damage and returning target or killed enemy coordinates), then iterate over again to unset killed units, and before putting all that into file, i need to iterate over everything and remove unused data that was used for calculations. And to finish this 30 mins fight i need to repeat it 45000 times. Also, every minute there are less and less units. But my point is somehow to make all that file generating in less than a minute, just need a logical way, if some exist.Questions: 1) What is the best way to save my files on server and make the files much less on size?(so far is to use binary data and compress to zip)2) what is the fastest way to calculate my fights?(so far is to compile with C++)// Edited. Here is my whole game code, just like that :)This is main action: This is unit: This is js: SOLVED! Thx to my colleague in my work! He gave me brilliant idea!To get the result i needed i just need for every next battle to generate random number (0~10000) and place it into single MySQL database. In addition also put there formations, units, their starting strength, health and everything else. And all the calculations do with javascript:With one constant number (given from backend) i make a formula to always reproduce same army fight -> every unit will move forwards and they always stop at the same time anyways no matter what the calculation. The uniqueness is the random damage every unit gives and what process after. And all the damage will be just their ""x/y position somehow compared to constant number"" and do whatever to get single damage, random for every unit because they all are in different map positions, but damage will always be 0~10. With the same constant number, all units will always do the same damage after calculation and always will move same at every replay, die and do same damage at every replay. All the hardest work will be on javascript - to make calculations using this constant number. My random number can be any. If first fight i generate random number ""17"", and next battle i generate random number ""19666516546"", it will not mean that battle with number ""17"" will do less damage - they all will do the ""random"" damage 0~15 to every unit, but replays with same formations, unit numbers, starting position and this random generated number will be always the same -> no more need to save any files! And i can add various spec effects, add something like defences, evasions, and all will fit in two MySQL rows - for every team :) Cool!! <code>  { 'id' => 17854,'x' => 1488, 'y' => 1269, 'team' => 'red', 'health' => 10,'target' => [1486, 1271]} class Simulator{ private $units; private $places = []; private $oldPlaces = []; public function initiateGame() { $this->createUnits(); $this->startMoving(); } private function createUnits() { foreach(range(0, 150) as $column) { // i like exact army formation to look nice, so its 150x140=21000 units foreach (range(0, 140) as $row) { $this->setUnits($column, $row); } } $this->oldPlaces = $this->places; } private function setUnits($column, $row) { $beginning_of_team_A = 6; //starting point on canvas for A unit to look nice on screen $unit_size_and_free_place = 6; //unit size= 3x3 (look js), and free place between each unit is 3 pixels. $beginning_of_team_B = 1100; // next side where enemy army starts appearing $x_a = $beginning_of_team_A + $column * $unit_size_and_free_place; // team A $y = $beginning_of_team_A + $row * $unit_size_and_free_place; // same for both teams $unitA = new Unit($x_a, $y, 1); // 1 is team A (it goes always +1 pixel every frame) $this->units[] = $unitA; $x_b = $beginning_of_team_B + $column * $unit_size_and_free_place; // team B $unitB = new Unit($x_b, $y, -1); // -1 is team B (it goes always -1 pixel every frame) $this->units[] = $unitB; $this->places[$x_a.','.$y] = 1; // now that way tracking units, and calculating their next move $this->places[$x_b.','.$y] = -2; } private function startMoving() { set_time_limit(30000); // by default after 1 minute it throws exception foreach(range(0, 400) as $frame) { //giving 400 frames is like 400/40=10 seconds of action $this->places = []; foreach($this->units as $unit) { $returned = $unit->move($this->oldPlaces); //giving whole units list to every unit to look forward $this->places[$returned[0]] = $returned[1]; // returns (next x/y position as string ['1514,148'] ) = ( id as int [15] ) } file_put_contents('assets/games/'.$frame.'.json', json_encode($this->units)); // writing into file every frame and it uses ~2mb $this->oldPlaces = $this->places; //resetting old positions } }} class Unit{ public $x = 0; public $y = 0; public $team = 1; public $stopped; public function __construct($x, $y, $team, $stopped = false) { $this->x = $x; $this->y = $y; $this->team = $team; $this->stopped = $stopped; } public function move($places) { $this->checkForward($places); return [$this->x.','.$this->y, $this->team]; } private function checkForward($places) { $forward = $this->x + $this->team; // TODO: find out formula to replace the 4 ifs $forward1 = $this->x + $this->team*2; $forward2 = $this->x + $this->team*3; $forward3 = $this->x + $this->team*4; if(isset($places[$forward.','.$this->y])) { $this->stopped = true; } else if (isset($places[$forward1.','.$this->y])) { $this->stopped = true; } else if (isset($places[$forward2.','.$this->y])) { $this->stopped = true; } else if (isset($places[$forward3.','.$this->y])) { $this->stopped = true; } else { $this->stopped = false; } if($this->stopped == false) { // move forward it is not stopped $this->x = $this->x + $this->team; } }} var app = angular.module('app', []);app.controller('game', function($scope, $http, $interval) { var canvas = document.getElementById(""game""), context = canvas.getContext(""2d""); var frame = -2; $scope.attacking = false; var units = []; function start_animation_loop() { $scope.promise = $interval(function() { if($scope.attacking == true) { frame ++; if(frame >= 0) { downloadFile(); animate(); } } }, 40 ); } function downloadFile() { $http.get('assets/games/'+frame+'.json').success(function(response) { units = response; }); } function animate() { clear_canvas(); draw(); } function clear_canvas() { context.clearRect(0, 0, 1800, 912); } function draw() { for(var a=0; a<units.length; a++) { context.beginPath(); context.fillRect(units[a]['x'], units[a]['y'], 3, 3); if(units[a]['team'] == 1) { context.fillStyle = 'red'; } else { context.fillStyle = 'blue'; } } } start_animation_loop();});",Playing 40.000 unit army for game
how to submit 0 if checkbox is unchecked and submit 1 if checkbox is checked in HTML," How to submit value 1 if a checkbox in a checkbox array is checked, and submit 0 if it's unchecked? I tried this but no luck. I am trying to grab this array in a php array when the form is submitted. Please help! <code>  <input id = 'testName0' type = 'checkbox' name = 'check[0]' value = '1' checked><input id='testNameHidden0' type='hidden' value='0' name='check[0]'><input id = 'testName1' type = 'checkbox' name='check[1]' value = '1' unchekced><input id='testNameHidden1' type='hidden' value='0' name='check[1]'><input type = 'submit' value = 'Save Changes'>><script>if(document.getElementById('testName0').checked){ document.getElementById('testNameHidden0').disabled = true;}</script><script>if(document.getElementById('testName1').checked){ document.getElementById('testNameHidden1').disabled = true;}</script>",How to submit 0 if checkbox is unchecked and submit 1 if checkbox is checked in HTML
laravel password validation rule," How to added password validation rule in the validator?Validation rule:The password contains characters from at least three of the following five categories:English uppercase characters (A Z)English lowercase characters (a z)Base 10 digits (0 9)Non-alphanumeric (For example: !, $, #, or %)Unicode charactersHow to add above rule in the validator rule?My Code Here <code>  // create the validation rules ------------------------ $rules = array( 'name' => 'required', // just a normal required validation 'email' => 'required|email|unique:ducks', // required and must be unique in the ducks table 'password' => 'required', 'password_confirm' => 'required|same:password' // required and has to match the password field ); // do the validation ---------------------------------- // validate against the inputs from our form $validator = Validator::make(Input::all(), $rules); // check if the validator failed ----------------------- if ($validator->fails()) { // get the error messages from the validator $messages = $validator->messages(); // redirect our user back to the form with the errors from the validator return Redirect::to('home') ->withErrors($validator); }",Laravel password validation rule
PHP(7) type hinting and multiple constructors," I've been looking into the new features for PHP7 and thought I might begin to ready my project for the new features it introduces, like scalar type hinting.One of the first problems I encountered was my constructors in various classes. I have some generic contrustors that acts something like this: Introducing type hinting for this method will of course throw errors in all directions.As far as I know PHP7 does not introduce support for multiple constructors. Are there any ways to get around this problem, or is this one of the limitations of the language? <code>  public function __construct($data = null) { if (is_numeric($data)) { $this->controller->createById($data); } elseif (is_array($data)) { $this->controller->createByArray($data); } elseif (strlen($data) > 0) { $this->controller->createByUrl($data); }}",Type hinting and multiple constructors
Is there any injection risk if no query was sent to database?," I have a small MySQL database with a few hundred rows (all in text, no images). I am requesting all the rows using iQuery and do all filtering at client end. iQuery code is the following: On the server side, the ""alldata.php"" has the following code and pass the data in JSON back to iQuery: It seems to me there will not be any risk of injection since there is NO user input submitted to the database. Am I right or wrong? Thanks a lot for your input! <code>  $(document).ready( function () { $.get(""alldata.php"", function(data){ $('#result').text(data); }); }); $sql = ""SELECT title FROM mydatabase"";$result = mysqli_query($conn, $sql);$arr = array(); while($row = mysqli_fetch_assoc($result)){ $row_array['Title'] =$row['title']; array_push($arr,$row_array);}mysqli_close($conn);echo json_encode($arr);",Is there any injection risk if no user input was sent to database?
How to Upgrade PHP 5.5.12 to 5.6.12 in wamp Server in Windows," I am new to PHP. Can you please give me step-by-step procedure for updating PHP 5.5.12 to 5.6.12?I tried to solve my problem from https://john-dugan.com/upgrade-php-wamp/ , but I am troubled with the 5th step. <code> ",How to Upgrade PHP 5.5.12 to 5.6.12 in WampServer
Laravel 5 dingo api controller," I have been trying to implement a REST API using the Laravel 5 Dingo API package.This is my routing code: This is my error code: So, where should I place my controller file in order it finds the correct path for my controller ?I placed the file in app/http/controllers/Api/V1/ directory but I'm still getting this kind of error.I am using Dingo API 0.10 for Laravel. <code>  $api->version('v1', function ($api) { $api->get('users/{id}', 'Api\V1\UsersController@show');}); {""message"":""Class Api\\V1\\UsersController does not exist"",""code"":-1,""status_code"":500}",Laravel 5 Dingo API controller
Mootools not posting into database," I have a dropdown input selection ""Evaluation Test Type"" that based on the selection certain data appear with beneath it a submit button. Now i added to : ""Evaluation Test Type"" a default value of <option selected='selected'></option> however i want to prevent the submit button from appearing if this option was chosen and submit1 was clicked <code>  $options = '';$filter=mysql_query(""select afnumber from employees WHERE Status='Employed'"");while($row = mysql_fetch_array($filter)) { $options .=""<option >"" . $row['afnumber'] . ""</option>"";}$menu=""<form id='filter' name='filter' method='post' action=''>AFNumber : <select name='SelectAF' id='filter' style='color:grey;'>"" . $options . ""</select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evaluation Test Type : <select name='Type' id='type' style='color:grey;'><option selected='selected'></option><option value='loyalty'>Loyalty</option><option value='performance'>Performance</option></select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type='submit' name='submit1' value='Submit' style='width:80px; height:30px; text-align:center; padding:0px;'></form><br>""; echo $menu;if(isset($_POST['submit1'])){ $type = $_POST['Type'];$mysqli = new mysqli(""localhost"", ""root"", ""Js"", ""jr"");/* check connection */if ($mysqli->connect_errno) { printf(""Connect failed: %s\n"", $mysqli->connect_error); exit();} if ( $result = $mysqli->query( ""SELECT questiontext FROM questioninfo WHERE type='$type'"" ) ) { $html=array(); $html[]="" <form action='' method='post' id='quiz'> <ol>""; $counter=1; while( $row = $result->fetch_array() ) { $question=$row['questiontext']; $answerA=1; $answerB=2; $answerC=3; $answerD=4; $answerE=5; $html[]="" <br/> <h3>Question {$counter}:&nbsp; {$question}</h3> <li> <br/> <input type='radio' name='question-{$counter}-answers' id='question-$counter-answersA' value='1' /> <label for='question-{$counter}-answers-A'> {$answerA} </label> <br/> <input type='radio' name='question-{$counter}-answers' id='question-{$counter}-answersB' value='2' /> <label for='question-{$counter}-answers-B'> {$answerB} </label> <br/> <input type='radio' name='question-{$counter}-answers' id='question-{$counter}-answersC' value='3' /> <label for='question-{$counter}-answers-C'> {$answerC} </label> <br/> <input type='radio' name='question-{$counter}-answers' id='question-{$counter}-answersD' value='4' /> <label for='question-{$counter}-answers-D'> {$answerD} </label> <br/> <input type='radio' name='question-{$counter}-answers' id='question-{$counter}-answersE' value='5' /> <label for='question-{$counter}-answers-E'> {$answerE} </label> </li>""; $counter++; } $html[]="" </ol> <input type='submit' name='submit' value='Submit' style='width:80px; height:30px; text-align:center; padding:0px;'> <input type='hidden' name='type' value='{$type}' /> </form>""; echo implode( PHP_EOL, $html ); $result->close(); }}if( isset( $_POST['submit'] ) ){ $mysqli = new mysqli(""localhost"", ""root"", ""Js"", ""jr""); if ($mysqli->connect_errno) { printf(""Connect failed: %s\n"", $mysqli->connect_error); exit();}if ($result = $mysqli->query(""SELECT * FROM questioninfo WHERE Type='performance'"")) { $row_cnt = $result->num_rows; $result->close();}if ($result = $mysqli->query(""SELECT * FROM questioninfo WHERE Type='loyalty'"")) { $row_cnt1 = $result->num_rows; $result->close();} $numQuestions=$row_cnt;$numQuestions1=$row_cnt1; $type = $_POST['type']; if($type == 'performance'){for( $counter=1; $counter <= $numQuestions; $counter++ ){$type = $_POST['type']; $answer = $_POST['question-'.$counter.'-answers']; $sql=""insert into `question` (`Type`,`Value`) values ('"".$type.""','"".$answer.""')""; $mysqli->query($sql);} } else if($type == 'loyalty') {for( $counter=1; $counter <= $numQuestions1; $counter++ ){$type = $_POST['type']; $answer = $_POST['question-'.$counter.'-answers']; $sql=""insert into `question` (`Type`,`Value`) values ('"".$type.""','"".$answer.""')""; $mysqli->query($sql);} } else { }}",Manipulating the default value of a drop down list
Getting several number of rows from a database table," I have a dropdown input selection ""Evaluation Test Type"" that based on the selection certain data appear with beneath it a submit button. Now i added to : ""Evaluation Test Type"" a default value of <option selected='selected'></option> however i want to prevent the submit button from appearing if this option was chosen and submit1 was clicked <code>  $options = '';$filter=mysql_query(""select afnumber from employees WHERE Status='Employed'"");while($row = mysql_fetch_array($filter)) { $options .=""<option >"" . $row['afnumber'] . ""</option>"";}$menu=""<form id='filter' name='filter' method='post' action=''>AFNumber : <select name='SelectAF' id='filter' style='color:grey;'>"" . $options . ""</select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evaluation Test Type : <select name='Type' id='type' style='color:grey;'><option selected='selected'></option><option value='loyalty'>Loyalty</option><option value='performance'>Performance</option></select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type='submit' name='submit1' value='Submit' style='width:80px; height:30px; text-align:center; padding:0px;'></form><br>""; echo $menu;if(isset($_POST['submit1'])){ $type = $_POST['Type'];$mysqli = new mysqli(""localhost"", ""root"", ""Js"", ""jr"");/* check connection */if ($mysqli->connect_errno) { printf(""Connect failed: %s\n"", $mysqli->connect_error); exit();} if ( $result = $mysqli->query( ""SELECT questiontext FROM questioninfo WHERE type='$type'"" ) ) { $html=array(); $html[]="" <form action='' method='post' id='quiz'> <ol>""; $counter=1; while( $row = $result->fetch_array() ) { $question=$row['questiontext']; $answerA=1; $answerB=2; $answerC=3; $answerD=4; $answerE=5; $html[]="" <br/> <h3>Question {$counter}:&nbsp; {$question}</h3> <li> <br/> <input type='radio' name='question-{$counter}-answers' id='question-$counter-answersA' value='1' /> <label for='question-{$counter}-answers-A'> {$answerA} </label> <br/> <input type='radio' name='question-{$counter}-answers' id='question-{$counter}-answersB' value='2' /> <label for='question-{$counter}-answers-B'> {$answerB} </label> <br/> <input type='radio' name='question-{$counter}-answers' id='question-{$counter}-answersC' value='3' /> <label for='question-{$counter}-answers-C'> {$answerC} </label> <br/> <input type='radio' name='question-{$counter}-answers' id='question-{$counter}-answersD' value='4' /> <label for='question-{$counter}-answers-D'> {$answerD} </label> <br/> <input type='radio' name='question-{$counter}-answers' id='question-{$counter}-answersE' value='5' /> <label for='question-{$counter}-answers-E'> {$answerE} </label> </li>""; $counter++; } $html[]="" </ol> <input type='submit' name='submit' value='Submit' style='width:80px; height:30px; text-align:center; padding:0px;'> <input type='hidden' name='type' value='{$type}' /> </form>""; echo implode( PHP_EOL, $html ); $result->close(); }}if( isset( $_POST['submit'] ) ){ $mysqli = new mysqli(""localhost"", ""root"", ""Js"", ""jr""); if ($mysqli->connect_errno) { printf(""Connect failed: %s\n"", $mysqli->connect_error); exit();}if ($result = $mysqli->query(""SELECT * FROM questioninfo WHERE Type='performance'"")) { $row_cnt = $result->num_rows; $result->close();}if ($result = $mysqli->query(""SELECT * FROM questioninfo WHERE Type='loyalty'"")) { $row_cnt1 = $result->num_rows; $result->close();} $numQuestions=$row_cnt;$numQuestions1=$row_cnt1; $type = $_POST['type']; if($type == 'performance'){for( $counter=1; $counter <= $numQuestions; $counter++ ){$type = $_POST['type']; $answer = $_POST['question-'.$counter.'-answers']; $sql=""insert into `question` (`Type`,`Value`) values ('"".$type.""','"".$answer.""')""; $mysqli->query($sql);} } else if($type == 'loyalty') {for( $counter=1; $counter <= $numQuestions1; $counter++ ){$type = $_POST['type']; $answer = $_POST['question-'.$counter.'-answers']; $sql=""insert into `question` (`Type`,`Value`) values ('"".$type.""','"".$answer.""')""; $mysqli->query($sql);} } else { }}",Manipulating the default value of a drop down list
Laravel: validate a field that need to be greater than other," I have two fields that are optional only if both aren't present: Now, end_page needs to be greater than initial_page. How include this filter? <code>  $rules = [ 'initial_page' => 'required_with:end_page|integer|min:1|digits_between: 1,5', 'end_page' => 'required_with:initial_page|integer|min:2|digits_between:1,5']; ",Laravel: validate an integer field that needs to be greater than another
Laravel: validate a integer field that need to be greater than other," I have two fields that are optional only if both aren't present: Now, end_page needs to be greater than initial_page. How include this filter? <code>  $rules = [ 'initial_page' => 'required_with:end_page|integer|min:1|digits_between: 1,5', 'end_page' => 'required_with:initial_page|integer|min:2|digits_between:1,5']; ",Laravel: validate an integer field that needs to be greater than another
Laravel: validate a integer field that needs to be greater than another," I have two fields that are optional only if both aren't present: Now, end_page needs to be greater than initial_page. How include this filter? <code>  $rules = [ 'initial_page' => 'required_with:end_page|integer|min:1|digits_between: 1,5', 'end_page' => 'required_with:initial_page|integer|min:2|digits_between:1,5']; ",Laravel: validate an integer field that needs to be greater than another
how to pass&get vlaue in php without query string," I have one problem in passing the value, and I can't pass it through the query string. My PHP is: jQuery: Full code: In the above code, I display a menu in a <div> and <a> tags outside so I can click it. My problem is when I click on the menu it must take the id of the menuid class but it's not working and $_POST['aboutus_id'] is not getting any value. <code>  <div class=""menu""> <div class=""sub_menu_header"">ABOUT</div> <?php $query1=""SELECT id,title FROM aboutus_tbl""; $resulto=mysql_query($query1); while ($row = mysql_fetch_array($resulto)) { ?> <a href=""about"" class=""menuid"" id=""<?php echo $row['id'];?>""><div class=""<?php echo $row['title'];?>"" id=""sub_menu""><?php echo $row['title'];?> </div></a> <?php } ?> </div> <script> $("".menuid"").click(function() { date_time = $(this).attr('id'); console.log(data); $.ajax({ type: 'POST', url: 'about', data: {""aboutus_id"" : date_time}, success: function(data){ alert( data ); } }); }); </script> <?php ob_start(); include('web/header.php');?><!--main--><div class=""main_btm""><div class=""wrap""><div class=""main""> <div class=""new_head""><font size=""5"" color=""#FC2B5F""> <script> $("".menuid"").click(function() { date_time = $(this).attr('id'); console.log(data); $.ajax({ type: 'POST', url: 'about', data: {""aboutus_id"" : date_time}, success: function(data){ alert( data ); } }); }); </script> <?php if (isset($_POST['aboutus_id'])) { $id=$_POST['aboutus_id']; echo $id; } else{ $id=1; } $que=""SELECT title FROM aboutus_tbl WHERE id='"".$id.""'""; $re=mysql_query($que); $r=mysql_fetch_array($re); echo $r[0]; ?> </font></div> <div class=""menu""> <div class=""sub_menu_header"">ABOUT</div> <?php $query1=""SELECT id,title FROM aboutus_tbl""; $resulto=mysql_query($query1); while ($row = mysql_fetch_array($resulto)) { ?> <a href=""about"" class=""menuid"" id=""<?php echo $row['id'];?>""><div class=""<?php echo $row['title'];?>"" id=""sub_menu""><?php echo $row['title'];?> </div></a> <?php } ?> </div> <div class=""contant""> <div class=""con_details""> <?php $query=""SELECT * FROM aboutus_tbl WHERE id='"".$id.""'""; $res=mysql_query($query); $result=mysql_fetch_array($res); $d1_per=explode("" "", $result['desc1']); $d1_lenth=sizeof($d1_per); $d2_per=explode("" "", $result['desc2']); $d2_lenth=sizeof($d2_per); $d3_per=explode("" "", $result['desc3']); $d3_lenth=sizeof($d3_per); if ($result['sub_title1']) { ?> <legend><font size=""5""><?php echo $result['sub_title1'];?></font></legend> <?php } if ($result['desc1']) { for ($i=0; $i < $d1_lenth; $i++) { echo ""<p>"".$d1_per[$i].""</p>""; } } if ($result['sub_title2']) { ?> <legend><font size=""5""><?php echo $result['sub_title2'];?></font></legend> <?php } if ($result['desc2']) { for ($i=0; $i < $d2_lenth; $i++) { echo ""<p>"".$d2_per[$i].""</p>""; } } if ($result['sub_title3']) { ?> <legend><font size=""5""><?php echo $result['sub_title3'];?></font></legend> <?php } if ($result['desc3']) { for ($i=0; $i < $d3_lenth; $i++) { echo ""<p>"".$d3_per[$i].""</p>""; } } ?> </div> </div></div></div></div><script type=""text/javascript"">window.onload = function() { $(document).ready(function() { $('.<?php echo $result['title']?>').addClass('sub_menu_selected'); });}</script><?php include('web/footer.php'); ob_flush();?>",How to pass and get php value to jquery
how to pass&get vlaue in php using jquery," I have one problem in passing the value, and I can't pass it through the query string. My PHP is: jQuery: Full code: In the above code, I display a menu in a <div> and <a> tags outside so I can click it. My problem is when I click on the menu it must take the id of the menuid class but it's not working and $_POST['aboutus_id'] is not getting any value. <code>  <div class=""menu""> <div class=""sub_menu_header"">ABOUT</div> <?php $query1=""SELECT id,title FROM aboutus_tbl""; $resulto=mysql_query($query1); while ($row = mysql_fetch_array($resulto)) { ?> <a href=""about"" class=""menuid"" id=""<?php echo $row['id'];?>""><div class=""<?php echo $row['title'];?>"" id=""sub_menu""><?php echo $row['title'];?> </div></a> <?php } ?> </div> <script> $("".menuid"").click(function() { date_time = $(this).attr('id'); console.log(data); $.ajax({ type: 'POST', url: 'about', data: {""aboutus_id"" : date_time}, success: function(data){ alert( data ); } }); }); </script> <?php ob_start(); include('web/header.php');?><!--main--><div class=""main_btm""><div class=""wrap""><div class=""main""> <div class=""new_head""><font size=""5"" color=""#FC2B5F""> <script> $("".menuid"").click(function() { date_time = $(this).attr('id'); console.log(data); $.ajax({ type: 'POST', url: 'about', data: {""aboutus_id"" : date_time}, success: function(data){ alert( data ); } }); }); </script> <?php if (isset($_POST['aboutus_id'])) { $id=$_POST['aboutus_id']; echo $id; } else{ $id=1; } $que=""SELECT title FROM aboutus_tbl WHERE id='"".$id.""'""; $re=mysql_query($que); $r=mysql_fetch_array($re); echo $r[0]; ?> </font></div> <div class=""menu""> <div class=""sub_menu_header"">ABOUT</div> <?php $query1=""SELECT id,title FROM aboutus_tbl""; $resulto=mysql_query($query1); while ($row = mysql_fetch_array($resulto)) { ?> <a href=""about"" class=""menuid"" id=""<?php echo $row['id'];?>""><div class=""<?php echo $row['title'];?>"" id=""sub_menu""><?php echo $row['title'];?> </div></a> <?php } ?> </div> <div class=""contant""> <div class=""con_details""> <?php $query=""SELECT * FROM aboutus_tbl WHERE id='"".$id.""'""; $res=mysql_query($query); $result=mysql_fetch_array($res); $d1_per=explode("" "", $result['desc1']); $d1_lenth=sizeof($d1_per); $d2_per=explode("" "", $result['desc2']); $d2_lenth=sizeof($d2_per); $d3_per=explode("" "", $result['desc3']); $d3_lenth=sizeof($d3_per); if ($result['sub_title1']) { ?> <legend><font size=""5""><?php echo $result['sub_title1'];?></font></legend> <?php } if ($result['desc1']) { for ($i=0; $i < $d1_lenth; $i++) { echo ""<p>"".$d1_per[$i].""</p>""; } } if ($result['sub_title2']) { ?> <legend><font size=""5""><?php echo $result['sub_title2'];?></font></legend> <?php } if ($result['desc2']) { for ($i=0; $i < $d2_lenth; $i++) { echo ""<p>"".$d2_per[$i].""</p>""; } } if ($result['sub_title3']) { ?> <legend><font size=""5""><?php echo $result['sub_title3'];?></font></legend> <?php } if ($result['desc3']) { for ($i=0; $i < $d3_lenth; $i++) { echo ""<p>"".$d3_per[$i].""</p>""; } } ?> </div> </div></div></div></div><script type=""text/javascript"">window.onload = function() { $(document).ready(function() { $('.<?php echo $result['title']?>').addClass('sub_menu_selected'); });}</script><?php include('web/footer.php'); ob_flush();?>",How to pass and get php value to jquery
How to pass & get php value to jquery," I have one problem in passing the value, and I can't pass it through the query string. My PHP is: jQuery: Full code: In the above code, I display a menu in a <div> and <a> tags outside so I can click it. My problem is when I click on the menu it must take the id of the menuid class but it's not working and $_POST['aboutus_id'] is not getting any value. <code>  <div class=""menu""> <div class=""sub_menu_header"">ABOUT</div> <?php $query1=""SELECT id,title FROM aboutus_tbl""; $resulto=mysql_query($query1); while ($row = mysql_fetch_array($resulto)) { ?> <a href=""about"" class=""menuid"" id=""<?php echo $row['id'];?>""><div class=""<?php echo $row['title'];?>"" id=""sub_menu""><?php echo $row['title'];?> </div></a> <?php } ?> </div> <script> $("".menuid"").click(function() { date_time = $(this).attr('id'); console.log(data); $.ajax({ type: 'POST', url: 'about', data: {""aboutus_id"" : date_time}, success: function(data){ alert( data ); } }); }); </script> <?php ob_start(); include('web/header.php');?><!--main--><div class=""main_btm""><div class=""wrap""><div class=""main""> <div class=""new_head""><font size=""5"" color=""#FC2B5F""> <script> $("".menuid"").click(function() { date_time = $(this).attr('id'); console.log(data); $.ajax({ type: 'POST', url: 'about', data: {""aboutus_id"" : date_time}, success: function(data){ alert( data ); } }); }); </script> <?php if (isset($_POST['aboutus_id'])) { $id=$_POST['aboutus_id']; echo $id; } else{ $id=1; } $que=""SELECT title FROM aboutus_tbl WHERE id='"".$id.""'""; $re=mysql_query($que); $r=mysql_fetch_array($re); echo $r[0]; ?> </font></div> <div class=""menu""> <div class=""sub_menu_header"">ABOUT</div> <?php $query1=""SELECT id,title FROM aboutus_tbl""; $resulto=mysql_query($query1); while ($row = mysql_fetch_array($resulto)) { ?> <a href=""about"" class=""menuid"" id=""<?php echo $row['id'];?>""><div class=""<?php echo $row['title'];?>"" id=""sub_menu""><?php echo $row['title'];?> </div></a> <?php } ?> </div> <div class=""contant""> <div class=""con_details""> <?php $query=""SELECT * FROM aboutus_tbl WHERE id='"".$id.""'""; $res=mysql_query($query); $result=mysql_fetch_array($res); $d1_per=explode("" "", $result['desc1']); $d1_lenth=sizeof($d1_per); $d2_per=explode("" "", $result['desc2']); $d2_lenth=sizeof($d2_per); $d3_per=explode("" "", $result['desc3']); $d3_lenth=sizeof($d3_per); if ($result['sub_title1']) { ?> <legend><font size=""5""><?php echo $result['sub_title1'];?></font></legend> <?php } if ($result['desc1']) { for ($i=0; $i < $d1_lenth; $i++) { echo ""<p>"".$d1_per[$i].""</p>""; } } if ($result['sub_title2']) { ?> <legend><font size=""5""><?php echo $result['sub_title2'];?></font></legend> <?php } if ($result['desc2']) { for ($i=0; $i < $d2_lenth; $i++) { echo ""<p>"".$d2_per[$i].""</p>""; } } if ($result['sub_title3']) { ?> <legend><font size=""5""><?php echo $result['sub_title3'];?></font></legend> <?php } if ($result['desc3']) { for ($i=0; $i < $d3_lenth; $i++) { echo ""<p>"".$d3_per[$i].""</p>""; } } ?> </div> </div></div></div></div><script type=""text/javascript"">window.onload = function() { $(document).ready(function() { $('.<?php echo $result['title']?>').addClass('sub_menu_selected'); });}</script><?php include('web/footer.php'); ob_flush();?>",How to pass and get php value to jquery
JavaScript & jQuery | Work out values from PHP loaded information," I need to be able to show a ""dynamic return"" for each bet that the user has in place, but for some reason none of them work. I have previously asked this question before, but with no luck.I am hoping that the extra detail in this will be sufficient to help with getting an answer to this at last.I have hard coded one of the scripts in so to use odds-1, stake-1etc, and this worked but the others have not.If anybody can help with this it would be greatly appreciated.JavaScript PHP Generated HTML <code>  var count_div = 0; $(""div"").each(function () { count_div++; console.log(""Counter: "" + count_div); }); for (var i = 0; i < count_div; ++i) { $(""#stake-"" + i).on('keyup', function () { var newVal = (parseFloat($(""#stake-"" + i).val(), 10) * parseFloat($(""#__odds-"" + i).val(), 10)) + parseFloat($(""#stake-"" + i).val(), 10) || 0; $(""#showdynamicreturn-"" + i).val(parseFloat(newVal).toFixed(2)); }); } function readbets( $link, $id, $currentpage, $loggedIn = true ) { $idCount = 0; $queryBase = ""SELECT * FROM `bets` WHERE `user_id` = '%s';""; if($loggedIn == true) { $queryBase2 = sprintf($queryBase, $id); } else { $queryBase2 = sprintf($queryBase, $id); } $selectQuery = $link->query($queryBase2); $return = ""<div style='max-height: 680px; overflow: auto;'>""; while($result = mysqli_fetch_array($selectQuery)) { $idCount++; if($result['odds'] == ""SP"") { $odds = ""SP""; } else { $_odds = explode(""/"", $result['odds']); $odds = $_odds[0] / $_odds[1]; } $return .= ""<div style='border: 1pt solid black; width: 99%;'>""; $return .= ""<h2>"" . stripslashes($result['title']) . ""</h2>""; $return .= ""<form action='/' method='post'>""; $return .= ""<table class='table table-condensed'>""; $return .= ""<tr><td style='width:50%;'>Sport: </td><td>"" . $result['sport'] . ""</td></tr>""; $return .= ""<tr><td style='width:50%'>Participant: </td><td>"" . stripslashes($result['participant']) . ""</td></tr>""; $return .= ""<tr><td>Market: </td><td>"" . stripslashes($result['market']) . ""</td></tr>""; $return .= ""<tr><td>Time: </td><td>"" . date(""H:i"", strtotime($result['bet_till_time'])) . ""</td></tr>""; $return .= ""<tr><td>Odds: </td><td>"" . $result['odds'] . ""<input type='hidden' value='"" . $odds . ""' id='__odds-"" . $idCount . ""' /></td></tr>""; $return .= ""<tr><td>Stake: </td><td><div class='input-group'><span class='input-group-addon' id='basic-addon1'>&pound;</span><input style='width:100%' type='text' name='stake' id='stake-"" . $idCount . ""' aria-describedby='basic-addon1' placeholder='Stake' /></div></td></tr>""; $return .= ""<tr id='dynamic_return'><td colspan='10'><center><div class='input-group'><span class='input-group-addon' id='basic-addon2'>Estimated Return: &pound;</span><input style='width:100%' type='text' id='showdynamicreturn-"" . $idCount . ""' aria-describedby='basic-addon2' placeholder='0.00' readonly /></div></center></td></tr>""; if($result['ew_available'] == ""true"") { $return .= ""<tr><td><center><label>Each way bet?&nbsp;&nbsp;<input type='checkbox' id='eachWayChk' name='eachWayChk' /></label></center></td>"" . ""<td><center><input type='submit' name='submitTo__OpenBets' value='Place Bet' /></center></td></tr>""; } else { $return .= ""<tr><td colspan='10'><center><input type='submit' name='submitTo__OpenBets' value='Place Bet' /></center></td></tr>""; } $return .= ""<!-- Hidden fields for the horses information. -->""; $return .= ""<input type='hidden' name='betslip_id' value='"" . $result['bet_id'] . ""' />""; $return .= ""<input type='hidden' name='sport' value='"" . $currentpage . ""' />""; $return .= ""<input type='hidden' name='eachWay' id='eachWay' value='' />""; $return .= ""<input type='hidden' name='odds' value='"" . $result['odds'] . ""' />""; $return .= ""<input type='hidden' name='ew_odds' value='"" . $result['ew_odds'] . ""' />""; $return .= ""<input type='hidden' name='sport' value='"" . $result['sport'] . ""' />""; $return .= ""<input type='hidden' name='bettilldate' value='"" . $result['bettilldate'] . ""' />""; $return .= ""<input type='hidden' name='bettilltime' value='"" . $result['bettilltime'] . ""' />""; $return .= ""<!-- Area to \""submit a delete\"" and remove an item from the bet slip. -->""; $return .= ""<tr><td colspan='100%'><center><input type='submit' name='delete_betslip_item' value='Delete this bet' onclick=\""return confirm('Are you sure you want to delete this?')\"" /></center></td></tr>""; $return .= ""</table>""; $return .= ""</form>""; $return .= ""</div><br>""; } $return .= ""</div>""; return $return;} <div style='border: 1pt solid black; width: 99%; border-radius: 25pt;'> <h2>Cyprus v Wales - Match Betting</h2> <form action='/' method='post'> <table class='table table-condensed'> <tr> <td style='width: 50%;'>Sport: </td> <td>Football</td> </tr> <tr> <td style='width: 50%'>Participant: </td> <td>Cyprus</td> </tr> <tr> <td>Market: </td> <td>Euro 2016</td> </tr> <tr> <td>Time: </td> <td>19:45</td> </tr> <tr> <td>Odds: </td> <td>19/5<input type='hidden' value='3.8' id='__odds-3' /></td> </tr> <tr> <td>Stake: </td> <td> <div class='input-group'><span class='input-group-addon' id='basic-addon1'>&pound;</span><input style='width: 100%' type='text' name='stake' id='stake-3' aria-describedby='basic-addon1' placeholder='Stake' /></div> </td> </tr> <tr id='dynamic_return'> <td colspan='10'> <center><div class='input-group'><span class='input-group-addon' id='basic-addon2'>Estimated Return: &pound;</span><input style='width:100%' type='text' id='showdynamicreturn-4' aria-describedby='basic-addon2' placeholder='0.00' readonly /></div></center> </td> </tr> <tr> <td colspan='10'> <center><input type='submit' name='submitTo__OpenBets' value='Place Bet' /></center> </td> </tr> <!-- Hidden fields for the horses information. --> <input type='hidden' name='betslip_id' value='13' /><input type='hidden' name='sport' value='' /><input type='hidden' name='eachWay' id='eachWay' value='' /><input type='hidden' name='odds' value='19/5' /><input type='hidden' name='ew_odds' value='' /><input type='hidden' name='sport' value='Football' /><input type='hidden' name='bettilldate' value='' /><input type='hidden' name='bettilltime' value='' /><!-- Area to ""submit a delete"" and remove an item from the bet slip. --><tr> <td colspan='100%'> <center><input type='submit' name='delete_betslip_item' value='Delete this bet' onclick=""return confirm( 'Are you sure you want to delete this?' )"" /></center> </td> </tr> </table> </form></div>",Work out values from loaded information
"File Exists, but PHP returns ""No such file or directory"""," In PHP, I'm receiving this: Warning: fopen(/tmp/mydir/file.txt): failed to open stream: No such file or directory when calling fopen ('/tmp/mydir/file.txt', ""r"");However: If I try to do print_r(scandir('/tmp/')); I get an empty array. Doing print_r(scandir('/tmp/mydir/')); I get failed to open dir: No such file or directory. However, doing print_r(scandir('/home/user/')); returns failed to open dir: Permission denied. For some reason, directories in /tmp show no such file or directory, even though they exist. It's also not a permission issue, and if it were, it would (should) produce the permission error.What am I missing here? Or is this a known bug? <code>  cd /tmpls -l .drwxrwxr-x 2 user 4.0K Aug 19 14:09 mydirls -l mydir-rw-rw-r-- 1 user 41K Aug 19 14:09 file.txt","File Exists in /tmp, but PHP returns ""No such file or directory"" on CentOS"
How to send Notification to android from php?," I have developed a website using php and mysql.I want to send notification to Android device for every post which is uploaded to my website.Is it possible to send notification using GCM Server? If yes, then how can I send notification to all devices which have the Android app installed? <code> ",How to send Notification to Android from php?
Adding mongodb extention for php 5.6 (XAMPP), I have read few post here on solving my issue but neither works for php-5.6. I downloaded php_mongo-1.6.8.zip and php_mongo-1.6.7.zip and tried all the .dll extensions and all of them gives one or the other error.Error message:PHP Startup: Unable to load dynamic library 'C:\xampp\php\ext\php_mongo-1.6.8-5.6-vc11-x86_64.dll' - %1 is not a valid Win32 application.in Unknown on line 0PHP Startup: Unable to load dynamic library 'C:\xampp\php\ext\php_mongo-1.6.8-5.6-vc11.dll' - The specified module could not be found.in Unknown on line 0P.S.: I am using XAMPP for my environment. <code> ,Adding mongodb extension for php 5.6 (XAMPP)
PHP basic  methods running when not called and then not?," EDIT: Title edited to make it more useful. Originally I had no idea that it was the use of a shared word that was causing the problem.This is very basic but rather mysterious.I have two classes: and called by Result Hello WorldI originally accidentally had hello for the name of the class World's method. Result Hello i.e. no World.Question 1Why are the methods firing? I have instantiated two objects but have not requested that the method fire. I thought I would have to do something like: to get an output.Question 2I am even more mystified that I only get Hello if both functions are called hello.Surely instantiates two completely separate objects. So how does the actual NAME of a method affect anything?I have a long way to go but this really confused me. <code>  class Hello{ public function hello() { echo ""Hello""; }} class World{ public function world() { echo "" World""; }} include_once 'classes/Hello.php';include_once 'classes/world.php';$hi= new Hello; $wd= new World;` $hi->hello(); $hi= new Hello;$wd= new World;",Why is a method with the same name as the class being called automatically?
Why is a method having a name like its class' name get called automatically?," EDIT: Title edited to make it more useful. Originally I had no idea that it was the use of a shared word that was causing the problem.This is very basic but rather mysterious.I have two classes: and called by Result Hello WorldI originally accidentally had hello for the name of the class World's method. Result Hello i.e. no World.Question 1Why are the methods firing? I have instantiated two objects but have not requested that the method fire. I thought I would have to do something like: to get an output.Question 2I am even more mystified that I only get Hello if both functions are called hello.Surely instantiates two completely separate objects. So how does the actual NAME of a method affect anything?I have a long way to go but this really confused me. <code>  class Hello{ public function hello() { echo ""Hello""; }} class World{ public function world() { echo "" World""; }} include_once 'classes/Hello.php';include_once 'classes/world.php';$hi= new Hello; $wd= new World;` $hi->hello(); $hi= new Hello;$wd= new World;",Why is a method with the same name as the class being called automatically?
How to calculate longest undefeated streak using MySQL," I'm creating a web page that lists various longest streaks for a single team, but I've encountered an issue when trying to calculate a streak for a combination of result types involved.The data is presented in a table as follows... Using the following query (or similar), I can determine the longest run of wins or losses or even games scored in. This is based on the excellent resource I found here. It does exactly what I want it to and tells me what I want to know - the same applies if I change to What I can't work out is how to calculate the longest streak of undefeated games i.e. the longest run without an L. And it's the same vice-versa.I've tried the following query to no avail: I've also tried altering the query to: Again, this doesn't work. Both attempts mirror the query that's used to deliver the longest streak of Ws or Ls - and a manual count of my data tells me that isn't correct. I'm no doubt missing something simple here, but how can I execute that query so it tells me the longest streak of results with either Ls or Ws? <code>  date result gf ga type compfull--------------------------------------------------1980-08-16 W 3 0 league Division 11980-08-19 L 1 2 league Division 11980-08-23 W 3 1 league Division 11980-08-26 W 2 0 league Division 11980-08-30 D 2 2 league Division 1and so on... SELECT result, type, MIN(date) as StartDate, MAX(date) as EndDate, COUNT(*) as Games FROM (SELECT result, type, date, compfull, (SELECT COUNT(*) FROM resultengine R WHERE R.result <> RE.resultAND R.date <= RE.date) as RunGroupFROM resultengine RE) A WHERE result='W' GROUP BY result, RunGroup ORDER BY Games result='L' SELECT result, type, MIN(date) as StartDate, MAX(date) as EndDate, COUNT(*) as Games FROM (SELECT result, type, date, compfull, (SELECT COUNT(*) FROM resultengine R WHERE R.result <> RE.resultAND R.date <= RE.date) as RunGroupFROM resultengine RE) A WHERE result!='W' GROUP BY result, RunGroup ORDER BY Games WHERE result='W' OR result='D'",How to calculate longest undefeated streak using MySQL?
Storing requests in objects. Some trick needed," I have been working on a client - server project. The server side implemented on PHP. The client implemented on C#. The websocket is used for connection between them.So, here is the problem. Client will make a request. Json is in use for sending objects and validating against the schema. The request MUST HAVE it's name and MAY contain args. Args are like associative array (key => value).Server will give a response. Response MAY contain args, objects, array of objects. For example, client sends a request like: For this, server will reply with an AuthSuccess or AuthFailed response like: If response is AuthSuccess, client will send a requst of who is online. Server must send an array of users. And so on. So the problem is, how to store those responses on a client side. I mean, the way of creating a new object for each response type is insane. They will be hundreds of request types, and each of them requires it's own response. And any changing in structure of request will be very very hard...Need some kind of pattern or trick. I know it's kind of a noob way... But if anyone has a better idea of implementing request/response structure, please tell it.Best regards! <code>  { ""name"": ""AuthenticationRequest"", ""username"": ""root"", ""password"": ""password"", ""etc"": ""etc"" } { ""name"": ""AuthFailed"", ""args"": [ { ""reason"": ""Reason text"" }] }",Parsing (many) JSON different objects to C# classes. Is strongly typed better?
CodeIgniter callable form validation bug," I have a problem with my form validation rules (in a seperate config file). This occurs with checkboxes.To organize my validation rules, I created a library file called validation_rules. This library contains all my custom callbacks like valid_date etc. To be able to call these rules, I load the library, and then use the following config: Where $ci is a reference to CodeIgniter ($this).Now this works fine for most types of input, but it doesn't work for checkboxes that are left empty, probably since they don't get posted.HOWEVER, when I ditch my library and simply add the callback to the controller, everything works fine with the following config: Also, when I add the rules required anywhere in the rules array (or string), the required rule does get called (returning false since the checkbox is not checked), but all other rules are completely ignored.This must be a bug in CodeIgniter right? Does anybody have a solution or workaround? Of course this is an option, but I really don't like it.Relevant documentation: http://www.codeigniter.com/user_guide/libraries/form_validation.htmlEdit: Checkbox PHP/HTML: <code>  array( 'field' => 'terms', 'label' => 'lang:reg_lbl_terms', 'rules' => array(array('terms_accepted', array($ci->validation_rules, 'terms_accepted'))) ), array( 'field' => 'terms', 'label' => 'lang:reg_lbl_terms', 'rules' => array('callback_terms_accepted') ), <?php$data = array( 'name' => 'terms', 'value' => 'true');echo form_checkbox($data);// Results in: <input type=""checkbox"" name=""terms"" value=""true"">// No set_value() is used.?>","How to make CodeIgniter callable work for checkboxes that are left empty, custom form validation bug"
My SQL Statement Returns FALSE," This is my PHP SQL statement and it's returning false while var dumping <code>  $sql = $dbh->prepare('INSERT INTO users(full_name, e_mail, username, password) VALUES (:fullname, :email, :username, :password)');$result = $sql->execute(array( ':fullname' => $_GET['fullname'], ':email' => $_GET['email'], ':username' => $_GET['username'], ':password' => $password_hash));",Why does this PDO statement silently fail?
PDO Statement Returns FALSE," This is my PHP SQL statement and it's returning false while var dumping <code>  $sql = $dbh->prepare('INSERT INTO users(full_name, e_mail, username, password) VALUES (:fullname, :email, :username, :password)');$result = $sql->execute(array( ':fullname' => $_GET['fullname'], ':email' => $_GET['email'], ':username' => $_GET['username'], ':password' => $password_hash));",Why does this PDO statement silently fail?
My PDO Statement doesn't work," This is my PHP SQL statement and it's returning false while var dumping <code>  $sql = $dbh->prepare('INSERT INTO users(full_name, e_mail, username, password) VALUES (:fullname, :email, :username, :password)');$result = $sql->execute(array( ':fullname' => $_GET['fullname'], ':email' => $_GET['email'], ':username' => $_GET['username'], ':password' => $password_hash));",Why does this PDO statement silently fail?
Sort products after category (in parent category view)," I have a quite unique problem.I have a shop where there are multiple categories in a setup like this Collection .... Shorts (products: small 16 - RED and small 20 - BLUE) .... Dress (products: blue: 16 , Green 19)If I open Collection in the shop I get the items like this Blue 16 Green 19 small 16 - RED small 20 - BLUEI want my output to be like this: small 16 - RED small 20 - BLUE Blue 16 Green 19 How can i get this results? I'm sorry i haven't provided any code, as i have no idea how i should achieve this <code> ",Sort products by category (in parent category view)
php - exceptions propagation," Suppose I have a function a that throws an exception $e. Hence, according to phpdoc I should have an annotation @throws over the definition of a.When I have another function b calling a is it good practice/bad practice/correct/wrong to have a @throw annotation over the definition of b indicating that b could throw that kind of exception? <code>  function b() { a();}",Exception annotations for propagated exceptions
Microsoft 10 Edge browser Mime Types," When checking the file mime types of files being uploaded in Microsoft 10's Edge browser, I get this Mime Type for .doc files: Apparently this indicates ""arbitrary binary data"": Do I need Content-Type: application/octet-stream for file download?On other browsers I get application/mswordIs there a new way mime types are handled for .doc files for the Edge browser, and maybe other mime types I need to be aware of?Update:I was grabbing the mime type using php's $_FILES['uploadName']['type'] <code>  application/octet-stream",Getting Microsoft 10 Edge browser Mime Types php
select multiple column form database in laravel," How can I run following query in Laravel? I don't want to retrieve all columns records as we do by  <code>  Select column1,column2,column3 from table; Select * from table;",Select multiple column form database in Laravel
How to select year and month form the created_at attributes of database table in laravel 5.1?," My problem is that I want to get data form the database table from the created_at attributes as per year and month only. The code I have tried is: <code>  $post= Mjblog::select(DB::raw('YEAR(created_at) year, MONTH(created_at) month'));$posts_by_y_m = $post->where('created_at',$post)->get();",How to select year and month from the created_at attributes of database table in laravel 5.1?
Strange behavior in Laravel queue job," Please consider the following job: Dispatching this job using a sync queue $this->dispatch(new \App\Jobs\ImportUsers(5)); throw this exception: Undefined property: App\Jobs\ImportUsers::$number. This really seems odd for me. Why the handle method can not access class properties? <code>  <?phpnamespace App\Jobs;use Illuminate\Contracts\Bus\SelfHandling;use Illuminate\Contracts\Queue\ShouldQueue;use Illuminate\Queue\InteractsWithQueue;use Illuminate\Queue\SerializesModels;class ImportUsers extends Job implements SelfHandling, ShouldQueue{ use InteractsWithQueue, SerializesModels; public function __construct($number) { $this->number=$number; } public function handle() { dd($this->number); return; }}",How to send parameters to queues?
PHPStorm type hinting using PHPDoc in subclasses," With respect to this post:In PHPStorm, how can I make type hinting work when I have a superclass method that returns a different type from each subclass,this one is about an edge case in PHPStorm type hinting. Please try to follow along - I'll do my best to be as clear as possible:So, I've got this base abstract class: which another class inherits from: and which is further extended by a third class: Below is a sample of the myModel class: My true question is how to properly ""phpdoc"" this scenario:A subclass myNewController is using an inherited variable _model to assign an instance of another class myModel which has a unique function form. How should PHPStorm properly find out about form in myNewController?My solution so far involves documenting myBaseController like this: However I think @var object is too broad (PHPStorm won't find its declaration) and my guess is that there should be a better (and more specific) way to do this.Maybe we could instead do: if PHPStorm had a way of looking into the subclasses for the method.Any ideas?Thank you all in advance. <code>  abstract class myBaseController { protected $_model; ...} class myController extends myBaseController { $hello = 'hello'; ...} class myNewController extends myController { public $myvar; $this->_model = new myModel(); ... public function myFunc(){ // !!form is underlined as: ""Method 'form' not found in class""!! $form = $this->_model->form($new_variable); } class myModel extends BaseModel { $world = 'world'; public function form($my_variable) { do_something(); } abstract class myBaseController { /** * @var object */ protected $_model; ...} /** * @var BaseModel */",PHPStorm type hinting subclasses of baseclass
jQuery Datatables custom database query Laravel 5.1," I am using jQuery DataTables for my view list. I used server-side processing mode which works perfectly especially for huge datasets. But my problem is that I am only able to do this using single database table. What about using custom query using multiple tables with JOIN without changing too much is my code?So I have this:HTML Ajax Controller In my controller you can see the $aColumns which contains the table column that I want to get in the table customersWhat if I want a custom query to fetch data like: So I have inner joins instead of one table only. <code>  <table id=""CustomerList"" class=""table table-striped table-bordered"" cellspacing=""0"" width=""100%""> <thead> <tr> <th colspan=""7""> <center>Customer Information<center></th> <th colspan=""1""> <center>Actions<center></th> </tr> <tr> <th>ID</th> <th>First Name</th> <th>Last Name</th> <th>Gender</th> <th>Phone Number</th> <th>Country</th> <th>Postcode</th> <th>Edit</th> <!-- <th>Edit</th> <th>Delete</th> --> </tr> </thead> <tbody> </tbody></table> <script type=""text/javascript"">$(document).ready(function() { $.fn.dataTable.ext.legacy.ajax = true; var table = $('#CustomerList').DataTable( { ""processing"": true, ""serverSide"": true, ""ajax"": ""api/customer/all"", ""columnDefs"": [ { ""targets"": 7, ""render"": function(data, type, row, meta){ // return '<a href=""/qms/public/customer/' + row[0] + '/edit"">Edit</a>'; return ""<a class='btn btn-small btn-info' href='<?php echo URL::to('customer').'/';?>""+row[0]+""/edit'><span class='glyphicon glyphicon glyphicon-edit' aria-hidden='true'></span></a>""; } } ] }); var tt = new $.fn.dataTable.TableTools( $('#CustomerList').DataTable() ); $( tt.fnContainer() ).insertBefore('div.dataTables_wrapper');}); public function apiGetCustomers(){ /*=================================================================*/ /* * Script: DataTables server-side script for PHP and PostgreSQL * Copyright: 2010 - Allan Jardine * License: GPL v2 or BSD (3-point) */ /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * Easy set variables */ /* Array of database columns which should be read and sent back to DataTables. Use a space where * you want to insert a non-database field (for example a counter or static image) */ $aColumns = array('id', 'firstname', 'lastname', 'gender', 'phone_num', 'country', 'postcode' ); /* Indexed column (used for fast and accurate table cardinality) */ $sIndexColumn = ""phone_num""; /* DB table to use */ $sTable = ""customers""; /* Database connection information */ $gaSql['user'] = ""postgres""; $gaSql['password'] = ""postgres""; $gaSql['db'] = ""qms""; $gaSql['server'] = ""localhost""; /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * If you just want to use the basic configuration for DataTables with PHP server-side, there is * no need to edit below this line */ /* * DB connection */ $gaSql['link'] = pg_connect( "" host="".$gaSql['server']. "" dbname="".$gaSql['db']. "" user="".$gaSql['user']. "" password="".$gaSql['password'] ) or die('Could not connect: ' . pg_last_error()); /* * Paging */ $sLimit = """"; if ( isset( $_GET['iDisplayStart'] ) && $_GET['iDisplayLength'] != '-1' ) { $sLimit = ""LIMIT "".intval( $_GET['iDisplayLength'] )."" OFFSET "". intval( $_GET['iDisplayStart'] ); } /* * Ordering */ if ( isset( $_GET['iSortCol_0'] ) ) { $sOrder = ""ORDER BY ""; for ( $i=0 ; $i<intval( $_GET['iSortingCols'] ) ; $i++ ) { if ( $_GET[ 'bSortable_'.intval($_GET['iSortCol_'.$i]) ] == ""true"" ) { $sOrder .= $aColumns[ intval( $_GET['iSortCol_'.$i] ) ]."" "".($_GET['sSortDir_'.$i]==='asc' ? 'asc' : 'desc')."", ""; } } $sOrder = substr_replace( $sOrder, """", -2 ); if ( $sOrder == ""ORDER BY"" ) { $sOrder = """"; } } /* * Filtering * NOTE This assumes that the field that is being searched on is a string typed field (ie. one * on which ILIKE can be used). Boolean fields etc will need a modification here. */ $sWhere = """"; if ( $_GET['sSearch'] != """" ) { $sWhere = ""WHERE (""; for ( $i=0 ; $i<count($aColumns) ; $i++ ) { if ( $_GET['bSearchable_'.$i] == ""true"" ) { if($aColumns[$i] != 'id') // Exclude ID for filtering { $sWhere .= $aColumns[$i]."" ILIKE '%"".pg_escape_string( $_GET['sSearch'] ).""%' OR ""; } } } $sWhere = substr_replace( $sWhere, """", -3 ); $sWhere .= "")""; } /* Individual column filtering */ for ( $i=0 ; $i<count($aColumns) ; $i++ ) { if ( $_GET['bSearchable_'.$i] == ""true"" && $_GET['sSearch_'.$i] != '' ) { if ( $sWhere == """" ) { $sWhere = ""WHERE ""; } else { $sWhere .= "" AND ""; } $sWhere .= $aColumns[$i]."" ILIKE '%"".pg_escape_string($_GET['sSearch_'.$i]).""%' ""; } } $sQuery = "" SELECT "".str_replace("" , "", "" "", implode("", "", $aColumns))."" FROM $sTable $sWhere $sOrder $sLimit ""; $rResult = pg_query( $gaSql['link'], $sQuery ) or die(pg_last_error()); $sQuery = "" SELECT $sIndexColumn FROM $sTable ""; $rResultTotal = pg_query( $gaSql['link'], $sQuery ) or die(pg_last_error()); $iTotal = pg_num_rows($rResultTotal); pg_free_result( $rResultTotal ); if ( $sWhere != """" ) { $sQuery = "" SELECT $sIndexColumn FROM $sTable $sWhere ""; $rResultFilterTotal = pg_query( $gaSql['link'], $sQuery ) or die(pg_last_error()); $iFilteredTotal = pg_num_rows($rResultFilterTotal); pg_free_result( $rResultFilterTotal ); } else { $iFilteredTotal = $iTotal; } /* * Output */ $output = array( ""sEcho"" => intval($_GET['sEcho']), ""iTotalRecords"" => $iTotal, ""iTotalDisplayRecords"" => $iFilteredTotal, ""aaData"" => array() ); while ( $aRow = pg_fetch_array($rResult, null, PGSQL_ASSOC) ) { $row = array(); for ( $i=0 ; $i<count($aColumns) ; $i++ ) { if ( $aColumns[$i] == ""version"" ) { /* Special output formatting for 'version' column */ $row[] = ($aRow[ $aColumns[$i] ]==""0"") ? '-' : $aRow[ $aColumns[$i] ]; } else if ( $aColumns[$i] != ' ' ) { /* General output */ $row[] = $aRow[ $aColumns[$i] ]; } } $output['aaData'][] = $row; } echo json_encode( $output ); // Free resultset pg_free_result( $rResult ); // Closing connection pg_close( $gaSql['link'] );} $query = ""SELECT a.id as crmid, b.name, a.title, a.firstname, a.surname, a.disposition, a.gross, a.created_at, a.phone_num FROM forms a INNER JOIN users b ON a.agent_id = b.id;"";",How to use database query with JOIN in server-side processing mode
Writing the full path of the file when it is browsed uisng php," So far I wrote a script so that I can browse for a file and see the printed name of the file. Here is the script: When I hit the browse button and choose a file, only the name of the file gets printed on my web page (My web-browser is Firefox and I am using a local server). Is there a way to print the whole address of the file? What I have found on the web so far were mostly suggesting ways when we know in advance ""/path/to/file"". But how can it be done if I randomly choose a file? If there is no way to do it with PHP because of security issues according to: How to get full path of selected file on change of <input type=file> using javascript, jquery-ajax?, Is it possible t do it with C, C++, html, etc?I really need to show the local path of the directory. What are the alternatives? The answer is it can't be done? I found this website http://www.htaccesstools.com/articles/full-path-to-file-using-php/Don't know how it works though.The other alternative would be to define a fixed path and let the user only choose that directory and since it is known I can print it out. Does it make sense? <code>  <form action=""upload.php"" method=""post"" enctype=""multipart/form- data""> Select: <input type=""file"" name=""fileToUpload"" id=""fileToUpload""> </form>",Writing the full path of the file when it is browsed using php
Return the amount of overlapping minutes between to PHP DatePeriods," I just asked this question and it was marked as already answered but whoever did that obviously did not understand the question. This post was marked as a duplicate question to this, How to get time difference in minutes in PHP , but they are not even remotely the same. I'm looking for the amount of overlapping time in two DatePeriods not the difference between two dates.A ""DatePeriod"" consists of two dates and I'm looking for the amount of overlap between two DatePeriods. There is another post I found that answers half of my question here, Determine Whether Two Date Ranges Overlap and it works great but it does not give me the amount of time overlap between the two date ranges. It only determines if they overlap or not. I need to know the amount of minutes that they overlap. So Here is my original question...I assumed there would be a very easy way to do this but I have looked all over and can not find a solution. The logic is simple: find the amount of overlapping minutes given two DatePeriods.For example,-I have $startDate1 and $endDate1 as the first date range.-I have $startDate2 and $endDate2 as the second date range.(For demonstration sake, the format is 'Y-m-d H:i'. )Suppose $startDate1 = '2015-09-11 09:15' and $endDate1 = '2015-09-13 11:30'.Suppose $startDate2 = '2015-09-13 10:45' and $endDate2 = '2015-09-14 12:00'.I would expect a result of 45 minutes overlap. How can this be achieved?I have seen this done using two DateTimes but that is not what I'm looking for.A datePeriod consists of two DateTimes and I'm looking for the difference between two DatePeriods. <code> ",Return the amount of overlapping minutes between two PHP DatePeriods
"Why many PHP developer use ""__DIR__ . '../otherFolder'""?"," Often I see this type of code __DIR__.'/../Resources/config'. But why is the point, am I wrong that is it the same that typing ../Resources/config' ? <code> ","Why many PHP developers use ""__DIR__ . '../otherFolder'""?"
Unable to set private key file," I try to make a connection through SoapClient. I need a certificate for this. I received a .pfx certificate. I used the following command to create a .pem file. There is a password in the certificate so I need to enter it before I get the cert.pem file. So far so good, I think.Now I try to connect to the WSDL service. I get the following error: (Warning) SoapClient::SoapClient(): Unable to set private key file `/var/www/vhosts/............./cert.pem'I think the problem is the certificate. Is the way that I converted the .pfx to a .pem the correct way? <code>  openssl pkcs12 -in cert.pfx -out cert.pem -nodes $url = ""https://test.website.com/webservices/transfer.asmx?WSDL"";$cert = '/path/to/cert.pem';$passphrase = ""12345678""; $soapClient = new SoapClient($url, array('local_cert'=>$cert,'passphrase'=>$passphrase));",Certificate not accepted. Unable to set private key file
Have the Sandbox of an API write to a temporary folder in PHP," EDIT 1This question involves the user of the MANGOPAY API. My problem is that I cannot get the API to write to the tmp folder. I have succeeded in getting the API to write to http://fakedomain.com/apifolder/blank.txt and getting the appropriate output. I then ran the script http://fake.com/apifolder/demos/iswrite.php on http://fakedomain.com/apifolder/blank.txt to have minimal working code I could test on the tmp folder. Here is the code in the script: It gives me the outputThe file blank.txt existsThe file is writableso all good there. I created the following file with the following permissions using Filezilla:In the script http://fake.com/apifolder/demos/iswrite.php I have changed the filename variable to $filename = 'http://fake.com/tmp/creative/blank.txt';. It gives me the following output:The file http://fake.com/tmp/creative/blank.txt does not existThe file is not writableAlso, allow_url_fopen is on. I don't fully understand URL structures, so maybe the problem lies there? The tmp folder I am trying to access is on the same level as my public_html folder. Maybe I am writing my URLs wrong?Put in another way, does the tmp folder have to be outside the public_html folder? Would there be any purpose to this? Or can I have create my own tmp folder within public_html where it is already working? ORIGINAL QUESTIONThe original question was poorly written. Please see EDIT 1I am playing with the sandbox of an API (MangoPay). I have included my ClientId and ClientPassword which seems to work. The API also says... You also need to set a folder path in $api->Config->TemporaryFolder that SDK needs to store temporary files. This path should be outside your www folder. It could be /tmp/ or /var/tmp/ or any other location that PHP can write to.I have created one at:ftp://fakedomain@fakedomain/tmp/fakefoldernameI am running the php script from my desktop using Terminal. The output it is giving me is Cannot create or write to file ftp://fakedomain@fakedomain/tmp/fakefoldernameeven though I have set permissions to 777. Any idea of why I am getting this error? <code>  <?php$filename = 'blank.txt';echo ""<br>"";file_exists($filename);echo ""<br>"";if (file_exists($filename)) { echo ""The file $filename exists"";} else { echo ""The file $filename does not exist"";}echo ""<br>"";if (is_writable($filename)) { echo 'The file is writable';} else { echo 'The file is not writable';}?>",Write to tmp folder
Cant open phpmyadmin (windows)," I downloaded XAMPP three days ago and I keep getting this error when trying to open phpmyadmin. phpMyAdmin tried to connect to the MySQL server, and the server rejected the connection. You should check the host, username and password in your configuration and make sure that they correspond to the information given by the administrator of the MySQL server.I haven't even set a password because I can't open the security page, I keep getting a page not found error.How do I fix this? <code> ",Can't open phpMyAdmin (Windows)
"Creating migrations for stored procedures, functions and events in laravel 4.1 from existing database"," I am working on laravel 4.1. I have a ready made mysql database created by other means. I have managed to create a migration from the existing database that would create all the tables in the database if run.I want the migration to also include the stored procedures, functions and events present in the database.I would specifically like to know how to create laravel migrations for stored procedures, events and functions from an existing database. <code> ","Creating migrations for stored procedures, functions and events from existing database in Laravel"
"When i am trying to start Apache, the following error appears in the Apache error log:"," When i am trying to start Apache, the following error appears in the Apache error log: PHP Fatal error: [ionCube Loader] The Loader must appear as the first entry in the php.ini file in Unknown on line 0 <code> ",PHP Fatal error: [ionCube Loader] The Loader must appear as the first entry in the php.ini
how to clean Laravel Boostrap cache config file?, I developed laravel app locally and uploaded in shared hosting. While hosting I changed the database name and username of mysql in the .env and the config/database files.But in remote its still using the old db name and user which is found in the bootstrap/cache/config file.So how to clean the bootstrap/cache/config.php file? <code> ,how to clean Laravel Bootstrap cache config file?
"PHP - How to create a nested array from mysql results, using each primary keys value as an array key"," I'll start by showing a non-recursive example Non- recursive example $results Equals Simple, the key name has been set to the value of the given child element. But I would like to be able to nest and unnest by using multiple key names.Example $given_key_names = array('site_id', 'language_id');In this case the required result would be. $results[0][1] = array( 'name' => 'sitename', 'description' =>'site desc', );ExplanationThe first keys value has been used as the first key in the $results array and a new empty array is created as its value. $results[0] = array(); As there is a second key, its value is set as a key to the newly created array and its value is also a new empty array. $results[0][1] = array(); As there are no more keys the empty array is populated with the remaining values$results[0][1] = array( 'name' => 'sitename', 'description' =>'site desc', );so i would like two functions nestByKeyNames and unNestByKeyName.NestByKeyNames FunctionChristians Answer solves this I wonder whether array_combine(array_column($arrayRows, $key_name),$arrayRows); could be used instead of the first iteration to improve performance?This represents the results from a mysql select statement. The following output is produced UnNestByKeyNames FunctionunNestByKeyNames should be able to take this output and convert it back to the original array providing that it is given the key names. Christians Answer did not solves this as it doesnt work with a single key name but i can tell its very close. My true goal is to take the results from MYSQL SELECT statement and populate a form using the same naming convention by using nestByKeyNames. e.g. and then convert the $_POST request back into an MYSQL INSERT statement by first using unNestByKeyNames.From this i will create an INSERT statement. The final result should produce a sql statement like so INSERT INTO table_name (pri_id_1,pri_id_2,pri_id_3,col_1,col_2,col_3) VALUES ('1','1','1','NEW_value_1111','NEW_value_1112','NEW_value_1113') , ('1','2','1','NEW_value_1211','NEW_value_1212','NEW_value_1213') , ('1','3','1','NEW_value_1311','NEW_value_1312','NEW_value_1313')What I Would likeImprovement suggestions on the 'nestByKeyNames' function (performance/ does it have bugs)help producing 'unNestByKeyNames' codeImprovement suggestions on my '$rows to mysql INSERT' approach examples of how i could make any of my code perform better. <code>  $given_key_name = 'site_id';$rows[] = array( 'site_id' => '0', 'language_id' => '1', 'name' => 'sitename', 'description' =>'site desc',);$results = array();foreach($rows as $row){ $key_value = $row[$given_key_name]; unset($row[$given_key_name]); $results[$key_value] = $row;}// OR This method is faster than the forloop$results = array_combine(array_column($rows, $given_key_name),$rows);foreach($results as &$row){ unset($row[$given_key_name]); } $results[0] = array( 'language_id' => '1', 'name' => 'sitename', 'description' =>'site desc',); function nestByKeyNames($arrayRows, $arrayKeyOrder){ // Prepare resulting array $arrayResult = array(); // Cycle the input array foreach($arrayRows as $someRow){ // We will acomplish this using references $current = &$arrayResult; // get the current level foreach($arrayKeyOrder as $someKey){ $someValue = $someRow[$someKey]; if(isset($current[$someValue])){ $current = &$current[$someValue]; }else{ $current[$someValue] = array(); $current = &$current[$someValue]; } unset($someRow[$someKey]); } $current = $someRow; } return $arrayResult;} $rows = array( array( 'pri_id_1' =>1, 'pri_id_2' =>1, 'pri_id_3' =>1, 'col_1' =>'col_value_1111', 'col_2' =>'col_value_1112', 'col_3' =>'col_value_1113', ), array( 'pri_id_1' =>1, 'pri_id_2' =>2, 'pri_id_3' =>1, 'col_1' =>'col_value_1211', 'col_2' =>'col_value_1212', 'col_3' =>'col_value_1213', ), array( 'pri_id_1' =>1, 'pri_id_2' =>3, 'pri_id_3' =>1, 'col_1' =>'col_value_1311', 'col_2' =>'col_value_1312', 'col_3' =>'col_value_1313', ));$keyNames = array('pri_id_1','pri_id_2','pri_id_3');$results = nestByKeyNames($rows, $keyNames); Array( [1] => Array ( [1] => Array ( [1] => Array ( [col_1] => col_value_1111 [col_2] => col_value_1112 [col_3] => col_value_1113 ) ) [2] => Array ( [1] => Array ( [col_1] => col_value_1211 [col_2] => col_value_1212 [col_3] => col_value_1213 ) ) [3] => Array ( [1] => Array ( [col_1] => col_value_1311 [col_2] => col_value_1312 [col_3] => col_value_1313 ) ) )) function unNestByKeyNames($arrayRows, $arrayKeyOrder){}$keyNames = array('pri_id_1','pri_id_2','pri_id_3');$rows = unNestKeyNames($results, $keyNames); <input name=""rows[1][1][1][col_1]"" value=""col_value_1"" /> function returnValues($rows, $column_names){ //validation has been removed for clarity $implode_VALUES = array(); foreach ($rows as $key => $row) { $implode_row_values = array(); foreach ($column_names as $column_name) { $implode_row_values[$column_name] = $row[$column_name]; } if($implode_row_values){ $implode_VALUES[] = "" ('"" . implode(""','"", $implode_row_values) . ""') ""; } } return $implode_VALUES;}$implode_COLUMNS = array('pri_id_1','pri_id_2','pri_id_3','col_1','col_2','col_3');$implode_VALUES = returnValues($rows, $implode_COLUMNS)$sql = ""INSERT INTO table_name ("" . implode(',', $implode_COLUMNS) . "") VALUES "" . implode(',', $implode_VALUES);",PHP - Recursively set each array element's key to the value of a child element when given the childs key name
"PHP - How to create a nested array from mysql results, using each primary keys value as an array key and reverse process"," I'll start by showing a non-recursive example Non- recursive example $results Equals Simple, the key name has been set to the value of the given child element. But I would like to be able to nest and unnest by using multiple key names.Example $given_key_names = array('site_id', 'language_id');In this case the required result would be. $results[0][1] = array( 'name' => 'sitename', 'description' =>'site desc', );ExplanationThe first keys value has been used as the first key in the $results array and a new empty array is created as its value. $results[0] = array(); As there is a second key, its value is set as a key to the newly created array and its value is also a new empty array. $results[0][1] = array(); As there are no more keys the empty array is populated with the remaining values$results[0][1] = array( 'name' => 'sitename', 'description' =>'site desc', );so i would like two functions nestByKeyNames and unNestByKeyName.NestByKeyNames FunctionChristians Answer solves this I wonder whether array_combine(array_column($arrayRows, $key_name),$arrayRows); could be used instead of the first iteration to improve performance?This represents the results from a mysql select statement. The following output is produced UnNestByKeyNames FunctionunNestByKeyNames should be able to take this output and convert it back to the original array providing that it is given the key names. Christians Answer did not solves this as it doesnt work with a single key name but i can tell its very close. My true goal is to take the results from MYSQL SELECT statement and populate a form using the same naming convention by using nestByKeyNames. e.g. and then convert the $_POST request back into an MYSQL INSERT statement by first using unNestByKeyNames.From this i will create an INSERT statement. The final result should produce a sql statement like so INSERT INTO table_name (pri_id_1,pri_id_2,pri_id_3,col_1,col_2,col_3) VALUES ('1','1','1','NEW_value_1111','NEW_value_1112','NEW_value_1113') , ('1','2','1','NEW_value_1211','NEW_value_1212','NEW_value_1213') , ('1','3','1','NEW_value_1311','NEW_value_1312','NEW_value_1313')What I Would likeImprovement suggestions on the 'nestByKeyNames' function (performance/ does it have bugs)help producing 'unNestByKeyNames' codeImprovement suggestions on my '$rows to mysql INSERT' approach examples of how i could make any of my code perform better. <code>  $given_key_name = 'site_id';$rows[] = array( 'site_id' => '0', 'language_id' => '1', 'name' => 'sitename', 'description' =>'site desc',);$results = array();foreach($rows as $row){ $key_value = $row[$given_key_name]; unset($row[$given_key_name]); $results[$key_value] = $row;}// OR This method is faster than the forloop$results = array_combine(array_column($rows, $given_key_name),$rows);foreach($results as &$row){ unset($row[$given_key_name]); } $results[0] = array( 'language_id' => '1', 'name' => 'sitename', 'description' =>'site desc',); function nestByKeyNames($arrayRows, $arrayKeyOrder){ // Prepare resulting array $arrayResult = array(); // Cycle the input array foreach($arrayRows as $someRow){ // We will acomplish this using references $current = &$arrayResult; // get the current level foreach($arrayKeyOrder as $someKey){ $someValue = $someRow[$someKey]; if(isset($current[$someValue])){ $current = &$current[$someValue]; }else{ $current[$someValue] = array(); $current = &$current[$someValue]; } unset($someRow[$someKey]); } $current = $someRow; } return $arrayResult;} $rows = array( array( 'pri_id_1' =>1, 'pri_id_2' =>1, 'pri_id_3' =>1, 'col_1' =>'col_value_1111', 'col_2' =>'col_value_1112', 'col_3' =>'col_value_1113', ), array( 'pri_id_1' =>1, 'pri_id_2' =>2, 'pri_id_3' =>1, 'col_1' =>'col_value_1211', 'col_2' =>'col_value_1212', 'col_3' =>'col_value_1213', ), array( 'pri_id_1' =>1, 'pri_id_2' =>3, 'pri_id_3' =>1, 'col_1' =>'col_value_1311', 'col_2' =>'col_value_1312', 'col_3' =>'col_value_1313', ));$keyNames = array('pri_id_1','pri_id_2','pri_id_3');$results = nestByKeyNames($rows, $keyNames); Array( [1] => Array ( [1] => Array ( [1] => Array ( [col_1] => col_value_1111 [col_2] => col_value_1112 [col_3] => col_value_1113 ) ) [2] => Array ( [1] => Array ( [col_1] => col_value_1211 [col_2] => col_value_1212 [col_3] => col_value_1213 ) ) [3] => Array ( [1] => Array ( [col_1] => col_value_1311 [col_2] => col_value_1312 [col_3] => col_value_1313 ) ) )) function unNestByKeyNames($arrayRows, $arrayKeyOrder){}$keyNames = array('pri_id_1','pri_id_2','pri_id_3');$rows = unNestKeyNames($results, $keyNames); <input name=""rows[1][1][1][col_1]"" value=""col_value_1"" /> function returnValues($rows, $column_names){ //validation has been removed for clarity $implode_VALUES = array(); foreach ($rows as $key => $row) { $implode_row_values = array(); foreach ($column_names as $column_name) { $implode_row_values[$column_name] = $row[$column_name]; } if($implode_row_values){ $implode_VALUES[] = "" ('"" . implode(""','"", $implode_row_values) . ""') ""; } } return $implode_VALUES;}$implode_COLUMNS = array('pri_id_1','pri_id_2','pri_id_3','col_1','col_2','col_3');$implode_VALUES = returnValues($rows, $implode_COLUMNS)$sql = ""INSERT INTO table_name ("" . implode(',', $implode_COLUMNS) . "") VALUES "" . implode(',', $implode_VALUES);",PHP - Recursively set each array element's key to the value of a child element when given the childs key name
PHP - Recursively set each array element's key to the value of a given child element + unset," I'll start by showing a non-recursive example Non- recursive example $results Equals Simple, the key name has been set to the value of the given child element. But I would like to be able to nest and unnest by using multiple key names.Example $given_key_names = array('site_id', 'language_id');In this case the required result would be. $results[0][1] = array( 'name' => 'sitename', 'description' =>'site desc', );ExplanationThe first keys value has been used as the first key in the $results array and a new empty array is created as its value. $results[0] = array(); As there is a second key, its value is set as a key to the newly created array and its value is also a new empty array. $results[0][1] = array(); As there are no more keys the empty array is populated with the remaining values$results[0][1] = array( 'name' => 'sitename', 'description' =>'site desc', );so i would like two functions nestByKeyNames and unNestByKeyName.NestByKeyNames FunctionChristians Answer solves this I wonder whether array_combine(array_column($arrayRows, $key_name),$arrayRows); could be used instead of the first iteration to improve performance?This represents the results from a mysql select statement. The following output is produced UnNestByKeyNames FunctionunNestByKeyNames should be able to take this output and convert it back to the original array providing that it is given the key names. Christians Answer did not solves this as it doesnt work with a single key name but i can tell its very close. My true goal is to take the results from MYSQL SELECT statement and populate a form using the same naming convention by using nestByKeyNames. e.g. and then convert the $_POST request back into an MYSQL INSERT statement by first using unNestByKeyNames.From this i will create an INSERT statement. The final result should produce a sql statement like so INSERT INTO table_name (pri_id_1,pri_id_2,pri_id_3,col_1,col_2,col_3) VALUES ('1','1','1','NEW_value_1111','NEW_value_1112','NEW_value_1113') , ('1','2','1','NEW_value_1211','NEW_value_1212','NEW_value_1213') , ('1','3','1','NEW_value_1311','NEW_value_1312','NEW_value_1313')What I Would likeImprovement suggestions on the 'nestByKeyNames' function (performance/ does it have bugs)help producing 'unNestByKeyNames' codeImprovement suggestions on my '$rows to mysql INSERT' approach examples of how i could make any of my code perform better. <code>  $given_key_name = 'site_id';$rows[] = array( 'site_id' => '0', 'language_id' => '1', 'name' => 'sitename', 'description' =>'site desc',);$results = array();foreach($rows as $row){ $key_value = $row[$given_key_name]; unset($row[$given_key_name]); $results[$key_value] = $row;}// OR This method is faster than the forloop$results = array_combine(array_column($rows, $given_key_name),$rows);foreach($results as &$row){ unset($row[$given_key_name]); } $results[0] = array( 'language_id' => '1', 'name' => 'sitename', 'description' =>'site desc',); function nestByKeyNames($arrayRows, $arrayKeyOrder){ // Prepare resulting array $arrayResult = array(); // Cycle the input array foreach($arrayRows as $someRow){ // We will acomplish this using references $current = &$arrayResult; // get the current level foreach($arrayKeyOrder as $someKey){ $someValue = $someRow[$someKey]; if(isset($current[$someValue])){ $current = &$current[$someValue]; }else{ $current[$someValue] = array(); $current = &$current[$someValue]; } unset($someRow[$someKey]); } $current = $someRow; } return $arrayResult;} $rows = array( array( 'pri_id_1' =>1, 'pri_id_2' =>1, 'pri_id_3' =>1, 'col_1' =>'col_value_1111', 'col_2' =>'col_value_1112', 'col_3' =>'col_value_1113', ), array( 'pri_id_1' =>1, 'pri_id_2' =>2, 'pri_id_3' =>1, 'col_1' =>'col_value_1211', 'col_2' =>'col_value_1212', 'col_3' =>'col_value_1213', ), array( 'pri_id_1' =>1, 'pri_id_2' =>3, 'pri_id_3' =>1, 'col_1' =>'col_value_1311', 'col_2' =>'col_value_1312', 'col_3' =>'col_value_1313', ));$keyNames = array('pri_id_1','pri_id_2','pri_id_3');$results = nestByKeyNames($rows, $keyNames); Array( [1] => Array ( [1] => Array ( [1] => Array ( [col_1] => col_value_1111 [col_2] => col_value_1112 [col_3] => col_value_1113 ) ) [2] => Array ( [1] => Array ( [col_1] => col_value_1211 [col_2] => col_value_1212 [col_3] => col_value_1213 ) ) [3] => Array ( [1] => Array ( [col_1] => col_value_1311 [col_2] => col_value_1312 [col_3] => col_value_1313 ) ) )) function unNestByKeyNames($arrayRows, $arrayKeyOrder){}$keyNames = array('pri_id_1','pri_id_2','pri_id_3');$rows = unNestKeyNames($results, $keyNames); <input name=""rows[1][1][1][col_1]"" value=""col_value_1"" /> function returnValues($rows, $column_names){ //validation has been removed for clarity $implode_VALUES = array(); foreach ($rows as $key => $row) { $implode_row_values = array(); foreach ($column_names as $column_name) { $implode_row_values[$column_name] = $row[$column_name]; } if($implode_row_values){ $implode_VALUES[] = "" ('"" . implode(""','"", $implode_row_values) . ""') ""; } } return $implode_VALUES;}$implode_COLUMNS = array('pri_id_1','pri_id_2','pri_id_3','col_1','col_2','col_3');$implode_VALUES = returnValues($rows, $implode_COLUMNS)$sql = ""INSERT INTO table_name ("" . implode(',', $implode_COLUMNS) . "") VALUES "" . implode(',', $implode_VALUES);",PHP - Recursively set each array element's key to the value of a child element when given the childs key name
Laravel - __construct function being ignored," I'm trying to use the __constructor from the extended class (AdminController extends AdminBaseController) but aparently it's not working and I have no idea of what can be, here you can see both of my classes:AdminBaseController.php AdminController.php EDITThis is my admin route group: <code>  class AdminBaseController extends Controller{ public function __construct(){ if (!Auth::user()){ return view('admin.pages.login.index'); } }} class AdminController extends AdminBaseController{ public function __construct(){ parent::__construct(); } public function index() { return view('admin.pages.admin.index'); } public function ajuda() { return view('admin.pages.admin.ajuda'); }} Route::group([ 'prefix' => 'admin', 'middleware' => 'auth'], function () { Route::get('/', 'Admin\AdminController@index'); Route::get('login', 'Admin\AuthController@getLogin'); Route::post('login', 'Admin\AuthController@postLogin'); Route::get('logout', 'Admin\AuthController@getLogout'); Route::group(['prefix' => 'configuracoes'], function () { Route::get('geral', 'Admin\AdminConfiguracoesController@geral'); Route::get('social', 'Admin\AdminConfiguracoesController@social'); Route::get('analytics', 'Admin\AdminConfiguracoesController@analytics'); }); Route::get('ajuda', 'Admin\AdminController@ajuda');});",Laravel - How to redirect to a desired page when user is not authenticated
Laravel - How to redirect to login if user is not authenticated," I'm trying to use the __constructor from the extended class (AdminController extends AdminBaseController) but aparently it's not working and I have no idea of what can be, here you can see both of my classes:AdminBaseController.php AdminController.php EDITThis is my admin route group: <code>  class AdminBaseController extends Controller{ public function __construct(){ if (!Auth::user()){ return view('admin.pages.login.index'); } }} class AdminController extends AdminBaseController{ public function __construct(){ parent::__construct(); } public function index() { return view('admin.pages.admin.index'); } public function ajuda() { return view('admin.pages.admin.ajuda'); }} Route::group([ 'prefix' => 'admin', 'middleware' => 'auth'], function () { Route::get('/', 'Admin\AdminController@index'); Route::get('login', 'Admin\AuthController@getLogin'); Route::post('login', 'Admin\AuthController@postLogin'); Route::get('logout', 'Admin\AuthController@getLogout'); Route::group(['prefix' => 'configuracoes'], function () { Route::get('geral', 'Admin\AdminConfiguracoesController@geral'); Route::get('social', 'Admin\AdminConfiguracoesController@social'); Route::get('analytics', 'Admin\AdminConfiguracoesController@analytics'); }); Route::get('ajuda', 'Admin\AdminController@ajuda');});",Laravel - How to redirect to a desired page when user is not authenticated
"laravel 5.1 validation rule alpha cannot take whitespace, what should i do?"," I have created a a registration form where a farmer will input his name. The name may contain hyphen or white spaces. The validation rules are written in the app/http/requests/farmerRequest.php file: But the problem is the name field is not allowing any white spaces because of the alpha rule. The name field is varchar(255) collation utf8_unicode_ci.What should I do, so that user can input his name with white spaces? <code>  public function rules(){ return [ 'name' => 'required|alpha', 'email' => 'email|unique:users,email', 'password' => 'required', 'phone' => 'required|numeric', 'address' => 'required|min:5', ];}",Laravel 5.1 validation rule alpha cannot take whitespace
Setting Composer path variable in Windows 10 home," I've installed Composer PHP dependency manager at Windows 10 home via GUI installer and I desire to set a value for this in the Path environment variable.From the install it seemed I should go to C:Users\Username\Appdata\, isolate further path from there and then put it as a Path value;but for some reason, I don't find anything that has to with composer in C:Users\Username\Appdata.The search box doesn't give details for any folder named Composer even though installing went fine.How to find the path value for Composer in Windows 10 home? <code> ",Setting up Composer path environment variable in Windows 10 home
Windows : setting up Apache and PHP with Docker," I'm trying to setup a developer environment through a Docker container on my Windows7 computer.I've installed Docker toolbox for Windows.I have an image with Apache and PHP 5.6 within, and here it is: This image is created, and I can see it when I run ""docker images"" in the Docker quickstart terminal.In my apache-config.conf, I just have a tiny virtual host to access a test website with just an index.php file.Then I try to create the container in the Docker quickstart terminal: I get the following error: It seems like my volume option is not taken into account. And the container is not created.What could I be doing wrong? <code>  FROM php:5.6.15-apacheRUN apt-get update && apt-get install -y \apt-utils vim git php5-mysql php5-memcache php5-memcached php5-intl \wgetRUN apt-get install libapache2-mod-php5 -y -o Dpkg::Options::=""--force-confdef""RUN docker-php-ext-install mbstringRUN docker-php-ext-install pdo pdo_mysqlRUN apt-get install libcurl4-gnutls-dev -yRUN docker-php-ext-install curlRUN a2enmod rewriteENV APACHE_RUN_USER mynameENV APACHE_RUN_GROUP www-dataENV APACHE_LOG_DIR /var/log/apache2ENV APACHE_LOCK_DIR /var/lock/apache2ENV APACHE_PID_FILE /var/run/apache2.pidEXPOSE 80COPY php.ini /usr/local/etc/php/php.iniCOPY apache-config.conf /etc/apache2/sites-enabled/000-default.confRUN echo ""ServerName 127.0.1.1"" >> /etc/apache2/apache2.conf docker run --name=php5.6_container --rm -v ""//c/sites:/var/www/html"" -p 80:80 -p 8080:8080 php5.6 AH00112: Warning: DocumentRoot [/var/www/html/test] does not existAH00112: Warning: DocumentRoot [/var/www/html/test] does not exist[Tue Dec 08 16:36:37.703143 2015] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.10 (Debian) configured -- resuming normal operations[Tue Dec 08 16:36:37.703733 2015] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND'",Docker: Sharing a volume on Windows with Docker Toolbox
Docker : setting up Apache and PHP env (windows)," I'm trying to setup a developer environment through a Docker container on my Windows7 computer.I've installed Docker toolbox for Windows.I have an image with Apache and PHP 5.6 within, and here it is: This image is created, and I can see it when I run ""docker images"" in the Docker quickstart terminal.In my apache-config.conf, I just have a tiny virtual host to access a test website with just an index.php file.Then I try to create the container in the Docker quickstart terminal: I get the following error: It seems like my volume option is not taken into account. And the container is not created.What could I be doing wrong? <code>  FROM php:5.6.15-apacheRUN apt-get update && apt-get install -y \apt-utils vim git php5-mysql php5-memcache php5-memcached php5-intl \wgetRUN apt-get install libapache2-mod-php5 -y -o Dpkg::Options::=""--force-confdef""RUN docker-php-ext-install mbstringRUN docker-php-ext-install pdo pdo_mysqlRUN apt-get install libcurl4-gnutls-dev -yRUN docker-php-ext-install curlRUN a2enmod rewriteENV APACHE_RUN_USER mynameENV APACHE_RUN_GROUP www-dataENV APACHE_LOG_DIR /var/log/apache2ENV APACHE_LOCK_DIR /var/lock/apache2ENV APACHE_PID_FILE /var/run/apache2.pidEXPOSE 80COPY php.ini /usr/local/etc/php/php.iniCOPY apache-config.conf /etc/apache2/sites-enabled/000-default.confRUN echo ""ServerName 127.0.1.1"" >> /etc/apache2/apache2.conf docker run --name=php5.6_container --rm -v ""//c/sites:/var/www/html"" -p 80:80 -p 8080:8080 php5.6 AH00112: Warning: DocumentRoot [/var/www/html/test] does not existAH00112: Warning: DocumentRoot [/var/www/html/test] does not exist[Tue Dec 08 16:36:37.703143 2015] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.10 (Debian) configured -- resuming normal operations[Tue Dec 08 16:36:37.703733 2015] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND'",Docker: Sharing a volume on Windows with Docker Toolbox
Setting up an Apache and PHP env (Windows) in Docker," I'm trying to setup a developer environment through a Docker container on my Windows7 computer.I've installed Docker toolbox for Windows.I have an image with Apache and PHP 5.6 within, and here it is: This image is created, and I can see it when I run ""docker images"" in the Docker quickstart terminal.In my apache-config.conf, I just have a tiny virtual host to access a test website with just an index.php file.Then I try to create the container in the Docker quickstart terminal: I get the following error: It seems like my volume option is not taken into account. And the container is not created.What could I be doing wrong? <code>  FROM php:5.6.15-apacheRUN apt-get update && apt-get install -y \apt-utils vim git php5-mysql php5-memcache php5-memcached php5-intl \wgetRUN apt-get install libapache2-mod-php5 -y -o Dpkg::Options::=""--force-confdef""RUN docker-php-ext-install mbstringRUN docker-php-ext-install pdo pdo_mysqlRUN apt-get install libcurl4-gnutls-dev -yRUN docker-php-ext-install curlRUN a2enmod rewriteENV APACHE_RUN_USER mynameENV APACHE_RUN_GROUP www-dataENV APACHE_LOG_DIR /var/log/apache2ENV APACHE_LOCK_DIR /var/lock/apache2ENV APACHE_PID_FILE /var/run/apache2.pidEXPOSE 80COPY php.ini /usr/local/etc/php/php.iniCOPY apache-config.conf /etc/apache2/sites-enabled/000-default.confRUN echo ""ServerName 127.0.1.1"" >> /etc/apache2/apache2.conf docker run --name=php5.6_container --rm -v ""//c/sites:/var/www/html"" -p 80:80 -p 8080:8080 php5.6 AH00112: Warning: DocumentRoot [/var/www/html/test] does not existAH00112: Warning: DocumentRoot [/var/www/html/test] does not exist[Tue Dec 08 16:36:37.703143 2015] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.10 (Debian) configured -- resuming normal operations[Tue Dec 08 16:36:37.703733 2015] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND'",Docker: Sharing a volume on Windows with Docker Toolbox
Docker : Sharing a volume on Windows with Docker toolbox," I'm trying to setup a developer environment through a Docker container on my Windows7 computer.I've installed Docker toolbox for Windows.I have an image with Apache and PHP 5.6 within, and here it is: This image is created, and I can see it when I run ""docker images"" in the Docker quickstart terminal.In my apache-config.conf, I just have a tiny virtual host to access a test website with just an index.php file.Then I try to create the container in the Docker quickstart terminal: I get the following error: It seems like my volume option is not taken into account. And the container is not created.What could I be doing wrong? <code>  FROM php:5.6.15-apacheRUN apt-get update && apt-get install -y \apt-utils vim git php5-mysql php5-memcache php5-memcached php5-intl \wgetRUN apt-get install libapache2-mod-php5 -y -o Dpkg::Options::=""--force-confdef""RUN docker-php-ext-install mbstringRUN docker-php-ext-install pdo pdo_mysqlRUN apt-get install libcurl4-gnutls-dev -yRUN docker-php-ext-install curlRUN a2enmod rewriteENV APACHE_RUN_USER mynameENV APACHE_RUN_GROUP www-dataENV APACHE_LOG_DIR /var/log/apache2ENV APACHE_LOCK_DIR /var/lock/apache2ENV APACHE_PID_FILE /var/run/apache2.pidEXPOSE 80COPY php.ini /usr/local/etc/php/php.iniCOPY apache-config.conf /etc/apache2/sites-enabled/000-default.confRUN echo ""ServerName 127.0.1.1"" >> /etc/apache2/apache2.conf docker run --name=php5.6_container --rm -v ""//c/sites:/var/www/html"" -p 80:80 -p 8080:8080 php5.6 AH00112: Warning: DocumentRoot [/var/www/html/test] does not existAH00112: Warning: DocumentRoot [/var/www/html/test] does not exist[Tue Dec 08 16:36:37.703143 2015] [mpm_prefork:notice] [pid 1] AH00163: Apache/2.4.10 (Debian) configured -- resuming normal operations[Tue Dec 08 16:36:37.703733 2015] [core:notice] [pid 1] AH00094: Command line: 'apache2 -D FOREGROUND'",Docker: Sharing a volume on Windows with Docker Toolbox
PHP array_splice() not working properly inside a loop," This code works as expected and removes the array element when the value is either 5 or 10. But it only works when I have 1 value which is 5 or 10 in the array.If I have more than 1 value which is 5 or 10 it removes only 1 of them and leaves the other elements in the array.My code: As an example if I have: [3, 5, 4] the result is as expected: [3, 4]. But if I have an array like: [3, 5, 10, 4] it just removes the 5, but not the 10: [3, 10, 4].I can't seem to find it what I'm doing wrong and why my code doesn't work as expected? <code>  for($i = 0; $i <= 10; $i++) { if($somevar[$i] == 5 || $somevar[$i] == 10) { echo 'the sumvar'.$somevar[$i].' exists<br>'; array_splice($somevar, $i, 1); }}",array_splice() isn't working properly inside a loop
How to see full content with var_dump() in PHP," I have an array with some strings like But those strings are very long, with a length of 2000+ sometimes. So when I do It shows me something like Instead of the full string. How can I see the whole content of my array? And for those who will ask, it contains HTML tags, so that's why I don't write echo $array[string];  <code>  $array = array(""string1"",""string2"",""string3""); echo ""<pre>"";var_dump($array);echo ""</pre>""; string 'zzzzzzzzzzzzzzzzz '... (length = 994)string 'yyyyyyyyyyyyyyyyy '... (length = 1287)string 'xxxxxxxxxxxxxxxxx '... (length = 1718)",How to see full content of long strings with var_dump() in PHP
Getting Call to undefined function from a trait," I'm trying to place a trait inside a class called Page. I also need to rename a trait function so that it doesn't clash with an existing class function. I thought I did all this successfully however I get an error that points to the wrong location?!Call to undefined function App\Pages\Models\myTraitDefaultScope()I've also tried: MyTrait\defaultScope($query) instead of trying to rename the conflicting function. But I then get the following error:Call to undefined function App\MyTrait\defaultScope()Below is the trait and class contained in separate files. . I'm not all that awesome at this so please don't shoot if I've got something badly wrong :)  <code>  <?phpnamespace App;use Illuminate\Support\Facades\Auth;trait MyTrait{ public function defaultScope($query){ return $query->where('active', '1') }} <?php namespace Modules\Pages\Models;use Illuminate\Database\Eloquent\Model;use App\MyTrait;class Page extends Model { use MyTrait{ MyTrait::defaultScope as myTraitDefaultScope; } public function defaultScope($query){ return myTraitDefaultScope($query); }}",How to call a trait method with alias
PHP Round to next EVEN number," I want to round up to the next even whole number, with php.Example:if 71 -> round up to 72if 33.1 -> round up to 34if 20.8 -> round up to 22 <code> ",How to round up to the next even number?
OAuthException: An active access token must be used to query information about the current user in Facebook PHP sdk?," A e-shop has developed using perstashop and put to the three server:the first 2 is amazon, should be same settingServer 1:http://be-pure.com/en/women/3-slim-y-tank.htmlServer 2:http://52.77.216.83/en/women/3-slim-y-tank.htmlthe last one is just local hostingServer 3:http://internal001.zizsoft.com/be_pure/en/women/3-slim-y-tank.htmlThe problem is server 1 loading very slow compare to the other two server, but the performance should be the best among 3. It looks as if server 1 hasn't cache the filesbut in fact, all of them has turn on smarty cache, using file system , with recomplie when modifyand turn on the file system cacheGiven that the code and server setting are the same, both 2 amazon server is same setting, and localhost one is other server, however it should be slower than server 11) How to debug/ check whether the file is using cache already? (the cache file locate in cache/smarty and cache/cachefs in server) 2) And what takes the long load time for server 1? Just consider it as an PHP site, any ways to check why it is slow?Thanks a lot for helping <code> ",Check the cause of slow loading time among different server
Is it possible to group rows using MYSQL that way?," I have a MySQL table like: And I'm curious if there is a query which would give me something similar to: So far I'm just using the below query and grouping the records in a loop. I tried to use GROUP but without success. <code>  ID, USER, PARAM, VAL--------------------1 | 1 | NAME | ADAM2 | 1 | AGE | 153 | 2 | NAME | EVA4 | 2 | AGE | 165 | 3 | NAME | CRISS6 | 3 | AGE | 14 1 | ADAM | 152 | EVE | 163 | CRISS| 14 SELECT * FROM table WHERE PARAM ='NAME' OR PARAM = 'AGE'",Is it possible to group rows this way using MySQL?
failedPrecondition when authenticating as," I'm trying to fetch a given email from my own inbox (as project owner) using the Google API 2.0.0 RC4 for PHP.I have a project setup, a downloaded authentication file in JSON format and I have enabled the gmail API in the Google Developers Console.But when I run the following code I get a ""Bad Request"" error with reason ""failedPrecondition"". Now this leads me to believe that there is something wrong with the access rights, but I can't figure out what I need to do here.Code: And the complete error looks like this: Fatal error: Uncaught exception 'Google_Service_Exception' with message '{ ""error"": { ""errors"": [ { ""domain"": ""global"", ""reason"": ""failedPrecondition"", ""message"": ""Bad Request"" } ], ""code"": 400, ""message"": ""Bad Request"" } } ' <code>  <?php require_once(""google-api-php-client-2.0.0-RC4/vendor/autoload.php""); $client = new Google_Client(); // set the scope(s) that will be used $client->setScopes([""https://www.googleapis.com/auth/gmail.readonly""]); $client->setApplicationName(""MyProject""); // set the authorization configuration using the 2.0 style $client->setAuthConfigFile(""myAuthFile.json""); $gmailHandle = new Google_Service_Gmail($client); $messages = $gmailHandle->users_messages->get(""myemail@mydomain.com"", ""12343445asd56""); echo json_encode($messages);?>",failedPrecondition error when authenticating with service account to Google API
Inserted ID prestashop," I am trying to create a script that automatically imports a XML file, I got this working, but for a reason I need to get the ID from a category I am adding, this category ID is auto increment, so there is no way I could get this out of the existing data.So my code looks like this: I have read somewhere here on stackoverflow that $category->id = Db::getInstance()->Insert_ID();Should do the trick. Unfortunately, this returns always zero. Can someone see what I did wrong?Edit: I am using prestashop version 1.6Edit: Answer:You don't need ""Db::getInstance()->Insert_ID();"" after $object->add() there is already an ID generated, the only thing you have to do is: echo $object->id; and you'll see your ID.Best regards,Evert Arends  <code>  $category = new Category; $category->active = 1; $category->id_parent = 3; $category->name[1] = $product->category_name;; $category->link_rewrite[1] = Tools::link_rewrite($product_xml->category_name); echo ""<br />name of new category = $product->category_name <br /> <br />""; $category->add(); $category->id = Db::getInstance()->Insert_ID();",How to retrieve inserted ID after using add() on an Object?
Why laravel model to have duplicated set of data and how (if possible) to have only one set of data?," It is convenient that laravel model provides a method that it can return results from another associated table.For example, I have a table called item and another table called feedback, where the feedback table stores feedback of an item in the item table. So, to get the all feedback of item with id 1, I will do: And the following this the printout of the object returned. It works fine, and it shows that there is only one feedback on item with id 1. What concerns me is that the dataset is duplicated in [attributes:protected] and [original:protected]. This is just a testing case and the real case will consist of thousands of feedback and having a duplicated dataset is a huge waste of memory. The dataset is not duplicated if I am using the DB::table('table_name') approach, but that is much less convenient. Why does laravel need to duplicate the data in model? And is there a way to make it return only one set of data?Currently I am using ->toArray() to trim down the unnecessary data right after the query, but the memory usage is still there because laravel is still creating that set of data. <code>  Item::find(1)->feedback; Illuminate\Database\Eloquent\Collection Object( [items:protected] => Array ( [0] => Feedback Object ( [table:protected] => feedback [connection:protected] => [primaryKey:protected] => id [perPage:protected] => 15 [incrementing] => 1 [timestamps] => 1 [attributes:protected] => Array ( [id] => 1 [rma_id] => 3 [item_id] => 8 [quo_id] => 0 [case_id] => i2eM20160120 [line_no] => 000001 [content] => test [status] => sent [read] => 0 [sender] => Tester [created_at] => 2016-01-20 18:03:44 [updated_at] => 2016-01-20 18:03:44 ) [original:protected] => Array ( [id] => 1 [rma_id] => 3 [item_id] => 8 [quo_id] => 0 [case_id] => i2eM20160120 [line_no] => 000001 [content] => test [status] => sent [read] => 0 [sender] => Tester [created_at] => 2016-01-20 18:03:44 [updated_at] => 2016-01-20 18:03:44 ) [relations:protected] => Array ( ) [hidden:protected] => Array ( ) [visible:protected] => Array ( ) [appends:protected] => Array ( ) [fillable:protected] => Array ( ) [guarded:protected] => Array ( [0] => * ) [dates:protected] => Array ( ) [touches:protected] => Array ( ) [observables:protected] => Array ( ) [with:protected] => Array ( ) [morphClass:protected] => [exists] => 1 ) ))",Why laravel model duplicates set of data and how (if possible) to have only one set of data?
Symfony2: Sending a file using Ajax and jQuery," I have a Symfony2 application with a form where a file type field. I need to upload an image of a student there, so I helped this documentation: How to Upload Files It is my code: Controller: Entity: formtype: Javascript: The problem I have now is I have to do it with an Ajax request, but do not know how to send that file field and it can be used then in Symfony controller.I have seen some FormData(), but do not know how it is used.Could you help me? <code>  public function createAction(Request $request){ if ($request->isXmlHttpRequest() && !$request->isMethod('POST')) { throw new HttpException('XMLHttpRequests/AJAX calls must be POSTed'); } $entity = new Student(); $form = $this->createCreateForm($entity); $form->handleRequest($request); if ($form->isValid()) { $file = $entity->getPhoto(); $fileName = md5(uniqid()).'.'.$file->guessExtension(); $photoDir = $this->container->getParameter('kernel.root_dir').'/../web/uploads/images'; $file->move($photoDir, $fileName); $entity->setPhoto($fileName); $em = $this->getDoctrine()->getManager(); $em->persist($entity); $em->flush(); if ($request->isXmlHttpRequest()) { return new JsonResponse(array('message' => 'Success!','success' => true), 200); } if ($request->isMethod('POST')) { return new JsonResponse(array('message' => 'Invalid form','success' => false), 400); } return $this->redirect($this->generateUrl('student_show', array('id' => $entity->getId()))); } return $this->render('BackendBundle:Student:new.html.twig', array( 'entity' => $entity, 'form' => $form->createView(), ));} use Doctrine\ORM\Mapping as ORM; use Symfony\Component\Validator\Constraints as Assert; //... /** * @var string * * @ORM\Column(name=""photo"", type=""string"", length=255, nullable=true) * */ private $photo; public function setPhoto($photo) { $this->photo = $photo; return $this; } public function getPhoto() { return $this->photo; } //... ->add('photo', 'file', array('required' => false)) //... //...$('.form_student').on(""submit"",function(event) { event.preventDefault(); $.ajax({ type: 'POST', url: Routing.generate('student_create'), data: $(this).serialize(), dataType: 'json', success: function(response) { alert(response.message); }, error: function (response, desc, err){ if (response.responseJSON && response.responseJSON.message) { alert(response.responseJSON.message); } else{ alert(desc); } } });});",Symfony2: Uploads a file using Ajax and jQuery
Symfony2: Uploads a file using Ajax and jQuery," I have a Symfony2 application with a form where a file type field. I need to upload an image of a student there, so I helped this documentation: How to Upload Files It is my code: Controller: Entity: formtype: Javascript: The problem I have now is I have to do it with an Ajax request, but do not know how to send that file field and it can be used then in Symfony controller.I have seen some FormData(), but do not know how it is used.Could you help me? <code>  public function createAction(Request $request){ if ($request->isXmlHttpRequest() && !$request->isMethod('POST')) { throw new HttpException('XMLHttpRequests/AJAX calls must be POSTed'); } $entity = new Student(); $form = $this->createCreateForm($entity); $form->handleRequest($request); if ($form->isValid()) { $file = $entity->getPhoto(); $fileName = md5(uniqid()).'.'.$file->guessExtension(); $photoDir = $this->container->getParameter('kernel.root_dir').'/../web/uploads/images'; $file->move($photoDir, $fileName); $entity->setPhoto($fileName); $em = $this->getDoctrine()->getManager(); $em->persist($entity); $em->flush(); if ($request->isXmlHttpRequest()) { return new JsonResponse(array('message' => 'Success!','success' => true), 200); } if ($request->isMethod('POST')) { return new JsonResponse(array('message' => 'Invalid form','success' => false), 400); } return $this->redirect($this->generateUrl('student_show', array('id' => $entity->getId()))); } return $this->render('BackendBundle:Student:new.html.twig', array( 'entity' => $entity, 'form' => $form->createView(), ));} use Doctrine\ORM\Mapping as ORM; use Symfony\Component\Validator\Constraints as Assert; //... /** * @var string * * @ORM\Column(name=""photo"", type=""string"", length=255, nullable=true) * */ private $photo; public function setPhoto($photo) { $this->photo = $photo; return $this; } public function getPhoto() { return $this->photo; } //... ->add('photo', 'file', array('required' => false)) //... //...$('.form_student').on(""submit"",function(event) { event.preventDefault(); $.ajax({ type: 'POST', url: Routing.generate('student_create'), data: $(this).serialize(), dataType: 'json', success: function(response) { alert(response.message); }, error: function (response, desc, err){ if (response.responseJSON && response.responseJSON.message) { alert(response.responseJSON.message); } else{ alert(desc); } } });});",Symfony2: Uploads a file using Ajax and jQuery
Symfony2: Uploads a file using Ajax and jQuery [solved]," I have a Symfony2 application with a form where a file type field. I need to upload an image of a student there, so I helped this documentation: How to Upload Files It is my code: Controller: Entity: formtype: Javascript: The problem I have now is I have to do it with an Ajax request, but do not know how to send that file field and it can be used then in Symfony controller.I have seen some FormData(), but do not know how it is used.Could you help me? <code>  public function createAction(Request $request){ if ($request->isXmlHttpRequest() && !$request->isMethod('POST')) { throw new HttpException('XMLHttpRequests/AJAX calls must be POSTed'); } $entity = new Student(); $form = $this->createCreateForm($entity); $form->handleRequest($request); if ($form->isValid()) { $file = $entity->getPhoto(); $fileName = md5(uniqid()).'.'.$file->guessExtension(); $photoDir = $this->container->getParameter('kernel.root_dir').'/../web/uploads/images'; $file->move($photoDir, $fileName); $entity->setPhoto($fileName); $em = $this->getDoctrine()->getManager(); $em->persist($entity); $em->flush(); if ($request->isXmlHttpRequest()) { return new JsonResponse(array('message' => 'Success!','success' => true), 200); } if ($request->isMethod('POST')) { return new JsonResponse(array('message' => 'Invalid form','success' => false), 400); } return $this->redirect($this->generateUrl('student_show', array('id' => $entity->getId()))); } return $this->render('BackendBundle:Student:new.html.twig', array( 'entity' => $entity, 'form' => $form->createView(), ));} use Doctrine\ORM\Mapping as ORM; use Symfony\Component\Validator\Constraints as Assert; //... /** * @var string * * @ORM\Column(name=""photo"", type=""string"", length=255, nullable=true) * */ private $photo; public function setPhoto($photo) { $this->photo = $photo; return $this; } public function getPhoto() { return $this->photo; } //... ->add('photo', 'file', array('required' => false)) //... //...$('.form_student').on(""submit"",function(event) { event.preventDefault(); $.ajax({ type: 'POST', url: Routing.generate('student_create'), data: $(this).serialize(), dataType: 'json', success: function(response) { alert(response.message); }, error: function (response, desc, err){ if (response.responseJSON && response.responseJSON.message) { alert(response.responseJSON.message); } else{ alert(desc); } } });});",Symfony2: Uploads a file using Ajax and jQuery
How to upload Videos to YouTube using Google Client Library?," Trying to simply upload video using Google API PHP Client (latest release 1.1.6), but code in Youtube API V3 is not working and giving 500 internal server error.What is wrong with code below when I am not using any bleeding edge beta version, I have just masked 3 parameters below otherwise it is copied form Youtube API V3. A service error occurred: Error calling PUT https://www.googleapis.com/upload/youtube/v3/videos?part=status%2Csnippet&uploadType=resumable&upload_id=AEnB2UpXd4UQ0dt-v2_8YLzDp4KAywZQUIgUEm3Lxyv7nV_ZLAHghu6RiNE0e82xMMGx9ztQvTdYGFwvSNP5yJiOdffS0CuG-Q: (400) Failed to parse Content-Range header.Don't mark it duplicate of very old and deprecated questions below, as you can see other questions even included files in their code that are not present in latest Google API PHP Client library or are referring to dead Google Code Project. Similar outdated question 1, 2, 3, 4, 5 <code>  require_once 'google-api-php-client/src/Google/Client.php'; require_once 'google-api-php-client/src/Google/Service/YouTube.php'; session_start(); $OAUTH2_CLIENT_ID = 'CHANGE1-0osfh0p5h80o9ol2uqtsjq5i7r1jun.apps.googleusercontent.com'; $OAUTH2_CLIENT_SECRET = 'CHANGE2azMpt__VdSt9'; $client = new Google_Client(); $client->setClientId($OAUTH2_CLIENT_ID); $client->setClientSecret($OAUTH2_CLIENT_SECRET); $client->setScopes('https://www.googleapis.com/auth/youtube'); $redirect = filter_var('http://' . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'], FILTER_SANITIZE_URL); $client->setRedirectUri($redirect); // Define an object that will be used to make all API requests. $youtube = new Google_Service_YouTube($client); if (isset($_GET['code'])) { if (strval($_SESSION['state']) !== strval($_GET['state'])) { die('The session state did not match.'); } $client->authenticate($_GET['code']); $_SESSION['token'] = $client->getAccessToken(); header('Location: ' . $redirect); } if (isset($_SESSION['token'])) { $client->setAccessToken($_SESSION['token']); } // Check to ensure that the access token was successfully acquired. if ($client->getAccessToken()) { try{ // REPLACE this value with the path to the file you are uploading. $videoPath = ""/CHANGE3/videos/test.mp4""; // Create a snippet with title, description, tags and category ID // Create an asset resource and set its snippet metadata and type. // This example sets the video's title, description, keyword tags, and // video category. $snippet = new Google_Service_YouTube_VideoSnippet(); $snippet->setTitle(""Test title""); $snippet->setDescription(""Test description""); $snippet->setTags(array(""tag1"", ""tag2"")); // Numeric video category. See // https://developers.google.com/youtube/v3/docs/videoCategories/list $snippet->setCategoryId(""22""); // Set the video's status to ""public"". Valid statuses are ""public"", // ""private"" and ""unlisted"". $status = new Google_Service_YouTube_VideoStatus(); $status->privacyStatus = ""public""; // Associate the snippet and status objects with a new video resource. $video = new Google_Service_YouTube_Video(); $video->setSnippet($snippet); $video->setStatus($status); // Specify the size of each chunk of data, in bytes. Set a higher value for // reliable connection as fewer chunks lead to faster uploads. Set a lower // value for better recovery on less reliable connections. $chunkSizeBytes = 1 * 1024 * 1024; // Setting the defer flag to true tells the client to return a request which can be called // with ->execute(); instead of making the API call immediately. $client->setDefer(true); // Create a request for the API's videos.insert method to create and upload the video. $insertRequest = $youtube->videos->insert(""status,snippet"", $video); // Create a MediaFileUpload object for resumable uploads. $media = new Google_Http_MediaFileUpload( $client, $insertRequest, 'video/*', null, true, $chunkSizeBytes ); $media->setFileSize(filesize($videoPath)); // Read the media file and upload it chunk by chunk. $status = false; $handle = fopen($videoPath, ""rb""); while (!$status && !feof($handle)) { $chunk = fread($handle, $chunkSizeBytes); $status = $media->nextChunk($chunk); } fclose($handle); // If you want to make other calls after the file upload, set setDefer back to false $client->setDefer(false); $htmlBody .= ""<h3>Video Uploaded</h3><ul>""; $htmlBody .= sprintf('<li>%s (%s)</li>', $status['snippet']['title'], $status['id']); $htmlBody .= '</ul>'; } catch (Google_Service_Exception $e) { $htmlBody .= sprintf('<p>A service error occurred: <code>%s</code></p>', htmlspecialchars($e->getMessage())); } catch (Google_Exception $e) { $htmlBody .= sprintf('<p>An client error occurred: <code>%s</code></p>', htmlspecialchars($e->getMessage())); } $_SESSION['token'] = $client->getAccessToken(); } else { // If the user hasn't authorized the app, initiate the OAuth flow $state = mt_rand(); $client->setState($state); $_SESSION['state'] = $state; $authUrl = $client->createAuthUrl(); $htmlBody = <<<END <h3>Authorization Required</h3> <p>You need to <a href=""$authUrl"">authorize access</a> before proceeding.<p> END; } echo $htmlBody;",How to upload Video to YouTube using Google API PHP Client Library and Youtube API V3?
How to upload Videos to YouTube using Google API PHP Client Library?," Trying to simply upload video using Google API PHP Client (latest release 1.1.6), but code in Youtube API V3 is not working and giving 500 internal server error.What is wrong with code below when I am not using any bleeding edge beta version, I have just masked 3 parameters below otherwise it is copied form Youtube API V3. A service error occurred: Error calling PUT https://www.googleapis.com/upload/youtube/v3/videos?part=status%2Csnippet&uploadType=resumable&upload_id=AEnB2UpXd4UQ0dt-v2_8YLzDp4KAywZQUIgUEm3Lxyv7nV_ZLAHghu6RiNE0e82xMMGx9ztQvTdYGFwvSNP5yJiOdffS0CuG-Q: (400) Failed to parse Content-Range header.Don't mark it duplicate of very old and deprecated questions below, as you can see other questions even included files in their code that are not present in latest Google API PHP Client library or are referring to dead Google Code Project. Similar outdated question 1, 2, 3, 4, 5 <code>  require_once 'google-api-php-client/src/Google/Client.php'; require_once 'google-api-php-client/src/Google/Service/YouTube.php'; session_start(); $OAUTH2_CLIENT_ID = 'CHANGE1-0osfh0p5h80o9ol2uqtsjq5i7r1jun.apps.googleusercontent.com'; $OAUTH2_CLIENT_SECRET = 'CHANGE2azMpt__VdSt9'; $client = new Google_Client(); $client->setClientId($OAUTH2_CLIENT_ID); $client->setClientSecret($OAUTH2_CLIENT_SECRET); $client->setScopes('https://www.googleapis.com/auth/youtube'); $redirect = filter_var('http://' . $_SERVER['HTTP_HOST'] . $_SERVER['PHP_SELF'], FILTER_SANITIZE_URL); $client->setRedirectUri($redirect); // Define an object that will be used to make all API requests. $youtube = new Google_Service_YouTube($client); if (isset($_GET['code'])) { if (strval($_SESSION['state']) !== strval($_GET['state'])) { die('The session state did not match.'); } $client->authenticate($_GET['code']); $_SESSION['token'] = $client->getAccessToken(); header('Location: ' . $redirect); } if (isset($_SESSION['token'])) { $client->setAccessToken($_SESSION['token']); } // Check to ensure that the access token was successfully acquired. if ($client->getAccessToken()) { try{ // REPLACE this value with the path to the file you are uploading. $videoPath = ""/CHANGE3/videos/test.mp4""; // Create a snippet with title, description, tags and category ID // Create an asset resource and set its snippet metadata and type. // This example sets the video's title, description, keyword tags, and // video category. $snippet = new Google_Service_YouTube_VideoSnippet(); $snippet->setTitle(""Test title""); $snippet->setDescription(""Test description""); $snippet->setTags(array(""tag1"", ""tag2"")); // Numeric video category. See // https://developers.google.com/youtube/v3/docs/videoCategories/list $snippet->setCategoryId(""22""); // Set the video's status to ""public"". Valid statuses are ""public"", // ""private"" and ""unlisted"". $status = new Google_Service_YouTube_VideoStatus(); $status->privacyStatus = ""public""; // Associate the snippet and status objects with a new video resource. $video = new Google_Service_YouTube_Video(); $video->setSnippet($snippet); $video->setStatus($status); // Specify the size of each chunk of data, in bytes. Set a higher value for // reliable connection as fewer chunks lead to faster uploads. Set a lower // value for better recovery on less reliable connections. $chunkSizeBytes = 1 * 1024 * 1024; // Setting the defer flag to true tells the client to return a request which can be called // with ->execute(); instead of making the API call immediately. $client->setDefer(true); // Create a request for the API's videos.insert method to create and upload the video. $insertRequest = $youtube->videos->insert(""status,snippet"", $video); // Create a MediaFileUpload object for resumable uploads. $media = new Google_Http_MediaFileUpload( $client, $insertRequest, 'video/*', null, true, $chunkSizeBytes ); $media->setFileSize(filesize($videoPath)); // Read the media file and upload it chunk by chunk. $status = false; $handle = fopen($videoPath, ""rb""); while (!$status && !feof($handle)) { $chunk = fread($handle, $chunkSizeBytes); $status = $media->nextChunk($chunk); } fclose($handle); // If you want to make other calls after the file upload, set setDefer back to false $client->setDefer(false); $htmlBody .= ""<h3>Video Uploaded</h3><ul>""; $htmlBody .= sprintf('<li>%s (%s)</li>', $status['snippet']['title'], $status['id']); $htmlBody .= '</ul>'; } catch (Google_Service_Exception $e) { $htmlBody .= sprintf('<p>A service error occurred: <code>%s</code></p>', htmlspecialchars($e->getMessage())); } catch (Google_Exception $e) { $htmlBody .= sprintf('<p>An client error occurred: <code>%s</code></p>', htmlspecialchars($e->getMessage())); } $_SESSION['token'] = $client->getAccessToken(); } else { // If the user hasn't authorized the app, initiate the OAuth flow $state = mt_rand(); $client->setState($state); $_SESSION['state'] = $state; $authUrl = $client->createAuthUrl(); $htmlBody = <<<END <h3>Authorization Required</h3> <p>You need to <a href=""$authUrl"">authorize access</a> before proceeding.<p> END; } echo $htmlBody;",How to upload Video to YouTube using Google API PHP Client Library and Youtube API V3?
Fall back to begining of string in RegEx in PHP," Is it possible to have a RegEx fall back to the beginning of the string and begin matching again?Here's why I ask. Given the below string, I'd like to capture the sub strings black, red, blue, and green in that order, regardless of the order of occurrence in the subject string and only if all substrings are present in the subject string.$str ='blue-ka93-red-kdke3-green-weifk-black'So, for all of the below strings, the RegEx should capture black, red, blue, and green (in that order) I wonder if there isn't a way to match a capture group then fall back to the start of the string and find the next capture group. I was hoping that something like ^.*(?=(black))^.*(?=(red))^.*(?=(blue))^.*(?=(green)) would work but of course the ^ and lookaheads do not behave this way.Is it possible to construct such a RegEx?For context, I'll be using the RegEx in PHP. <code>  'blue-ka93-red-kdke3-green-weifk-black''green-ka93-red-kdke3-blue-weifk-black''blue-ka93-black-kdke3-green-weifk-red''green-ka93-black-kdke3-blue-weifk-red'",Fall back to begining of string in RegEx
why do you have to add brackets to + - operations when concatenating?," I was writing a small program when I encountered something strange.If I wanted PHP to present an arithmetic operations of addition or subtraction with an echo statement and the outcome of the operation I had to add parentheses or the html page wouldn't present the operation but just the outcome.Below is a reduced example.first case (without parentheses): second case (with parentheses): Could anyone explain why this is happening? <code>  $a = 10;$b = 5;echo ""$a + $b = "".$a + $b.""<br>""; // 15echo ""$a - $b = "".$a - $b.""<br>""; // 5echo ""$a * $b = "".$a * $b.""<br>""; // 10 * 5 = 50echo ""$a / $b = "".$a / $b.""<br>""; // 10 / 5 = 2echo ""$a % $b = "".$a % $b.""<br>""; // 10 % 5 = 0 $a = 10;$b = 5;echo ""$a + $b = "".($a + $b).""<br>""; // 10 + 5 = 15echo ""$a - $b = "".($a - $b).""<br>""; // 10 - 5 = 5echo ""$a * $b = "".($a * $b).""<br>""; // 10 * 5 = 50echo ""$a / $b = "".($a / $b).""<br>""; // 10 / 5 = 2echo ""$a % $b = "".($a % $b).""<br>""; // 10 % 5 = 0",Why do you have to add parentheses to + - operations when concatenating?
How to install the MongoDB driver for PHP 7 (Windows 7)?," I just can't seem to find any clear instructions on how exactly you do that for PHP 7 running on a machine with Windows 7 installed. I tried a couple of online tutorials, but nothing seems to have worked out for me so far. It's possible that some of you may have had an experience similar to mine and it would be absolutely wonderful if you could share that experience with me: specifically, what exactly you did in order to to get this issue resolved.Here's what I did:I downloaded the latest dll library for PHP 7 (mongodb-1.1.2.tgz) from here: PECL :: Package :: mongodb :: 1.1.2, placed the file php_mongodb.dll from the archive into the ext directory where I keep my PHP installation, added the line extension=php_mongodb.dll to the php.ini file (after all these steps, Apache was restarted, of course). The section for mongodb does show up as a result of running the phpinfo() function:And now I'm trying to run this simple script: And what I get back is the following error (I have broken the lines a little bit for better readability): <code>  <?php $connection = new MongoClient();?> Fatal error: Uncaught Error: Class 'MongoClient' not found inC:\Apache24\htdocs\test2.php:3 Stack trace: #0 {main} thrown inC:\Apache24\htdocs\test2.php on line 3",How to install the MongoDB driver for PHP 7 on Windows 7?
How to get last run query in cakephp 3.2?," I want to get the last executed query in CakePHP 3.2, I have used the following in CakePHP 2.x before:- How can i do it in CakePHP 3.x? <code>  function getLastQuery() { Configure::write('debug', 2); $dbo = $this->getDatasource(); $logs = $dbo->getLog(); $lastLog = end($logs['log']); $latQuery = $lastLog['query']; echo ""<pre>""; print_r($latQuery); }",How to get last run query in CakePHP 3.2?
PHP: Is it possible to define a custom error handler server-wide?," So I was reading Twitter a bit until I saw this tweet by @DivineOmega:The perfect PHP error handler (pretty much), I coded it and I wanted to use it server-wide, but How can I apply this file to all my PHP scripts? <code> ",Can I prepend a PHP file using .htaccess?
Can I inlude a PHP file using .htaccess?," So I was reading Twitter a bit until I saw this tweet by @DivineOmega:The perfect PHP error handler (pretty much), I coded it and I wanted to use it server-wide, but How can I apply this file to all my PHP scripts? <code> ",Can I prepend a PHP file using .htaccess?
How to perform Filter using Multi Select Dropdown in Yii2," Here i like to explain my problem clearly,am trying to perform multi select dropdown filter, before this multiselect filter i have a basic filter.Am using kartik-v dropdown extensionsearch.php claimsSearch.php if i try the above code am getting error as below but here i don't know how to write filter code.update searchview: <code>  <?php $status = ArrayHelper::map(Status::find()->all(),'id','status'); echo $form->field($model, 'status')->widget(Select2::classname(), [ 'data' => $status, 'language' => 'en', 'options' => [ 'placeholder' => 'Select Status..', 'multiple' => true ], 'pluginOptions' => [ 'allowClear' => true ], ]);?> $query->andFilterWhere([ 'status' => $this->status ]); Array to string conversion",How to perform Filter using Multi Select Dropdown in Yii2 GridView
Relative URLs with url() in Laravel 5.2?," I have done searches and cannot find anything that solves this in Laravel 5.2.Is it possible to generate relative URLs in Laravel 5.2?Meaning, instead of http://example.com/mypage I get simply /mypage ? <code> ",How to get relative URLs with url() in Laravel 5.2?
Cannot retrieve varbinary(max) data from MSSQL using PHP through PDO ODBC," BackgroundDevelopment environment:PHP 7.0.3 with Apache 2.4.16 on Windows 10 x64SQL Server 2014 StandardThe sever has FileStream enabled on corresponding file columns.Tried to install sqlsvr driver but failed due to lack of support to PHP7Access SQL server from ODBC using driver SQL ServerPHP Code to insert image data into MSSQL PHP Code to save image data from MSSQL The file is successfully uploaded to the SQL sever. Opening the DATA directory of the SQL Server, all of the uploaded files and can be opened up by Paint.But the file fetch from the above image saving code is corrupted. The file is missing some bytes from the original.Method tried and also the method stated in this link.Php with MSSQL display raw data from varbinary fieldBut both have no luck, the file also seemed to be corrupted.Any help is appreciated.Edit 2016-02-25Modified the SQL statement as the following but the output file is still corrupted. I am now trying to change different SQL server ODBC driver to see if the file can output successfully.Edit 2016-08-09With the updated MSSQL PDO Driver for PHP 7. Everything worked again with a charm.Now, we don't need to convert the varbinary data anymore using this new driver.Reference Link <code>  $link = @new \PDO(""odbc:Driver={SQL Server};Server=$server;Database=$db"", $user, $password);$stmt = $link->prepare(""INSERT INTO [Attachment] (AttID, Seq , ModuleCde, AppID, StaffID , FileName , [File]) VALUES ( NEWID() , ? , ? , ? , ? , ? , ? )"");$stmt->bindValue(1,$_POST[""Seq""],PDO::PARAM_INT);$stmt->bindValue(2,$_POST[""ModuleCde""],PDO::PARAM_STR);$stmt->bindValue(3,$_POST[""AppID""],PDO::PARAM_STR);$stmt->bindValue(4,$_SESSION[""StaffID""],PDO::PARAM_STR);$stmt->bindValue(5,$_FILES[""file""][""name""][$_POST[""Seq""]],PDO::PARAM_STR);$stmt->bindValue(6,file_get_contents($_FILES[""file""][""tmp_name""][$_POST[""Seq""]]),PDO::PARAM_STR);$stmt->execute(); $link = @new \PDO(""odbc:Driver={SQL Server};Server=$server;Database=$db"", $user, $password);$stmt = $link->prepare(""SELECT DATALENGTH([File]) AS [Size] , CONVERT(NVARCHAR(MAX),[File],2) AS [File] FROM [Attachment] WHERE [ModuleCde] = ? AND [AppID] = ? AND [Seq] = ? AND [StaffID] = ?"");$stmt->bindValue(1,$_GET[""ModuleCde""],PDO::PARAM_STR);$stmt->bindValue(2,$_GET[""AppID""],PDO::PARAM_STR);$stmt->bindValue(3,$_GET[""Seq""],PDO::PARAM_STR);$stmt->bindValue(4,$_SESSION[""StaffID""],PDO::PARAM_STR);$stmt->execute();$stmt->bindColumn(2,$img,PDO::PARAM_LOB, 0);$stmt->fetch(PDO::FETCH_ASSOC);file_put_contents( ""file"" , $img ); fwrite( fopen(""file"",""w+"") , strtolower(""0x"".str_replace(""\0"","""",$img)) ); $link->prepare(""SELECT DATALENGTH([File]) AS [Size] , [File] FROM [Attachment] WHERE [ModuleCde] = ? AND [AppID] = ? AND [Seq] = ? AND [StaffID] = ?"");",Cannot fetch varbinary data from MSSQL
Fetch varbinary(max) data from MSSQL using PHP through PDO ODBC," BackgroundDevelopment environment:PHP 7.0.3 with Apache 2.4.16 on Windows 10 x64SQL Server 2014 StandardThe sever has FileStream enabled on corresponding file columns.Tried to install sqlsvr driver but failed due to lack of support to PHP7Access SQL server from ODBC using driver SQL ServerPHP Code to insert image data into MSSQL PHP Code to save image data from MSSQL The file is successfully uploaded to the SQL sever. Opening the DATA directory of the SQL Server, all of the uploaded files and can be opened up by Paint.But the file fetch from the above image saving code is corrupted. The file is missing some bytes from the original.Method tried and also the method stated in this link.Php with MSSQL display raw data from varbinary fieldBut both have no luck, the file also seemed to be corrupted.Any help is appreciated.Edit 2016-02-25Modified the SQL statement as the following but the output file is still corrupted. I am now trying to change different SQL server ODBC driver to see if the file can output successfully.Edit 2016-08-09With the updated MSSQL PDO Driver for PHP 7. Everything worked again with a charm.Now, we don't need to convert the varbinary data anymore using this new driver.Reference Link <code>  $link = @new \PDO(""odbc:Driver={SQL Server};Server=$server;Database=$db"", $user, $password);$stmt = $link->prepare(""INSERT INTO [Attachment] (AttID, Seq , ModuleCde, AppID, StaffID , FileName , [File]) VALUES ( NEWID() , ? , ? , ? , ? , ? , ? )"");$stmt->bindValue(1,$_POST[""Seq""],PDO::PARAM_INT);$stmt->bindValue(2,$_POST[""ModuleCde""],PDO::PARAM_STR);$stmt->bindValue(3,$_POST[""AppID""],PDO::PARAM_STR);$stmt->bindValue(4,$_SESSION[""StaffID""],PDO::PARAM_STR);$stmt->bindValue(5,$_FILES[""file""][""name""][$_POST[""Seq""]],PDO::PARAM_STR);$stmt->bindValue(6,file_get_contents($_FILES[""file""][""tmp_name""][$_POST[""Seq""]]),PDO::PARAM_STR);$stmt->execute(); $link = @new \PDO(""odbc:Driver={SQL Server};Server=$server;Database=$db"", $user, $password);$stmt = $link->prepare(""SELECT DATALENGTH([File]) AS [Size] , CONVERT(NVARCHAR(MAX),[File],2) AS [File] FROM [Attachment] WHERE [ModuleCde] = ? AND [AppID] = ? AND [Seq] = ? AND [StaffID] = ?"");$stmt->bindValue(1,$_GET[""ModuleCde""],PDO::PARAM_STR);$stmt->bindValue(2,$_GET[""AppID""],PDO::PARAM_STR);$stmt->bindValue(3,$_GET[""Seq""],PDO::PARAM_STR);$stmt->bindValue(4,$_SESSION[""StaffID""],PDO::PARAM_STR);$stmt->execute();$stmt->bindColumn(2,$img,PDO::PARAM_LOB, 0);$stmt->fetch(PDO::FETCH_ASSOC);file_put_contents( ""file"" , $img ); fwrite( fopen(""file"",""w+"") , strtolower(""0x"".str_replace(""\0"","""",$img)) ); $link->prepare(""SELECT DATALENGTH([File]) AS [Size] , [File] FROM [Attachment] WHERE [ModuleCde] = ? AND [AppID] = ? AND [Seq] = ? AND [StaffID] = ?"");",Cannot fetch varbinary data from MSSQL
Fetch varbinary data from MSSQL using PHP," BackgroundDevelopment environment:PHP 7.0.3 with Apache 2.4.16 on Windows 10 x64SQL Server 2014 StandardThe sever has FileStream enabled on corresponding file columns.Tried to install sqlsvr driver but failed due to lack of support to PHP7Access SQL server from ODBC using driver SQL ServerPHP Code to insert image data into MSSQL PHP Code to save image data from MSSQL The file is successfully uploaded to the SQL sever. Opening the DATA directory of the SQL Server, all of the uploaded files and can be opened up by Paint.But the file fetch from the above image saving code is corrupted. The file is missing some bytes from the original.Method tried and also the method stated in this link.Php with MSSQL display raw data from varbinary fieldBut both have no luck, the file also seemed to be corrupted.Any help is appreciated.Edit 2016-02-25Modified the SQL statement as the following but the output file is still corrupted. I am now trying to change different SQL server ODBC driver to see if the file can output successfully.Edit 2016-08-09With the updated MSSQL PDO Driver for PHP 7. Everything worked again with a charm.Now, we don't need to convert the varbinary data anymore using this new driver.Reference Link <code>  $link = @new \PDO(""odbc:Driver={SQL Server};Server=$server;Database=$db"", $user, $password);$stmt = $link->prepare(""INSERT INTO [Attachment] (AttID, Seq , ModuleCde, AppID, StaffID , FileName , [File]) VALUES ( NEWID() , ? , ? , ? , ? , ? , ? )"");$stmt->bindValue(1,$_POST[""Seq""],PDO::PARAM_INT);$stmt->bindValue(2,$_POST[""ModuleCde""],PDO::PARAM_STR);$stmt->bindValue(3,$_POST[""AppID""],PDO::PARAM_STR);$stmt->bindValue(4,$_SESSION[""StaffID""],PDO::PARAM_STR);$stmt->bindValue(5,$_FILES[""file""][""name""][$_POST[""Seq""]],PDO::PARAM_STR);$stmt->bindValue(6,file_get_contents($_FILES[""file""][""tmp_name""][$_POST[""Seq""]]),PDO::PARAM_STR);$stmt->execute(); $link = @new \PDO(""odbc:Driver={SQL Server};Server=$server;Database=$db"", $user, $password);$stmt = $link->prepare(""SELECT DATALENGTH([File]) AS [Size] , CONVERT(NVARCHAR(MAX),[File],2) AS [File] FROM [Attachment] WHERE [ModuleCde] = ? AND [AppID] = ? AND [Seq] = ? AND [StaffID] = ?"");$stmt->bindValue(1,$_GET[""ModuleCde""],PDO::PARAM_STR);$stmt->bindValue(2,$_GET[""AppID""],PDO::PARAM_STR);$stmt->bindValue(3,$_GET[""Seq""],PDO::PARAM_STR);$stmt->bindValue(4,$_SESSION[""StaffID""],PDO::PARAM_STR);$stmt->execute();$stmt->bindColumn(2,$img,PDO::PARAM_LOB, 0);$stmt->fetch(PDO::FETCH_ASSOC);file_put_contents( ""file"" , $img ); fwrite( fopen(""file"",""w+"") , strtolower(""0x"".str_replace(""\0"","""",$img)) ); $link->prepare(""SELECT DATALENGTH([File]) AS [Size] , [File] FROM [Attachment] WHERE [ModuleCde] = ? AND [AppID] = ? AND [Seq] = ? AND [StaffID] = ?"");",Cannot fetch varbinary data from MSSQL
Cannot fetch varbinary data from MSSQL using PHP," BackgroundDevelopment environment:PHP 7.0.3 with Apache 2.4.16 on Windows 10 x64SQL Server 2014 StandardThe sever has FileStream enabled on corresponding file columns.Tried to install sqlsvr driver but failed due to lack of support to PHP7Access SQL server from ODBC using driver SQL ServerPHP Code to insert image data into MSSQL PHP Code to save image data from MSSQL The file is successfully uploaded to the SQL sever. Opening the DATA directory of the SQL Server, all of the uploaded files and can be opened up by Paint.But the file fetch from the above image saving code is corrupted. The file is missing some bytes from the original.Method tried and also the method stated in this link.Php with MSSQL display raw data from varbinary fieldBut both have no luck, the file also seemed to be corrupted.Any help is appreciated.Edit 2016-02-25Modified the SQL statement as the following but the output file is still corrupted. I am now trying to change different SQL server ODBC driver to see if the file can output successfully.Edit 2016-08-09With the updated MSSQL PDO Driver for PHP 7. Everything worked again with a charm.Now, we don't need to convert the varbinary data anymore using this new driver.Reference Link <code>  $link = @new \PDO(""odbc:Driver={SQL Server};Server=$server;Database=$db"", $user, $password);$stmt = $link->prepare(""INSERT INTO [Attachment] (AttID, Seq , ModuleCde, AppID, StaffID , FileName , [File]) VALUES ( NEWID() , ? , ? , ? , ? , ? , ? )"");$stmt->bindValue(1,$_POST[""Seq""],PDO::PARAM_INT);$stmt->bindValue(2,$_POST[""ModuleCde""],PDO::PARAM_STR);$stmt->bindValue(3,$_POST[""AppID""],PDO::PARAM_STR);$stmt->bindValue(4,$_SESSION[""StaffID""],PDO::PARAM_STR);$stmt->bindValue(5,$_FILES[""file""][""name""][$_POST[""Seq""]],PDO::PARAM_STR);$stmt->bindValue(6,file_get_contents($_FILES[""file""][""tmp_name""][$_POST[""Seq""]]),PDO::PARAM_STR);$stmt->execute(); $link = @new \PDO(""odbc:Driver={SQL Server};Server=$server;Database=$db"", $user, $password);$stmt = $link->prepare(""SELECT DATALENGTH([File]) AS [Size] , CONVERT(NVARCHAR(MAX),[File],2) AS [File] FROM [Attachment] WHERE [ModuleCde] = ? AND [AppID] = ? AND [Seq] = ? AND [StaffID] = ?"");$stmt->bindValue(1,$_GET[""ModuleCde""],PDO::PARAM_STR);$stmt->bindValue(2,$_GET[""AppID""],PDO::PARAM_STR);$stmt->bindValue(3,$_GET[""Seq""],PDO::PARAM_STR);$stmt->bindValue(4,$_SESSION[""StaffID""],PDO::PARAM_STR);$stmt->execute();$stmt->bindColumn(2,$img,PDO::PARAM_LOB, 0);$stmt->fetch(PDO::FETCH_ASSOC);file_put_contents( ""file"" , $img ); fwrite( fopen(""file"",""w+"") , strtolower(""0x"".str_replace(""\0"","""",$img)) ); $link->prepare(""SELECT DATALENGTH([File]) AS [Size] , [File] FROM [Attachment] WHERE [ModuleCde] = ? AND [AppID] = ? AND [Seq] = ? AND [StaffID] = ?"");",Cannot fetch varbinary data from MSSQL
(Symfony2 + Behat3 + Mink) Semantical Error when using Behat," Hello StackOverflow community, I just joined the community and this is my first question :)I'm using Symfony2. When I access a page manually using my browser (firefox): The page renders fine and I see a form which will allow a user to add a product to his store.But when I use Behat for my tests, I get this error: [Semantical Error] The annotation ""@Symfony\Component\Validator\Constraints\GreaterThanOrEqual"" in property AppBundle\Entity\Product::$productPrice does not exist, or could not be auto-loaded.This is (a part of) the source code in question: And this is my feature: Please help, I really think everything is in place. It's just that the error occurs during testing with Behat. What could have gone wrong?Edit:I did the suggestions of sir Evgeniy Kuzmin by clearing the cache. I ran, The tests that pass before fail now with this error: Please help me. <code>  http://localhost:8000/vendor/add-product namespace AppBundle\Entity;use Doctrine\ORM\Mapping as ORM;use Symfony\Component\Validator\Constraints as Assert;use Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity;/*** @ORM\Entity* @ORM\Table(name=""app_products"")*/class Product{ /** * @ORM\Id * @ORM\Column(type=""integer"") * @ORM\GeneratedValue(strategy=""AUTO"") */ private $productId; /** * @ORM\Column(type=""integer"") * @ORM\ManyToOne(targetEntity=""AppBundle\Entity\Store"") */ private $storeId; /** * @ORM\Column(type=""string"", length=255) * @Assert\NotBlank(message=""This is important, Product Name should not be blank!"") * @Assert\Length(max = ""255"", maxMessage=""Your description must not exceed 255 characters."") */ private $productName; /** * @ORM\Column(type=""integer"", length=255) * @Assert\GreaterThanOrEqual(value=0) * @Assert\NotBlank(message=""Product Price should not be blank!"") */ private $productPrice; /** * @ORM\Column(type=""string"", length=255) * @Assert\NotBlank(message=""Please enter a product description."") * @Assert\Length(max = ""255"", maxMessage=""Your description must not exceed 255 characters."") */ private $productDescription; /** * @ORM\Column(type=""integer"") * @Assert\GreaterThanOrEqual(value=0) * @Assert\NotBlank(message=""Product Quantity should not be blank!"") */ private $productQuantity; /** * @ORM\Column(type=""string"", length=255) * @Assert\File(mimeTypes={ ""image/jpeg"" }) * @Assert\File(maxSize=""6000000"") */ private $productImage; ... Feature: Buying productsAs a customer,I want to view and select products before buying,So that I could have more value for my moneyBackground: Given I am on the homepage When I fill in ""username"" with ""24thsaint"" And I fill in ""password"" with ""123123"" And I press ""login-button""Scenario: Vendor wants to add a new product Given I am on the homepage When I follow ""My Store"" ###### The test stops here as I get the Semantical Error And I follow ""add-new-product"" php bin/console cache:clear --env=test [Semantical Error] The annotation ""@Doctrine\ORM\Mapping\Entity"" in class AppBundle\Entity\User does not exist, or could not be auto-loaded. ",Semantical Error happens when using Behat only
(Symfony2 + Behat3 + Mink) Semantical Error happens when using Behat only," Hello StackOverflow community, I just joined the community and this is my first question :)I'm using Symfony2. When I access a page manually using my browser (firefox): The page renders fine and I see a form which will allow a user to add a product to his store.But when I use Behat for my tests, I get this error: [Semantical Error] The annotation ""@Symfony\Component\Validator\Constraints\GreaterThanOrEqual"" in property AppBundle\Entity\Product::$productPrice does not exist, or could not be auto-loaded.This is (a part of) the source code in question: And this is my feature: Please help, I really think everything is in place. It's just that the error occurs during testing with Behat. What could have gone wrong?Edit:I did the suggestions of sir Evgeniy Kuzmin by clearing the cache. I ran, The tests that pass before fail now with this error: Please help me. <code>  http://localhost:8000/vendor/add-product namespace AppBundle\Entity;use Doctrine\ORM\Mapping as ORM;use Symfony\Component\Validator\Constraints as Assert;use Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity;/*** @ORM\Entity* @ORM\Table(name=""app_products"")*/class Product{ /** * @ORM\Id * @ORM\Column(type=""integer"") * @ORM\GeneratedValue(strategy=""AUTO"") */ private $productId; /** * @ORM\Column(type=""integer"") * @ORM\ManyToOne(targetEntity=""AppBundle\Entity\Store"") */ private $storeId; /** * @ORM\Column(type=""string"", length=255) * @Assert\NotBlank(message=""This is important, Product Name should not be blank!"") * @Assert\Length(max = ""255"", maxMessage=""Your description must not exceed 255 characters."") */ private $productName; /** * @ORM\Column(type=""integer"", length=255) * @Assert\GreaterThanOrEqual(value=0) * @Assert\NotBlank(message=""Product Price should not be blank!"") */ private $productPrice; /** * @ORM\Column(type=""string"", length=255) * @Assert\NotBlank(message=""Please enter a product description."") * @Assert\Length(max = ""255"", maxMessage=""Your description must not exceed 255 characters."") */ private $productDescription; /** * @ORM\Column(type=""integer"") * @Assert\GreaterThanOrEqual(value=0) * @Assert\NotBlank(message=""Product Quantity should not be blank!"") */ private $productQuantity; /** * @ORM\Column(type=""string"", length=255) * @Assert\File(mimeTypes={ ""image/jpeg"" }) * @Assert\File(maxSize=""6000000"") */ private $productImage; ... Feature: Buying productsAs a customer,I want to view and select products before buying,So that I could have more value for my moneyBackground: Given I am on the homepage When I fill in ""username"" with ""24thsaint"" And I fill in ""password"" with ""123123"" And I press ""login-button""Scenario: Vendor wants to add a new product Given I am on the homepage When I follow ""My Store"" ###### The test stops here as I get the Semantical Error And I follow ""add-new-product"" php bin/console cache:clear --env=test [Semantical Error] The annotation ""@Doctrine\ORM\Mapping\Entity"" in class AppBundle\Entity\User does not exist, or could not be auto-loaded. ",Semantical Error happens when using Behat only
(SOLVED!) (Symfony2 + Behat3 + Mink) Semantical Error happens when using Behat only," Hello StackOverflow community, I just joined the community and this is my first question :)I'm using Symfony2. When I access a page manually using my browser (firefox): The page renders fine and I see a form which will allow a user to add a product to his store.But when I use Behat for my tests, I get this error: [Semantical Error] The annotation ""@Symfony\Component\Validator\Constraints\GreaterThanOrEqual"" in property AppBundle\Entity\Product::$productPrice does not exist, or could not be auto-loaded.This is (a part of) the source code in question: And this is my feature: Please help, I really think everything is in place. It's just that the error occurs during testing with Behat. What could have gone wrong?Edit:I did the suggestions of sir Evgeniy Kuzmin by clearing the cache. I ran, The tests that pass before fail now with this error: Please help me. <code>  http://localhost:8000/vendor/add-product namespace AppBundle\Entity;use Doctrine\ORM\Mapping as ORM;use Symfony\Component\Validator\Constraints as Assert;use Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity;/*** @ORM\Entity* @ORM\Table(name=""app_products"")*/class Product{ /** * @ORM\Id * @ORM\Column(type=""integer"") * @ORM\GeneratedValue(strategy=""AUTO"") */ private $productId; /** * @ORM\Column(type=""integer"") * @ORM\ManyToOne(targetEntity=""AppBundle\Entity\Store"") */ private $storeId; /** * @ORM\Column(type=""string"", length=255) * @Assert\NotBlank(message=""This is important, Product Name should not be blank!"") * @Assert\Length(max = ""255"", maxMessage=""Your description must not exceed 255 characters."") */ private $productName; /** * @ORM\Column(type=""integer"", length=255) * @Assert\GreaterThanOrEqual(value=0) * @Assert\NotBlank(message=""Product Price should not be blank!"") */ private $productPrice; /** * @ORM\Column(type=""string"", length=255) * @Assert\NotBlank(message=""Please enter a product description."") * @Assert\Length(max = ""255"", maxMessage=""Your description must not exceed 255 characters."") */ private $productDescription; /** * @ORM\Column(type=""integer"") * @Assert\GreaterThanOrEqual(value=0) * @Assert\NotBlank(message=""Product Quantity should not be blank!"") */ private $productQuantity; /** * @ORM\Column(type=""string"", length=255) * @Assert\File(mimeTypes={ ""image/jpeg"" }) * @Assert\File(maxSize=""6000000"") */ private $productImage; ... Feature: Buying productsAs a customer,I want to view and select products before buying,So that I could have more value for my moneyBackground: Given I am on the homepage When I fill in ""username"" with ""24thsaint"" And I fill in ""password"" with ""123123"" And I press ""login-button""Scenario: Vendor wants to add a new product Given I am on the homepage When I follow ""My Store"" ###### The test stops here as I get the Semantical Error And I follow ""add-new-product"" php bin/console cache:clear --env=test [Semantical Error] The annotation ""@Doctrine\ORM\Mapping\Entity"" in class AppBundle\Entity\User does not exist, or could not be auto-loaded. ",Semantical Error happens when using Behat only
Call to undefined function yii\web\mb_strlen() on PHP 7 Ubuntu 14.04, I had a Yii installation that was working fine up until today. I installed updates on my machine today after which this error was being thrown on all pages: PHP Fatal Error yii\base\ErrorException Uncaught Error: Call to undefined function yii\web\mb_strlen() in /application/vendor/yiisoft/yii2/web/ErrorHandler.php:404I ran composer update but the error persists.I am using yii 2.0.7 on PHP 7 on Ubuntu 14.04. How do I fix this? <code> ,Call to undefined function mb_strlen() on PHP 7 Ubuntu 14.04
MailChimp API V3.0 php create campaign with dynamic segment," Using MailChimp API V3.0 to create a campaign.I want to create a campaign that sends to users with a specific interest. It looks like this is possible in the docs, but I've tried every permutation I can think of. I can create the campaign fine as long as I leave out the segment_ops member. Does anyone have an example of PHP code that will do it?It seems that interests are handled strangely since you don't include the interest-category when setting a users interests via the API. I'm not sure how this affects campaign creation. <code> ",Create campaign with dynamic segment using MailChimp API V3.0
Google php api sign user out," On Google's Integrate Google Sign-In page it has the section at the bottom that shows you how to sign the user out using Javascript: I have been looking and I can't find a way to sign the user out like this using PHP.I did find how to sign a user completely out of Google, but I don't want that. I also know I can delete the $_SESSION variable that holds the access code, but that still isn't completely what I want.Does anyone know how I can log someone out of my Google application using PHP? <code>  <a href=""#"" onclick=""signOut();"">Sign out</a><script> function signOut() { var auth2 = gapi.auth2.getAuthInstance(); auth2.signOut().then(function () { console.log('User signed out.'); }); }</script>",Google Sign in API - How do I log someone out with PHP?
"PHP, Notic: Array to string conversion"," I am a newbie of PHP. I study it from php.net, but I found a problem today. The documentation(http://php.net/manual/en/language.types.string.php) say that the above example will output: But I get the different output run on my PC(PHP 7): Why? <code>  class foo { var $bar = 'I am bar.';}$foo = new foo();$bar = 'bar';$baz = array('foo', 'bar', 'baz', 'quux');echo ""{$foo->$bar}\n"";echo ""{$foo->$baz[1]}\n""; I am bar.I am bar. I am bar.<b>Notice</b>: Array to string conversion in ... on line <b>9</b><br /><b>Notice</b>: Undefined property: foo::$Array in ... on line <b>9</b><br />",PHP Notice: Array to string conversion only on PHP 7
I want to set header and footer in pdf using mpdf," I have generated a PDF using mpdf library in CodeIgniter. I want to attach header image and footer image with proper margin, I have created one code but header and footer get overlapped.  <code>  //controller$this->load->library('m_pdf'); $param = '"""",""A4"","""","""",0,0,100,0,6,3,""L""'; $pdf = $this->m_pdf->load($param); // $pdf->useOddEven = true; $pdf->SetHTMLHeader('<img src=""' . base_url() . 'custom/Hederinvoice.jpg""/>'); $pdf->SetHTMLFooter('<img src=""' . base_url() . 'custom/footarinvoice.jpg""/>'); $wm = base_url() . 'custom/Watermark.jpg'; $pdf->SetWatermarkImage($wm); $pdf->showWatermarkImage = true; $data['main_content'] = 'dwnld'; $this->load->view('template', $data); $html = $this->load->view('template_pdf', $data, true); $this->load->view('template_pdf', $data, true); $pdf->WriteHTML($html); $pdf->page = 0; $pdf->state = 0; $pdf->Output($pdfFilePath, ""D"");",I want to set header and footer in PDF using mpdf
latest composer version not pulling laravel," The Latest version of Composer is not pulling Laravel, I thought it could be because of Composer added new secure_http feature for downloading from Packagist and Laravel Packagist are in HTTP. This is what I think, so I need solution. The previous version of Composer doing well.The error showing on my terminal when I was trying to install Laravel installer, is: Failed to decode response: zlib_decode(): data error Retrying with degraded mode, check https://getcomposer.org/doc/articles/troubleshooting.md#degraded-mode for more info Your configuration does not allow connection to http://packagist.org. See https://getcomposer.org/doc/06-config.md#secure-http for details. http://packagist.org could not be fully loaded, package information was loaded from the local cache and may be out of date Installation failed, reverting ./composer.json to its original content. [Composer\Downloader\TransportException] Your configuration does not allow connection to http://packagist.org. See https://getcomposer.org/doc/06-config.md#secure-http for details. <code> ",Latest Composer version not pulling Laravel
Latest Composer version not pulling Laravel," The Latest version of Composer is not pulling Laravel, I thought it could be because of Composer added new secure_http feature for downloading from Packagist and Laravel Packagist are in HTTP. This is what I think, so I need solution. The previous version of Composer doing well.The error showing on my terminal when I was trying to install Laravel installer, is: Failed to decode response: zlib_decode(): data error Retrying with degraded mode, check https://getcomposer.org/doc/articles/troubleshooting.md#degraded-mode for more info Your configuration does not allow connection to http://packagist.org. See https://getcomposer.org/doc/06-config.md#secure-http for details. http://packagist.org could not be fully loaded, package information was loaded from the local cache and may be out of date Installation failed, reverting ./composer.json to its original content. [Composer\Downloader\TransportException] Your configuration does not allow connection to http://packagist.org. See https://getcomposer.org/doc/06-config.md#secure-http for details. <code> ",Latest Composer version not pulling Laravel
Codeigniter Database Sessions, When I try to execute any controller of my CodeIgniter project i receive this error: I tried to replace CodeIgniter system files but it didn't work. The problem appears in all projects <code>  Fatal error: Class CI_Session_files_driver contains 1 abstract method and must therefore be declared abstract or implement the remaining methods (SessionHandlerInterface::read) in D:\Git\crud-farm\system\libraries\Session\drivers\Session_files_driver.php on line 49A PHP Error was encounteredSeverity: ErrorMessage: Class CI_Session_files_driver contains 1 abstract method and must therefore be declared abstract or implement the remaining methods (SessionHandlerInterface::read)Filename: drivers/Session_files_driver.phpLine Number: 49Backtrace:,CodeIgniter Database Session Error
How reload a page after clicked ok using sweetalert," Hello I have a code using sweetalert this code will pop-up a message and has a button okay, what I like to do is I want to refresh the page after I click the okay button.Can I do that? <code>  swal(""Good job!"", ""You clicked the button!"", ""success"")",How to reload a page after clicked ok using sweetalert
Composer assets missing," I installed the latest version (1.0.0. stable) of composer and in my Yii2 project I typed this: php composer.phar updateIt gives me this error: [ReflectionException] Class Fxp\Composer\AssetPlugin\Repository\NpmRepository does not exist [ErrorException] Declaration of Fxp\Composer\AssetPlugin\Repository\AbstractAssetsRepository::whatProvides() should be compatible with Composer\Repository\ComposerRepository::whatProvides(Composer\DependencyResolver\Pool $pool, $name, $bypassFilters = false)Can someone help me how to fix this?Here's my composer.json <code>  { ""name"": ""yiisoft/yii2-app-advanced"", ""description"": ""Yii 2 Advanced Project Template"", ""keywords"": [""yii2"", ""framework"", ""advanced"", ""project template""], ""homepage"": ""http://www.yiiframework.com/"", ""type"": ""project"", ""license"": ""BSD-3-Clause"", ""support"": { ""issues"": ""https://github.com/yiisoft/yii2/issues?state=open"", ""forum"": ""http://www.yiiframework.com/forum/"", ""wiki"": ""http://www.yiiframework.com/wiki/"", ""irc"": ""irc://irc.freenode.net/yii"", ""source"": ""https://github.com/yiisoft/yii2"" }, ""minimum-stability"": ""stable"", ""require"": { ""php"": "">=5.4.0"", ""yiisoft/yii2"": "">=2.0.6"", ""yiisoft/yii2-bootstrap"": ""*"", ""yiisoft/yii2-swiftmailer"": ""*"", ""kartik-v/yii2-widget-fileinput"": ""@dev"", ""golonka/bbcodeparser"": ""^2.2"" }, ""require-dev"": { ""yiisoft/yii2-codeception"": ""*"", ""yiisoft/yii2-debug"": ""*"", ""yiisoft/yii2-gii"": ""*"", ""yiisoft/yii2-faker"": ""*"" }, ""config"": { ""process-timeout"": 1800 }, ""extra"": { ""asset-installer-paths"": { ""npm-asset-library"": ""vendor/npm"", ""bower-asset-library"": ""vendor/bower"" } }}",Composer throws [ReflectionException] Class Fxp\Composer\AssetPlugin\Repository\NpmRepository does not exist
Composer throw [ReflectionException] Class Fxp\Composer\AssetPlugin\Repository\NpmRepository does not exist," I installed the latest version (1.0.0. stable) of composer and in my Yii2 project I typed this: php composer.phar updateIt gives me this error: [ReflectionException] Class Fxp\Composer\AssetPlugin\Repository\NpmRepository does not exist [ErrorException] Declaration of Fxp\Composer\AssetPlugin\Repository\AbstractAssetsRepository::whatProvides() should be compatible with Composer\Repository\ComposerRepository::whatProvides(Composer\DependencyResolver\Pool $pool, $name, $bypassFilters = false)Can someone help me how to fix this?Here's my composer.json <code>  { ""name"": ""yiisoft/yii2-app-advanced"", ""description"": ""Yii 2 Advanced Project Template"", ""keywords"": [""yii2"", ""framework"", ""advanced"", ""project template""], ""homepage"": ""http://www.yiiframework.com/"", ""type"": ""project"", ""license"": ""BSD-3-Clause"", ""support"": { ""issues"": ""https://github.com/yiisoft/yii2/issues?state=open"", ""forum"": ""http://www.yiiframework.com/forum/"", ""wiki"": ""http://www.yiiframework.com/wiki/"", ""irc"": ""irc://irc.freenode.net/yii"", ""source"": ""https://github.com/yiisoft/yii2"" }, ""minimum-stability"": ""stable"", ""require"": { ""php"": "">=5.4.0"", ""yiisoft/yii2"": "">=2.0.6"", ""yiisoft/yii2-bootstrap"": ""*"", ""yiisoft/yii2-swiftmailer"": ""*"", ""kartik-v/yii2-widget-fileinput"": ""@dev"", ""golonka/bbcodeparser"": ""^2.2"" }, ""require-dev"": { ""yiisoft/yii2-codeception"": ""*"", ""yiisoft/yii2-debug"": ""*"", ""yiisoft/yii2-gii"": ""*"", ""yiisoft/yii2-faker"": ""*"" }, ""config"": { ""process-timeout"": 1800 }, ""extra"": { ""asset-installer-paths"": { ""npm-asset-library"": ""vendor/npm"", ""bower-asset-library"": ""vendor/bower"" } }}",Composer throws [ReflectionException] Class Fxp\Composer\AssetPlugin\Repository\NpmRepository does not exist
upload 2 image separately in codeigniter," i want to upload 2 image separately. i have a condition in which i need to upload file and some time bohth and some time only image i need to use separate button how to differentiate both image and file. my codes are this is controller  <code>  <form action=""http://localhost/cod_login/club/test2"" enctype=""multipart/form-data"" method=""post"" accept-charset=""utf-8""> <input type=""file"" name=""userfile"" size=""20""> <input type=""file"" name=""userfile"" size=""20""> <input type=""submit"" name=""submit"" value=""upload""></form> function ddoo_upload(){ $config['upload_path'] = './uploads/'; $config['allowed_types'] = 'gif|jpg|png'; $config['max_size'] = '100'; $config['max_width'] = '1024'; $config['max_height'] = '768'; $this->load->library('upload', $config); if ( ! $this->upload->do_upload()) { $error = array('error' => $this->upload->display_errors()); $this->load->view('upload_form', $error); } else { $data = array('upload_data' => $this->upload->data()); $this->load->view('upload_success', $data); }}",How to upload 2 separate images in codeigniter
Split URL's from a string using PHP," How can we use PHP to identify URL's in a string and store them in an array?Cannot use the explode function if the URL contains a comma, it wont give correct results.  <code> ",Extract URL's from a string using PHP
execute exec command to clear CMD-shell," I have this simple php script which outputs a string every second. I execute the script in the command shell on windows (php myscript.php) and try to clear the command shell before every cycle. But I don't get it to work. Any ideas? <code>  <?php$i = 1;while(1){ exec(""cls""); //<- Does not work echo ""test_"".$i.""\n""; sleep(1); $i++;}",Clear CMD-shell with php
Unwanted securities in Request Class : Laravel 5.2," I am today in bit confusion about my website security and some extra code that is written to make the website secure. Below are 2 locations where security is applied.Inside Route Config, To secure the route, I have used Middleware to check the user role. I mentioned 2 Middlewares. Auth Middleware : This is for authentication. SuperAdmin Middleware: This is for Authorization. Second location is Request class. Here is the code. In authorize method, again same thing is being checked as already done in route Question: Should I remove check in Request class? Is that an unwanted validation to secure the request ? As route.config is already doing the job.What's the use of authorize method? I meant, I am using Request class to validate form inputs. Should I always return true from authorize method? <code>  Route::group(['middleware' => ['web', 'SuperAdmin', 'auth']], function () { Route::get('/Create-Department', 'DepartmentController@CreateDepartment');}); class DepartmentRequest extends Request{ public function authorize() { if(\Auth::user() == null) { return false; } if(\Auth::user()->isSuperAdmin()) { return true; } return false; } public function rules() { return [ 'Department' => 'required', ]; }}",What is the purpose of the authorize method in a Request class in Laravel?
TypeHinting for attrubutes in php7?," Does php 7 support type hinting for class properties? I mean, not just for setters/getters but for the property itself. Something like: <code>  class Foo { /** * * @var Bar */ public $bar : Bar;}$fooInstance = new Foo();$fooInstance->bar = new NotBar(); //Error",Type hinting for properties in PHP 7?
Type hinting for attributes in PHP 7?," Does php 7 support type hinting for class properties? I mean, not just for setters/getters but for the property itself. Something like: <code>  class Foo { /** * * @var Bar */ public $bar : Bar;}$fooInstance = new Foo();$fooInstance->bar = new NotBar(); //Error",Type hinting for properties in PHP 7?
PHP Laravel: Couldn't store data in Session," I want to store some data in session for some testing purpose. I have written the session code also in controller. But in console.log ->resources -> session I couldn't find any value which I stored.If anyone help me to find the mistake which I have done in my controller please.Here is my controller: <code>  <?phpnamespace App\Http\Controllers;use Illuminate\Http\Request;use App\Department;use App\Http\Requests;use Cookie;use Tracker;use Session; public function postdepartmentSave(Request $request) { $this->validate($request,[ 'code' => 'required|min:2|max:7|unique:departments', 'name' => 'required|unique:departments', ]); $department = new Department(); $department->code = $request->Input(['code']); $department->name = $request->Input(['name']); $name= $department->name; Session::put('name', $name); dd($name); $department->save(); return redirect('departmentSavePage'); }",PHP Laravel: How to set or get Session Data?
PHP inserting values from the form into mysql," I created a users table in mysql from the terminal and I am trying to create simple task: insert values from the form. This is my dbConfig file and This is my Index.php . After hitting my save button, nothing happens, database is still empty. I tried echo'ing the INSERT query and it takes all values from the form as it is supposed to. After I try to check if this worked from terminal, I login into my sql try to return all data from users table and I get empty set. <code>  <?php$mysqli = new mysqli(""localhost"", ""root"", ""pass"", ""testDB"");/* check connection */if (mysqli_connect_errno()) { printf(""Connect failed: %s\n"", mysqli_connect_error()); exit();}?> <!doctype html><html> <head> <meta charset=""utf-8""> <meta http-equiv=""X-UA-Compatible"" content=""IE=edge,chrome=1""> <meta name=""description"" content=""$1""> <meta name=""viewport"" content=""width=device-width, initial-scale=1""> <link rel=""stylesheet"" type=""text/css"" href=""style.css""> <title>test</title> <?php include_once 'dbConfig.php'; ?></head><body> <?php if(isset($_POST['save'])){ $sql = ""INSERT INTO users (username, password, email) VALUES ('"".$_POST[""username""].""','"".$_POST[""password""].""','"".$_POST[""email""].""')""; } ?> <form method=""post""> <label id=""first""> First name:</label><br/> <input type=""text"" name=""username""><br/> <label id=""first"">Password</label><br/> <input type=""password"" name=""password""><br/> <label id=""first"">Email</label><br/> <input type=""text"" name=""email""><br/> <button type=""submit"" name=""save"">save</button> <button type=""submit"" name=""get"">get</button> </form></body></html>",PHP: Inserting Values from the Form into MySQL
safari issue with json_encode," I've muddled some JS code together which appears to work in firefox (no errors and functions correctly) but throws up 'SyntaxError: Unexpected token '='. Expected a ')' or a ',' after a parameter declaration.' in safari.I have the following object in php And the following javascript in the browser the json_encode line is as follows Which looks right so I don't know what is causing the error. Any ideas?Cheers.Safari points to an error here in the codesafari error <code>  $items = Array ( [0] => stdClass Object ( [id] => 1 [class] => class_a [make] => Kia [model] => Picanto [features] => 3,4,5,6,7,8 [colour] => white [engine] => 1000cc [ordering] => 1 [published] => 1 [image] => images/vehicles/picanto.jpg ) [1] => stdClass Object ( [id] => 2 [class] => motorbike [make] => Honda [model] => Transalp [features] => [colour] => blue [engine] => 650cc [ordering] => 6 [published] => 1 [image] => ) [2] => stdClass Object ( [id] => 3 [class] => moped [make] => Sym [model] => SR [features] => [colour] => white [engine] => 150cc [ordering] => 5 [published] => 1 [image] => ) [3] => stdClass Object ( [id] => 4 [class] => class_b [make] => Suzuki [model] => Splash [features] => 12 [colour] => Red [engine] => 1300cc [ordering] => 3 [published] => 1 [image] => images/vehicles/suzuki_splash.jpg ) [4] => stdClass Object ( [id] => 5 [class] => class_f [make] => Peugot [model] => 307 Cabrio [features] => 8,9,10,11 [colour] => Black [engine] => 1600cc [ordering] => 4 [published] => 1 [image] => images/vehicles/peugeot307.jpg ) [5] => stdClass Object ( [id] => 6 [class] => class_a [make] => Hyundai [model] => Atos [features] => [colour] => white [engine] => 1100cc [ordering] => 2 [published] => 1 [image] => images/vehicles/atos.jpg ) ) <script type=""text/javascript"">jQuery(document).ready(function($){ var items = <?PHP echo json_encode($items)?>; console.log(items); for (var i = 0, len = items.length; i < len; i++) { lookup[items[i].id] = items[i]; //access the new lookup object using lookup[id].variable i.e lookup[1].image } var vId =""""; function updateImg(img, display=true){ if (display == true){ $(""#vehicle-image"").show(500); }else{ $(""#vehicle-image"").hide(500); } $(""#vehicle-image"").attr(""src"", '/'+ img); } $('#jform_vehicle').on('change', function() { var vId = parseInt(($(""#jform_vehicle"").chosen().val())); console.log (vId); if (isNaN(vId) !==true){ var img = lookup[vId].image; console.log ('img=' + img); updateImg(img); }else{ console.log('not a number'); var img = """"; updateImg(img, false) } });});</script> var items = [{""id"":""1"",""class"":""class_a"",""make"":""Kia"",""model"":""Picanto"",""features"":""3,4,5,6,7,8"",""colour"":""white"",""engine"":""1000cc"",""ordering"":""1"",""published"":""1"",""image"":""images\/vehicles\/picanto.jpg""},{""id"":""2"",""class"":""motorbike"",""make"":""Honda"",""model"":""Transalp"",""features"":"""",""colour"":""blue"",""engine"":""650cc"",""ordering"":""6"",""published"":""1"",""image"":""""},{""id"":""3"",""class"":""moped"",""make"":""Sym"",""model"":""SR"",""features"":"""",""colour"":""white"",""engine"":""150cc"",""ordering"":""5"",""published"":""1"",""image"":""""},{""id"":""4"",""class"":""class_b"",""make"":""Suzuki"",""model"":""Splash"",""features"":""12"",""colour"":""Red"",""engine"":""1300cc"",""ordering"":""3"",""published"":""1"",""image"":""images\/vehicles\/suzuki_splash.jpg""},{""id"":""5"",""class"":""class_f"",""make"":""Peugot"",""model"":""307 Cabrio"",""features"":""8,9,10,11"",""colour"":""Black"",""engine"":""1600cc"",""ordering"":""4"",""published"":""1"",""image"":""images\/vehicles\/peugeot307.jpg""},{""id"":""6"",""class"":""class_a"",""make"":""Hyundai"",""model"":""Atos"",""features"":"""",""colour"":""white"",""engine"":""1100cc"",""ordering"":""2"",""published"":""1"",""image"":""images\/vehicles\/atos.jpg""}];","SyntaxError: Unexpected token '='. Expected a ')' or a ',' after a parameter declaration.' in safari"
Safari Issue with json_encode," I've muddled some JS code together which appears to work in firefox (no errors and functions correctly) but throws up 'SyntaxError: Unexpected token '='. Expected a ')' or a ',' after a parameter declaration.' in safari.I have the following object in php And the following javascript in the browser the json_encode line is as follows Which looks right so I don't know what is causing the error. Any ideas?Cheers.Safari points to an error here in the codesafari error <code>  $items = Array ( [0] => stdClass Object ( [id] => 1 [class] => class_a [make] => Kia [model] => Picanto [features] => 3,4,5,6,7,8 [colour] => white [engine] => 1000cc [ordering] => 1 [published] => 1 [image] => images/vehicles/picanto.jpg ) [1] => stdClass Object ( [id] => 2 [class] => motorbike [make] => Honda [model] => Transalp [features] => [colour] => blue [engine] => 650cc [ordering] => 6 [published] => 1 [image] => ) [2] => stdClass Object ( [id] => 3 [class] => moped [make] => Sym [model] => SR [features] => [colour] => white [engine] => 150cc [ordering] => 5 [published] => 1 [image] => ) [3] => stdClass Object ( [id] => 4 [class] => class_b [make] => Suzuki [model] => Splash [features] => 12 [colour] => Red [engine] => 1300cc [ordering] => 3 [published] => 1 [image] => images/vehicles/suzuki_splash.jpg ) [4] => stdClass Object ( [id] => 5 [class] => class_f [make] => Peugot [model] => 307 Cabrio [features] => 8,9,10,11 [colour] => Black [engine] => 1600cc [ordering] => 4 [published] => 1 [image] => images/vehicles/peugeot307.jpg ) [5] => stdClass Object ( [id] => 6 [class] => class_a [make] => Hyundai [model] => Atos [features] => [colour] => white [engine] => 1100cc [ordering] => 2 [published] => 1 [image] => images/vehicles/atos.jpg ) ) <script type=""text/javascript"">jQuery(document).ready(function($){ var items = <?PHP echo json_encode($items)?>; console.log(items); for (var i = 0, len = items.length; i < len; i++) { lookup[items[i].id] = items[i]; //access the new lookup object using lookup[id].variable i.e lookup[1].image } var vId =""""; function updateImg(img, display=true){ if (display == true){ $(""#vehicle-image"").show(500); }else{ $(""#vehicle-image"").hide(500); } $(""#vehicle-image"").attr(""src"", '/'+ img); } $('#jform_vehicle').on('change', function() { var vId = parseInt(($(""#jform_vehicle"").chosen().val())); console.log (vId); if (isNaN(vId) !==true){ var img = lookup[vId].image; console.log ('img=' + img); updateImg(img); }else{ console.log('not a number'); var img = """"; updateImg(img, false) } });});</script> var items = [{""id"":""1"",""class"":""class_a"",""make"":""Kia"",""model"":""Picanto"",""features"":""3,4,5,6,7,8"",""colour"":""white"",""engine"":""1000cc"",""ordering"":""1"",""published"":""1"",""image"":""images\/vehicles\/picanto.jpg""},{""id"":""2"",""class"":""motorbike"",""make"":""Honda"",""model"":""Transalp"",""features"":"""",""colour"":""blue"",""engine"":""650cc"",""ordering"":""6"",""published"":""1"",""image"":""""},{""id"":""3"",""class"":""moped"",""make"":""Sym"",""model"":""SR"",""features"":"""",""colour"":""white"",""engine"":""150cc"",""ordering"":""5"",""published"":""1"",""image"":""""},{""id"":""4"",""class"":""class_b"",""make"":""Suzuki"",""model"":""Splash"",""features"":""12"",""colour"":""Red"",""engine"":""1300cc"",""ordering"":""3"",""published"":""1"",""image"":""images\/vehicles\/suzuki_splash.jpg""},{""id"":""5"",""class"":""class_f"",""make"":""Peugot"",""model"":""307 Cabrio"",""features"":""8,9,10,11"",""colour"":""Black"",""engine"":""1600cc"",""ordering"":""4"",""published"":""1"",""image"":""images\/vehicles\/peugeot307.jpg""},{""id"":""6"",""class"":""class_a"",""make"":""Hyundai"",""model"":""Atos"",""features"":"""",""colour"":""white"",""engine"":""1100cc"",""ordering"":""2"",""published"":""1"",""image"":""images\/vehicles\/atos.jpg""}];","SyntaxError: Unexpected token '='. Expected a ')' or a ',' after a parameter declaration.' in safari"
Safari Issue with json_encode," I've muddled some JS code together which appears to work in firefox (no errors and functions correctly) but throws up 'SyntaxError: Unexpected token '='. Expected a ')' or a ',' after a parameter declaration.' in safari.I have the following object in php And the following javascript in the browser the json_encode line is as follows Which looks right so I don't know what is causing the error. Any ideas?Cheers.Safari points to an error here in the codesafari error <code>  $items = Array ( [0] => stdClass Object ( [id] => 1 [class] => class_a [make] => Kia [model] => Picanto [features] => 3,4,5,6,7,8 [colour] => white [engine] => 1000cc [ordering] => 1 [published] => 1 [image] => images/vehicles/picanto.jpg ) [1] => stdClass Object ( [id] => 2 [class] => motorbike [make] => Honda [model] => Transalp [features] => [colour] => blue [engine] => 650cc [ordering] => 6 [published] => 1 [image] => ) [2] => stdClass Object ( [id] => 3 [class] => moped [make] => Sym [model] => SR [features] => [colour] => white [engine] => 150cc [ordering] => 5 [published] => 1 [image] => ) [3] => stdClass Object ( [id] => 4 [class] => class_b [make] => Suzuki [model] => Splash [features] => 12 [colour] => Red [engine] => 1300cc [ordering] => 3 [published] => 1 [image] => images/vehicles/suzuki_splash.jpg ) [4] => stdClass Object ( [id] => 5 [class] => class_f [make] => Peugot [model] => 307 Cabrio [features] => 8,9,10,11 [colour] => Black [engine] => 1600cc [ordering] => 4 [published] => 1 [image] => images/vehicles/peugeot307.jpg ) [5] => stdClass Object ( [id] => 6 [class] => class_a [make] => Hyundai [model] => Atos [features] => [colour] => white [engine] => 1100cc [ordering] => 2 [published] => 1 [image] => images/vehicles/atos.jpg ) ) <script type=""text/javascript"">jQuery(document).ready(function($){ var items = <?PHP echo json_encode($items)?>; console.log(items); for (var i = 0, len = items.length; i < len; i++) { lookup[items[i].id] = items[i]; //access the new lookup object using lookup[id].variable i.e lookup[1].image } var vId =""""; function updateImg(img, display=true){ if (display == true){ $(""#vehicle-image"").show(500); }else{ $(""#vehicle-image"").hide(500); } $(""#vehicle-image"").attr(""src"", '/'+ img); } $('#jform_vehicle').on('change', function() { var vId = parseInt(($(""#jform_vehicle"").chosen().val())); console.log (vId); if (isNaN(vId) !==true){ var img = lookup[vId].image; console.log ('img=' + img); updateImg(img); }else{ console.log('not a number'); var img = """"; updateImg(img, false) } });});</script> var items = [{""id"":""1"",""class"":""class_a"",""make"":""Kia"",""model"":""Picanto"",""features"":""3,4,5,6,7,8"",""colour"":""white"",""engine"":""1000cc"",""ordering"":""1"",""published"":""1"",""image"":""images\/vehicles\/picanto.jpg""},{""id"":""2"",""class"":""motorbike"",""make"":""Honda"",""model"":""Transalp"",""features"":"""",""colour"":""blue"",""engine"":""650cc"",""ordering"":""6"",""published"":""1"",""image"":""""},{""id"":""3"",""class"":""moped"",""make"":""Sym"",""model"":""SR"",""features"":"""",""colour"":""white"",""engine"":""150cc"",""ordering"":""5"",""published"":""1"",""image"":""""},{""id"":""4"",""class"":""class_b"",""make"":""Suzuki"",""model"":""Splash"",""features"":""12"",""colour"":""Red"",""engine"":""1300cc"",""ordering"":""3"",""published"":""1"",""image"":""images\/vehicles\/suzuki_splash.jpg""},{""id"":""5"",""class"":""class_f"",""make"":""Peugot"",""model"":""307 Cabrio"",""features"":""8,9,10,11"",""colour"":""Black"",""engine"":""1600cc"",""ordering"":""4"",""published"":""1"",""image"":""images\/vehicles\/peugeot307.jpg""},{""id"":""6"",""class"":""class_a"",""make"":""Hyundai"",""model"":""Atos"",""features"":"""",""colour"":""white"",""engine"":""1100cc"",""ordering"":""2"",""published"":""1"",""image"":""images\/vehicles\/atos.jpg""}];","SyntaxError: Unexpected token '='. Expected a ')' or a ',' after a parameter declaration.' in safari"
How to validate on max file size in laravel?," I'm trying to validate on a max file size of 500kb in Laravel: But this says that the file should be exactly 500kb big. How can I edit this rule so that it returns an error when it's bigger than 500kb? Ive tried this: The documentation says nothing about this: size:value The field under validation must have a size matching the given value. For string data, the value corresponds to the number of characters. For numeric data, the value corresponds to a given integer value. For files, size corresponds to the file size in kilobytes. <code>  $validator = Validator::make($request->all(), [ 'file' => 'size:500',]); 'file' => 'size:>=500''file' => 'size:max:500'",How to Validate on Max File Size in Laravel?
How to assign Maddleware to Routes in Laravel (better way)?," I would like to here your opinion or maybe your best known practice in assigning Middleware to Routes in Laravel. I have read 3 ways:Array (Single and Multiple)Route::get('/',['middlware' => 'auth', function () { // Code goes here}]);Route::get('/', ['middleware' => ['first', 'second'], function () { //}]);Chain MethodRoute::get('/', function () { //})->middleware(['first', 'second']);Fully Qualified Class Nameuse App\Http\Middleware\FooMiddleware;Route::get('admin/profile', ['middleware' => FooMiddleware::class, function () { //}]);I just wanna know what is the best practices you know and if possible add some reference so that it is easier for us newbie to understand. Any answer will be appreciated. <code> ",How to assign Middleware to Routes in Laravel (better way)?
Yii2. Adding attribute and rule dinamically to model," I am writing a widget and I want to avoid user adding code to their model (I know it would be easier but using it to learn something new).Do you know if it is possible to add an attribute (which is not in your database, so it will be virtual) to a model and add a rule for that attribute?. You have no access to change that model code.I know rules is an array. In the past I have merged rules from parent class using array_merge. Can it be done externally? Does Yii2 has a method for that?An idea is to extend model provided by the user with a ""model"" inside my widget an there use: But If I extend it, when I use that model in an ActiveForm in example for a checkbox, it will use my ""CustomModel"", so I want to avoid that. Any other ideas? How to do it without extending their model? <code>  public function init() { /*Since it is extended this not even would be necessary, I could declare the attribute as usual*/ $attribute = ""categories""; $this->{$attribute} = null; //To create attribute on the fly parent::init(); } public function rules() { $rules = [...]; //Then here merge parent rules with mine. return array_merge(parent::rules, $rules); }",Yii2. Adding attribute and rule dynamically to model
What is difference between MyClass::class vs MyClass::className() in Yii2?," i know both gives same results but i am looking forward to hear about performance.i am not sure but i think..""MyClass::className()"" cause that class file to be loaded as well (its Yii function whom body is just simply get_called_class())""MyClass::class"" i think this php's native class property don't load class php file and just return its name based on current namespace or use.Let me know if i am right? or highlight your knowledge please.There are many places where we just want full qualitfied class name even it's not going to be used that time. but i also don't like putting hardcoded strings (due to hard refactoring) <code> ",Difference between ::class vs ::className() in Yii2?
Is array a transversable?," Here is my basic array in my framework Here is my tests: It seems my standard php array is not an instance of Traversable which seems inconsistent. <code>  array(2) { [0]=> string(2) ""40"" [1]=> string(2) ""41""} echo($array instanceof Traversable); // 0echo(is_array($array)); // 1",Is an array an instance of Traversable?
Check if a customer has purchased a specific product earlier in Woocommerce," I need to check if a customer has purchased a specific product earlier in WooCommerce. The case is this: The customer shall not be able to purchase product ""c"", ""d"", ""e"" unless they have purchased product ""a"" or ""b"" at an earlier time.If the customer has purchased product ""a"" or ""b"" earlier, then the purchase button of product ""c"", ""d"" and ""e"" is activated and they are allowed to buy them. If they havent purchased ""a"" or ""b"" earlier, they will not be allowed to purchase ""c"", ""d"", ""e"" and the purchase button is deactivated.How can I achieve this? Thanks. <code> ",Check if a user has purchased specific products in WooCommerce
Check if a customer has purchased a specific product earlier in WooCommerce," I need to check if a customer has purchased a specific product earlier in WooCommerce. The case is this: The customer shall not be able to purchase product ""c"", ""d"", ""e"" unless they have purchased product ""a"" or ""b"" at an earlier time.If the customer has purchased product ""a"" or ""b"" earlier, then the purchase button of product ""c"", ""d"" and ""e"" is activated and they are allowed to buy them. If they havent purchased ""a"" or ""b"" earlier, they will not be allowed to purchase ""c"", ""d"", ""e"" and the purchase button is deactivated.How can I achieve this? Thanks. <code> ",Check if a user has purchased specific products in WooCommerce
Check if a customer has purchased a specific products earlier in WooCommerce," I need to check if a customer has purchased a specific product earlier in WooCommerce. The case is this: The customer shall not be able to purchase product ""c"", ""d"", ""e"" unless they have purchased product ""a"" or ""b"" at an earlier time.If the customer has purchased product ""a"" or ""b"" earlier, then the purchase button of product ""c"", ""d"" and ""e"" is activated and they are allowed to buy them. If they havent purchased ""a"" or ""b"" earlier, they will not be allowed to purchase ""c"", ""d"", ""e"" and the purchase button is deactivated.How can I achieve this? Thanks. <code> ",Check if a user has purchased specific products in WooCommerce
Check if a customer has purchased a specific products in WooCommerce," I need to check if a customer has purchased a specific product earlier in WooCommerce. The case is this: The customer shall not be able to purchase product ""c"", ""d"", ""e"" unless they have purchased product ""a"" or ""b"" at an earlier time.If the customer has purchased product ""a"" or ""b"" earlier, then the purchase button of product ""c"", ""d"" and ""e"" is activated and they are allowed to buy them. If they havent purchased ""a"" or ""b"" earlier, they will not be allowed to purchase ""c"", ""d"", ""e"" and the purchase button is deactivated.How can I achieve this? Thanks. <code> ",Check if a user has purchased specific products in WooCommerce
How to install php-curl in ubuntu 16.04, Upgraded to Ubuntu 16.04 and facing problem after installing PHP5.Installed PHP-5 with following: Trying to install php-curl but its not working. Error: E: Unable to locate package php5-curl <code>  sudo add-apt-repository ppa:ondrej/phpsudo apt-get updatesudo apt-get upgradesudo apt-get install php5.5 # for PHP 5.5 sudo apt-get install php5-curl,How to install php-curl in Ubuntu 16.04
Jquery Calendar with Time Slots selection," I want to create an Appointment Booking feature in PHP. I want to have a calender in which user can select date and in return calender shows the time slots to select. Time slot will be static, it might be dynamic in future.You can check the example on below link.https://getbooked.io/Searched over the internet for such kind of plugins, but could not find. (I need a free plugin). <code> ",jQuery Calendar with Time Slots selection
Send POST data via raw json with postman," I've got Postman (the one that doesn't open in Chrome) and I'm trying to do a POST request using raw JSON.In the Body tab I have ""raw"" selected and ""JSON (application/json)"" with this body: For the header I have 1, Content-Type: application/jsonOn the PHP side I'm just doing print_r($_POST); for now, and I'm getting an empty array.If I use jQuery and do: I'm getting as expected: So why isn't it working with Postman?Postman screenshots:and header: <code>  { ""foo"": ""bar""} $.ajax({ ""type"": ""POST"", ""url"": ""/rest/index.php"", ""data"": { ""foo"": ""bar"" }}).done(function (d) { console.log(d);}); Array( [foo] => bar)",Send POST data via raw JSONwith Postman
how to fetch competitors record from alexa API to array," I call http://data.alexa.com/data?cli=10&dat=snbamz&url=www.flipkart.com to get website data and when I run on browser it's display this XML. and I am fetching popularity and country rank with this. and it's working fine but I don't have any idea how to fetch all RL tags HREF attributes in array. <code>  <ALEXA VER=""0.9"" URL=""flipkart.com/"" HOME=""0"" AID=""="" IDN=""flipkart.com/""><RLS PREFIX=""http://"" more=""0""><RL HREF=""storewala.com/"" TITLE=""Storewala.com - Indian Retail Store""/><RL HREF=""pdf-search-engine.com/"" TITLE=""Ebook Search - Pdf Search Engine""/><RL HREF=""overnitenet.com/"" TITLE=""-----Overnite-----""/><RL HREF=""nbcindia.com/"" TITLE=""Online Book Stores, India's Largest Bookstore, Nbc India.com""/><RL HREF=""mouthshut.com/"" TITLE=""Mouthshut.com - Consumer Reviews Helping You Decide""/><RL HREF=""landmarkonthenet.com/"" TITLE=""Land Mark""/><RL HREF=""ingrambook.com/"" TITLE=""Ingram Book Group""/><RL HREF=""infibeam.com/"" TITLE=""InfiBeam - Gifts to India | Online Shopping India | Books, Cameras, Watches, Mob""/><RL HREF=""indiaplaza.in/"" TITLE=""Fabmall House""/><RL HREF=""firstflight.net/"" TITLE=""FirstFlight Courier""/></RLS><SD TITLE=""A"" FLAGS="""" HOST=""flipkart.com""><TITLE TEXT=""Flipkart.com""/><OWNER NAME=""Flipkart.com""/></SD><SD><POPULARITY URL=""flipkart.com/"" TEXT=""116"" SOURCE=""panel""/><REACH RANK=""130""/><RANK DELTA=""+5""/><COUNTRY CODE=""IN"" NAME=""India"" RANK=""8""/></SD></ALEXA> $xml = simplexml_load_file('http://data.alexa.com/data?cli=10&dat=snbamz&url=www.flipkart.com');$rank=isset($xml->SD[1]->POPULARITY)?$xml->SD[1]->POPULARITY->attributes()->TEXT:0;$country_rank=isset($xml->SD[1]->COUNTRY)?$xml->SD[1]->COUNTRY->attributes()->RANK:0;",How to fetch competitors record from alexa API to array
Woocommerce: Display Product Variation Description on Cart page, I'm trying to display my product variation description in my Cart. I have tried inserting this code in the cart.php template: By following this documentation https://docs.woocommerce.com/document/template-structure/But it's still not showing up.Not sure what I'm doing wrong here.Can anyone help on this? <code>  if ( $_product->is_type( 'variation' ) ) {echo $_product->get_variation_description();},WooCommerce: Display also product variation description on cart items
Woocommerce: Display Product Variation Description on Cart items, I'm trying to display my product variation description in my Cart. I have tried inserting this code in the cart.php template: By following this documentation https://docs.woocommerce.com/document/template-structure/But it's still not showing up.Not sure what I'm doing wrong here.Can anyone help on this? <code>  if ( $_product->is_type( 'variation' ) ) {echo $_product->get_variation_description();},WooCommerce: Display also product variation description on cart items
converting some values of a json string to an integer in php," I have the following php code: The sample JSON is as follows: I need to make the ""id"" field an integer only and keep ""currency"" as a string so that the JSON becomes this: I tried using: But it also turns ""currency"" to an integer.Is there any way that I can make ""id"" an integer and leave currency as a string. <code>  $data = array('id' => $_POST['id'],'name' => $_POST['name'],'country' => $_POST['country'],'currency' => $_POST['currency'],'description' => $_POST['description']);$data_string = json_encode($data); { ""id"":""7"", ""name"":""Dean"", ""country"":""US"", ""currency"":""840"", ""description"":""Test"" } { ""id"":7, ""name"":""Dean"", ""country"":""US"", ""currency"":""840"", ""description"":""Test"" } $data_string = json_encode($data, JSON_NUMERIC_CHECK);",Converting some values of a json string to an integer in php
Create an openid connect provider with Laravel, What is the best way to get an OpenID Connect client flow going in the PHP Laravel framework? I have looked at socialite but that does not support OpenID Connect. <code> ,How to set up an OpenID Connect client in Laravel?
mark as read a specific notif in laravel 5.3 notification," I know that there are many ways to mark as read all notifications of an User in L5.3 like this: Or: But suppose I want to mark as read a specific notification with a given ID. In fact, I have made a list of unread user notifications like this: As you can see, each a tag has a data-notif-id attribute contain notif ID.Now I want to send this ID to a script via Ajax (on click event) and mark as read that notification only. for that I wrote this: NotifMarkAsRead refers to bellow Controller : How can I do that while there is not any Notification Model? <code>  $user = App\User::find(1);foreach ($user->unreadNotifications as $notification) { $notification->markAsRead();} $user->unreadNotifications->markAsRead(); <ul class=""menu""> @foreach($AuthUser->unreadNotifications as $notif) <li> <a href=""{{$notif->data['action']}}"" data-notif-id=""{{$notif->id}}""> {{$notif->data['message']}} </a> </li> @endforeach</ul> $('a[data-notif-id]').click(function () { var notif_id = $(this).data('notifId'); var targetHref = $(this).data('href'); $.post('/NotifMarkAsRead', {'notif_id': notif_id}, function (data) { data.success ? (window.location.href = targetHref) : false; }, 'json'); return false;}); class NotificationController extends Controller { public function MarkAsRead (Request $request) { //What Do I do Here........ } }",Mark as read a specific notification in Laravel 5.3 Notifications
mark as read a specific notif in laravel 5.3 Notifications," I know that there are many ways to mark as read all notifications of an User in L5.3 like this: Or: But suppose I want to mark as read a specific notification with a given ID. In fact, I have made a list of unread user notifications like this: As you can see, each a tag has a data-notif-id attribute contain notif ID.Now I want to send this ID to a script via Ajax (on click event) and mark as read that notification only. for that I wrote this: NotifMarkAsRead refers to bellow Controller : How can I do that while there is not any Notification Model? <code>  $user = App\User::find(1);foreach ($user->unreadNotifications as $notification) { $notification->markAsRead();} $user->unreadNotifications->markAsRead(); <ul class=""menu""> @foreach($AuthUser->unreadNotifications as $notif) <li> <a href=""{{$notif->data['action']}}"" data-notif-id=""{{$notif->id}}""> {{$notif->data['message']}} </a> </li> @endforeach</ul> $('a[data-notif-id]').click(function () { var notif_id = $(this).data('notifId'); var targetHref = $(this).data('href'); $.post('/NotifMarkAsRead', {'notif_id': notif_id}, function (data) { data.success ? (window.location.href = targetHref) : false; }, 'json'); return false;}); class NotificationController extends Controller { public function MarkAsRead (Request $request) { //What Do I do Here........ } }",Mark as read a specific notification in Laravel 5.3 Notifications
Swiftmailer Attachment error (unable to open file for reading) on symfony2 project," I'm working on a symfony project, and i have a form who have to send a mail with swiftmailer.For the explication -> the user have the possibility to use attachment at optionnal file's upload function with the form. (the form is save in bdd like command, and we have a recap after submit the form, and 3mails that go (the two mail where we don't use attachment work every time, and only the one with atachment option have fail when we have a file to join, otherwise if we just use a commentary (an other field optionnal who work like path, the mail is working)I hope my explainations are clear and comprehensible, my english is not perfect and the function is not too easy. Cause of the confidentiality of some informations i only write here the code who concerned the mailing but if i forget something just tell me and i update the post.When i do a mail without attachment, i haven't any problem it's working, but when i try to join a file, symfony give me this error : Unable to open file for reading [uploads/6M.jpg]I have tried to get a solution on other post in StackOverflow but no one is working. So i'm gonna let you help me i Hope.Command Entity (Ijust have put the code who concerne file , path and upload for the attachment (the rest of the mailer/and code work): Commande Controller (same thing i put only the code about the attachment): This code work for mail without attachment, but if i try to upload on form a file the mail don't go. For information : the file's uploads work and the uploaded file are save in MyApp/web/uploads.CommandeType.php : }Here the part of the form in view who concerned file : I hope every necessary code are here, and that i haven't forget something, if not just said, and i'm gonna to update my post, and add the mising part. Or if i have said something brainless or who is not comprehensible just said me for explanations. I know it's not easy to read x). Thanks you every one for your help.  <code>  use Doctrine\Common\Collections\ArrayCollection;use Doctrine\ORM\Mapping as ORM;use Symfony\Component\Validator\Constraints as Assert;use Symfony\Component\Form\Extension\HttpFoundation;/*** Commandes*/class Commandes{// CUSTOM CODE/** * @var string */public $file3;/** * @var string */protected $path3;public function getAbsolutePath1(){ return null === $this->path1 ? null : $this->getUploadRootDir().'/'.$this->id.'.'.$this->path1;}public function getWebPath1(){ return null === $this->path1 ? null : $this->getUploadDir().'/'.$this->path1;}protected function getUploadRootDir(){ return __DIR__ . '/../../../web/' . $this->getUploadDir();}protected function getUploadDir(){ return 'uploads';}/** * @var string */protected $path1;/** * @Assert\File(maxSize=""60000000"") */public $file1;// CallBack : preUpdate | prePersist \\public function preUpload1(){ if (null !== $this->file1) { $this->path1 = $this->file1->guessExtension(); }}// CallBacks : PostPersist | PostUpdate \\public function upload1(){ if (null === $this->file1) { return; } $this->file1->move($this->getUploadRootDir(), $this->getReferencePatient() . 'M.' . $this->file1->guessExtension()); $this->path1 = $this->getReferencePatient() . 'M.' . $this->file1->getClientOriginalExtension(); $this->file1 = null;}protected $path2;public $file2;// CallBack : preUpdate | prePersist \\public function preUpload2(){ if (null !== $this->file2) { $this->path2 = $this->file2->guessExtension(); }}// CallBacks : PostPersist | PostUpdate \\public function upload2(){ if (null === $this->file2) { return; } $this->file2->move($this->getUploadRootDir(), $this->getReferencePatient() . 'm.' . $this->file2->guessExtension()); $this->path2 = $this->getReferencePatient() . 'm.' . $this->file2->getClientOriginalExtension(); $this->file2 = null;}public function getAbsolutePath2(){ return null === $this->path2 ? null : $this->getUploadRootDir() . '/' . $this->path2;}public function getWebPath2(){ return null === $this->path2 ? null : $this->getUploadDir() . '/' . $this->path2;}// CallBack : preUpdate | prePersist \\public function preUpload3(){ if (null !== $this->file3) { $this->path3 = $this->file3->guessExtension(); }}public function upload3(){ if (null === $this->file3) { return; } $this->file3->move($this->getUploadRootDir(), $this->getReferencePatient() . '.' . $this->file3->guessExtension()); $this->path3 = $this->getReferencePatient() . '.' . $this->file3->getClientOriginalExtension(); $this->file3 = null;}public function getAbsolutePath3(){ return null === $this->path3 ? null : $this->getUploadRootDir() . '/' . $this->path3;}public function getWebPath3(){ return null === $this->path3 ? null : $this->getUploadDir() . '/' . $this->path3;}/** * Set pathPJ1 * * @param string $pathPJ1 * @return Commandes */public function setPathPJ1($pathPJ1){ $this->pathPJ1 = $pathPJ1; return $this;}/** * Get pathPJ1 * * @return string */public function getPathPJ1(){ return $this->pathPJ1;}/** * Set pathPJ2 * * @param string $pathPJ2 * @return Commandes */public function setPathPJ2($pathPJ2){ $this->pathPJ2 = $pathPJ2; return $this;}/** * Get pathPJ2 * * @return string */public function getPathPJ2(){ return $this->pathPJ2;}/** * Set pathPJ3 * * @param string $pathPJ3 * @return Commandes */public function setPathPJ3($pathPJ3){ $this->pathPJ3 = $pathPJ3; return $this;}/** * Get pathPJ3 * * @return string */public function getPathPJ3(){ return $this->pathPJ3;}/** * Set path1 * * @param string $path1 * @return Commandes */public function setPath1($path1){ $this->path1 = $path1; return $this;}/** * Get path1 * * @return string */public function getPath1(){ return $this->path1;}/** * Set path2 * * @param string $path2 * @return Commandes */public function setPath2($path2){ $this->path2 = $path2; return $this;}/** * Get path2 * * @return string */public function getPath2(){ return $this->path2;}/** * Set path3 * * @param string $path3 * @return Commandes */public function setPath3($path3){ $this->path3 = $path3; return $this;}/** * Get path3 * * @return string */public function getPath3(){ return $this->path3;} use Symfony\Component\HttpFoundation\Request;use OrthoBundle\Entity\Compteur;use Symfony\Bundle\FrameworkBundle\Controller\Controller; use OrthoBundle\Entity\Commandes;use OrthoBundle\Form\Type\CommandesType;use Symfony\Component\HttpFoundation\RedirectResponse;use Symfony\Component\HttpFoundation\Session\Session;class FormulaireController extends Controller{ public function createFormulaireAction(Request $request) { $em = $this->getDoctrine()->getManager(); $commande = new Commandes(); $request = $this->get('request'); $user = $this->getUser(); $form = $this->createForm(new CommandesType($user), $commande); if ($form->isValid() && $form->isSubmitted()) { ***""""""""""""SOME CODE THAT I DON'T PUT ABOUT PERSIST FLUSH THE COMMAND IN DB""""""""*** $message = \Swift_Message::newInstance() ->setSubject('Commande n' . $commande->getId()) ->setFrom(array('mymail@example.com' => 'send from')) ->setTo(array('onemail@example.com' => 'destinatory')) ->setCharset('utf-8') ->setContentType('text/html') ->setBody($this->renderView('@Ortho/Mail/mail_impress.html.twig', array( 'parentUser' => $user->getParent(), 'commande' => $commande, ))); if ($commande->getWebPath1() != '') { $message->attach(\Swift_Attachment::fromPath($commande->getWebPath1())); } if ($commande->getWebPath2() != '') { $message->attach(\Swift_Attachment::fromPath($commande->getWebPath2())); } if ($commande->getWebPath3() != '') { $message->attach(\Swift_Attachment::fromPath($commande->getWebPath3())); } if ($commande->getWebPath1() != '' or $commande->getWebPath2() != '' or $commande->getWebPath3() != '' or $commande->getCommentaire() != '') { $this->get('mailer')->send($message); } <?phpnamespace MyBundle\Form\Type;use MyBundle\Entity\Utilisateurs;use Symfony\Bridge\Doctrine\Form\Type\EntityType;use Symfony\Component\Form\AbstractType;use Symfony\Component\Form\Extension\Core\Type\DateType;use Symfony\Component\Form\Extension\Core\Type\FileType;use Symfony\Component\Form\Extension\Core\Type\TextareaType;use Symfony\Component\Form\Extension\Core\Type\TextType;use Symfony\Component\Form\FormBuilderInterface;use Symfony\Component\OptionsResolver\OptionsResolver;use Doctrine\ORM\EntityRepository;class CommandesType extends AbstractType{private $user;public function __construct(Utilisateurs $utilisateurs){ $this->user = $utilisateurs;}/** * @param FormBuilderInterface $builder * @param array $options */public function buildForm(FormBuilderInterface $builder, array $options){ $builder ->add('commentaireLabo', TextareaType::class, array( 'attr' => array( 'placeholder' => 'Select a product' ), )) ->add('file1', FileType::class, array( 'required' => false )) ->add('file2', FileType::class, array( 'required' => false )) ->add('file3', FileType::class, array( 'required' => false )) ->add('commentairePrestataire', TextareaType::class, array( 'required' => false ));}/** * @param OptionsResolver $resolver */public function configureOptions(OptionsResolver $resolver){ $resolver->setDefaults(array( 'data_class' => 'MyBundle\Entity\Commandes' ));} <fieldset class=""smallbloc""> <!-- Bloc n3 : Les pices jointes --> <h2 class=""fs-title"">Pices jointes complmentaires</h2> <h3 class=""fs-subtitle"">Toutes les pices jointes apporter la commande.</h3> {{ form_label(form.file1, ""Arcade Maxilaire :"") }} {{ form_errors(form.file1) }} {{ form_widget(form.file1) }} {{ form_label(form.file2, ""Arcade Mandibulaire :"") }} {{ form_errors(form.file2) }} {{ form_widget(form.file2) }} {{ form_label(form.file3, ""Autre pices jointe :"") }} {{ form_errors(form.file3) }} {{ form_widget(form.file3) }} {{ form_label(form.commentairePrestataire3D, ""Commentaires pour le prestataire 3D :"") }} {{ form_errors(form.commentairePrestataire3D) }} {{ form_widget(form.commentairePrestataire3D) }} <input type=""hidden"" id=""monthstat"" name=""monthstat"" value=""{{ ""now""|date(""m-Y"") }}""> <input type=""button"" name=""previous"" class=""previous action-button"" value=""Prcdent""/> <input type=""submit"" name=""previous"" class=""action-button"" value=""ENVOYER""/> {{ form_rest(form) }}</fieldset>",Swiftmailer Attachment error (unable to open file for reading) on symfony2 project
(SOLVED) Swiftmailer Attachment error (unable to open file for reading) on symfony2 project," I'm working on a symfony project, and i have a form who have to send a mail with swiftmailer.For the explication -> the user have the possibility to use attachment at optionnal file's upload function with the form. (the form is save in bdd like command, and we have a recap after submit the form, and 3mails that go (the two mail where we don't use attachment work every time, and only the one with atachment option have fail when we have a file to join, otherwise if we just use a commentary (an other field optionnal who work like path, the mail is working)I hope my explainations are clear and comprehensible, my english is not perfect and the function is not too easy. Cause of the confidentiality of some informations i only write here the code who concerned the mailing but if i forget something just tell me and i update the post.When i do a mail without attachment, i haven't any problem it's working, but when i try to join a file, symfony give me this error : Unable to open file for reading [uploads/6M.jpg]I have tried to get a solution on other post in StackOverflow but no one is working. So i'm gonna let you help me i Hope.Command Entity (Ijust have put the code who concerne file , path and upload for the attachment (the rest of the mailer/and code work): Commande Controller (same thing i put only the code about the attachment): This code work for mail without attachment, but if i try to upload on form a file the mail don't go. For information : the file's uploads work and the uploaded file are save in MyApp/web/uploads.CommandeType.php : }Here the part of the form in view who concerned file : I hope every necessary code are here, and that i haven't forget something, if not just said, and i'm gonna to update my post, and add the mising part. Or if i have said something brainless or who is not comprehensible just said me for explanations. I know it's not easy to read x). Thanks you every one for your help.  <code>  use Doctrine\Common\Collections\ArrayCollection;use Doctrine\ORM\Mapping as ORM;use Symfony\Component\Validator\Constraints as Assert;use Symfony\Component\Form\Extension\HttpFoundation;/*** Commandes*/class Commandes{// CUSTOM CODE/** * @var string */public $file3;/** * @var string */protected $path3;public function getAbsolutePath1(){ return null === $this->path1 ? null : $this->getUploadRootDir().'/'.$this->id.'.'.$this->path1;}public function getWebPath1(){ return null === $this->path1 ? null : $this->getUploadDir().'/'.$this->path1;}protected function getUploadRootDir(){ return __DIR__ . '/../../../web/' . $this->getUploadDir();}protected function getUploadDir(){ return 'uploads';}/** * @var string */protected $path1;/** * @Assert\File(maxSize=""60000000"") */public $file1;// CallBack : preUpdate | prePersist \\public function preUpload1(){ if (null !== $this->file1) { $this->path1 = $this->file1->guessExtension(); }}// CallBacks : PostPersist | PostUpdate \\public function upload1(){ if (null === $this->file1) { return; } $this->file1->move($this->getUploadRootDir(), $this->getReferencePatient() . 'M.' . $this->file1->guessExtension()); $this->path1 = $this->getReferencePatient() . 'M.' . $this->file1->getClientOriginalExtension(); $this->file1 = null;}protected $path2;public $file2;// CallBack : preUpdate | prePersist \\public function preUpload2(){ if (null !== $this->file2) { $this->path2 = $this->file2->guessExtension(); }}// CallBacks : PostPersist | PostUpdate \\public function upload2(){ if (null === $this->file2) { return; } $this->file2->move($this->getUploadRootDir(), $this->getReferencePatient() . 'm.' . $this->file2->guessExtension()); $this->path2 = $this->getReferencePatient() . 'm.' . $this->file2->getClientOriginalExtension(); $this->file2 = null;}public function getAbsolutePath2(){ return null === $this->path2 ? null : $this->getUploadRootDir() . '/' . $this->path2;}public function getWebPath2(){ return null === $this->path2 ? null : $this->getUploadDir() . '/' . $this->path2;}// CallBack : preUpdate | prePersist \\public function preUpload3(){ if (null !== $this->file3) { $this->path3 = $this->file3->guessExtension(); }}public function upload3(){ if (null === $this->file3) { return; } $this->file3->move($this->getUploadRootDir(), $this->getReferencePatient() . '.' . $this->file3->guessExtension()); $this->path3 = $this->getReferencePatient() . '.' . $this->file3->getClientOriginalExtension(); $this->file3 = null;}public function getAbsolutePath3(){ return null === $this->path3 ? null : $this->getUploadRootDir() . '/' . $this->path3;}public function getWebPath3(){ return null === $this->path3 ? null : $this->getUploadDir() . '/' . $this->path3;}/** * Set pathPJ1 * * @param string $pathPJ1 * @return Commandes */public function setPathPJ1($pathPJ1){ $this->pathPJ1 = $pathPJ1; return $this;}/** * Get pathPJ1 * * @return string */public function getPathPJ1(){ return $this->pathPJ1;}/** * Set pathPJ2 * * @param string $pathPJ2 * @return Commandes */public function setPathPJ2($pathPJ2){ $this->pathPJ2 = $pathPJ2; return $this;}/** * Get pathPJ2 * * @return string */public function getPathPJ2(){ return $this->pathPJ2;}/** * Set pathPJ3 * * @param string $pathPJ3 * @return Commandes */public function setPathPJ3($pathPJ3){ $this->pathPJ3 = $pathPJ3; return $this;}/** * Get pathPJ3 * * @return string */public function getPathPJ3(){ return $this->pathPJ3;}/** * Set path1 * * @param string $path1 * @return Commandes */public function setPath1($path1){ $this->path1 = $path1; return $this;}/** * Get path1 * * @return string */public function getPath1(){ return $this->path1;}/** * Set path2 * * @param string $path2 * @return Commandes */public function setPath2($path2){ $this->path2 = $path2; return $this;}/** * Get path2 * * @return string */public function getPath2(){ return $this->path2;}/** * Set path3 * * @param string $path3 * @return Commandes */public function setPath3($path3){ $this->path3 = $path3; return $this;}/** * Get path3 * * @return string */public function getPath3(){ return $this->path3;} use Symfony\Component\HttpFoundation\Request;use OrthoBundle\Entity\Compteur;use Symfony\Bundle\FrameworkBundle\Controller\Controller; use OrthoBundle\Entity\Commandes;use OrthoBundle\Form\Type\CommandesType;use Symfony\Component\HttpFoundation\RedirectResponse;use Symfony\Component\HttpFoundation\Session\Session;class FormulaireController extends Controller{ public function createFormulaireAction(Request $request) { $em = $this->getDoctrine()->getManager(); $commande = new Commandes(); $request = $this->get('request'); $user = $this->getUser(); $form = $this->createForm(new CommandesType($user), $commande); if ($form->isValid() && $form->isSubmitted()) { ***""""""""""""SOME CODE THAT I DON'T PUT ABOUT PERSIST FLUSH THE COMMAND IN DB""""""""*** $message = \Swift_Message::newInstance() ->setSubject('Commande n' . $commande->getId()) ->setFrom(array('mymail@example.com' => 'send from')) ->setTo(array('onemail@example.com' => 'destinatory')) ->setCharset('utf-8') ->setContentType('text/html') ->setBody($this->renderView('@Ortho/Mail/mail_impress.html.twig', array( 'parentUser' => $user->getParent(), 'commande' => $commande, ))); if ($commande->getWebPath1() != '') { $message->attach(\Swift_Attachment::fromPath($commande->getWebPath1())); } if ($commande->getWebPath2() != '') { $message->attach(\Swift_Attachment::fromPath($commande->getWebPath2())); } if ($commande->getWebPath3() != '') { $message->attach(\Swift_Attachment::fromPath($commande->getWebPath3())); } if ($commande->getWebPath1() != '' or $commande->getWebPath2() != '' or $commande->getWebPath3() != '' or $commande->getCommentaire() != '') { $this->get('mailer')->send($message); } <?phpnamespace MyBundle\Form\Type;use MyBundle\Entity\Utilisateurs;use Symfony\Bridge\Doctrine\Form\Type\EntityType;use Symfony\Component\Form\AbstractType;use Symfony\Component\Form\Extension\Core\Type\DateType;use Symfony\Component\Form\Extension\Core\Type\FileType;use Symfony\Component\Form\Extension\Core\Type\TextareaType;use Symfony\Component\Form\Extension\Core\Type\TextType;use Symfony\Component\Form\FormBuilderInterface;use Symfony\Component\OptionsResolver\OptionsResolver;use Doctrine\ORM\EntityRepository;class CommandesType extends AbstractType{private $user;public function __construct(Utilisateurs $utilisateurs){ $this->user = $utilisateurs;}/** * @param FormBuilderInterface $builder * @param array $options */public function buildForm(FormBuilderInterface $builder, array $options){ $builder ->add('commentaireLabo', TextareaType::class, array( 'attr' => array( 'placeholder' => 'Select a product' ), )) ->add('file1', FileType::class, array( 'required' => false )) ->add('file2', FileType::class, array( 'required' => false )) ->add('file3', FileType::class, array( 'required' => false )) ->add('commentairePrestataire', TextareaType::class, array( 'required' => false ));}/** * @param OptionsResolver $resolver */public function configureOptions(OptionsResolver $resolver){ $resolver->setDefaults(array( 'data_class' => 'MyBundle\Entity\Commandes' ));} <fieldset class=""smallbloc""> <!-- Bloc n3 : Les pices jointes --> <h2 class=""fs-title"">Pices jointes complmentaires</h2> <h3 class=""fs-subtitle"">Toutes les pices jointes apporter la commande.</h3> {{ form_label(form.file1, ""Arcade Maxilaire :"") }} {{ form_errors(form.file1) }} {{ form_widget(form.file1) }} {{ form_label(form.file2, ""Arcade Mandibulaire :"") }} {{ form_errors(form.file2) }} {{ form_widget(form.file2) }} {{ form_label(form.file3, ""Autre pices jointe :"") }} {{ form_errors(form.file3) }} {{ form_widget(form.file3) }} {{ form_label(form.commentairePrestataire3D, ""Commentaires pour le prestataire 3D :"") }} {{ form_errors(form.commentairePrestataire3D) }} {{ form_widget(form.commentairePrestataire3D) }} <input type=""hidden"" id=""monthstat"" name=""monthstat"" value=""{{ ""now""|date(""m-Y"") }}""> <input type=""button"" name=""previous"" class=""previous action-button"" value=""Prcdent""/> <input type=""submit"" name=""previous"" class=""action-button"" value=""ENVOYER""/> {{ form_rest(form) }}</fieldset>",Swiftmailer Attachment error (unable to open file for reading) on symfony2 project
Laravel: How can i change the default Auth Password field name," I am currently working on my first laravel project and I am facing a problem.If you have experience with laravel you probably know that by calling php artisan make:auth you will get a predefined mechanism that handles login and registration.This mechanism is set to understand a couple of commonly used words in order to automate the whole procedure.The problem that occurs in my case is that I am using oracle db and it won't let me have a table column with the name of password because its a system keyword and it throws errors when trying to insert a user.So far, I have tried to change my password column to passwd and it worked in my registration form as expected. The User row was successfully inserted and my page was redirected to /home.But when I try to logout and then relogin, I get this error telling me that my credentials are not correct:As for my code, I have changed my RegisterController.php so that it takes username instead of email The User $fillable I am guessing that Auth is trying to authenticate with email and not username or that Auth is searching for password and not passwd. <code>  protected function validator(array $data){ return Validator::make($data, [ 'username' => 'required|max:50|unique:ECON_USERS', 'passwd' => 'required|min:6|confirmed', ]);}protected function create(array $data){ return User::create([ 'username' => $data['username'], 'passwd' => bcrypt($data['passwd']) ]);} protected $fillable = [ 'username', 'passwd'];",Laravel: How can I change the default Auth Password field name?
LARAVEL VALIDATION ALLOW IMAGE OR PDF," I have a file input in Laravel and I would like it to only allow images or pdf. How do I do this in controller validation? <code>  $validator = Validator::make($request->all(), [ 'image' => 'image',]);",Laravel validation allow image or pdf
dropbox api v2 php upload file issue," I am trying to upload a file using Dropbox API v2.Unfortunately there is no PHP library for Dropbox API v2.https://www.dropbox.com/developers/documentation/http/documentation#files-uploadThis is my code: It creates test.txt but 0 bytes.When I check the code it reads 0 byte.And this is output of code execution: <code>  $token = 'sometoken'; // oauth token$headers = array(""Authorization: Bearer "". $token, 'Dropbox-API-Arg: {""path"": ""/test.txt"",""mode"": ""add"",""autorename"": true,""mute"":false}', ""Content-Type: application/octet-stream"");$url = 'https://content.dropboxapi.com/2/files/upload';$ch = curl_init($url);curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);curl_setopt($ch, CURLOPT_POST, true);$path = './google/file.json';$fp = fopen($path, 'rb');curl_setopt($ch, CURLOPT_INFILE, $fp);curl_setopt($ch, CURLOPT_INFILESIZE, filesize($path));curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);//curl_setopt($ch, CURLOPT_POSTFIELDS, $post_data);curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);curl_setopt($ch, CURLOPT_VERBOSE, 1);$response = curl_exec($ch);$http_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);echo($response.'<br/>');echo($http_code.'<br/>');curl_close($ch);echo $response; * Trying 45.58.74.164...* Connected to content.dropboxapi.com (45.58.74.164) port 443 (#0)* Cipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH* successfully set certificate verify locations:* CAfile: C:\xampp\php\extras\ssl\cacert.pem CApath: none* NPN, negotiated HTTP1.1* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384* Server certificate:* subject: OU=Domain Control Validated; CN=dl.dropboxusercontent.com* start date: Jul 9 01:10:38 2016 GMT* expire date: May 7 20:27:38 2017 GMT* subjectAltName: host ""content.dropboxapi.com"" matched cert's ""content.dropboxapi.com""* issuer: C=US; ST=Arizona; L=Scottsdale; O=GoDaddy.com, Inc.; OU=http://certs.godaddy.com/repository/; CN=Go Daddy Secure Certificate Authority - G2* SSL certificate verify ok.> POST /2/files/upload HTTP/1.1Host: content.dropboxapi.comAccept: */*Authorization: Bearer sometokenDropbox-API-Arg: {""path"": ""/test.txt"",""mode"": ""add"",""autorename"": true,""mute"":false}Content-Type: application/octet-streamExpect: 100-continue< HTTP/1.1 100 Continue< HTTP/1.1 200 OK< Server: nginx< Date: Thu, 15 Sep 2016 13:37:16 GMT< Content-Type: application/json< Transfer-Encoding: chunked< Connection: keep-alive< pragma: no-cache< cache-control: no-cache< X-Server-Response-Time: 461< X-Dropbox-Request-Id: 7b0003052a45a92fac0e7afca80f4f4c< X-Robots-Tag: noindex, nofollow, noimageindex<* Connection #0 to host content.dropboxapi.com left intact{""name"": ""test.txt"", ""path_lower"": ""/test.txt"", ""path_display"": ""/test.txt"", ""id"": ""id:L2W5zzeox5IAAAAAAAAjvg"", ""client_modified"": ""2016-09-15T13:37:16Z"", ""server_modified"": ""2016-09-15T13:37:16Z"", ""rev"": ""ee6e21bf2e5c"", ""size"": 0}<br/>200<br/>{""name"": ""test.txt"", ""path_lower"": ""/test.txt"", ""path_display"": ""/test.txt"", ""id"": ""id:L2W5zzeox5IAAAAAAAAjvg"", ""client_modified"": ""2016-09-15T13:37:16Z"", ""server_modified"": ""2016-09-15T13:37:16Z"", ""rev"": ""ee6e21bf2e5c"", ""size"": 0}",Dropbox API v2 PHP upload file issue
how to loop through JSON object values in PHP," I have a JSON Object and I want to loop through the values: I want the $i to display the abcde that are the values in the object. <code>  $json = '{""1"":a,""2"":b,""3"":c,""4"":d,""5"":e}';$obj = json_decode($json, TRUE);for($i=0; $i<count($obj['a']); $i++) { echo $i;}",How to loop through JSON object values in PHP?
Open CSV file in browser instead of being downloaded," Just wondering if there is a way to open the csv file in the browser instead of being downloaded?My code: <code>  <a href=""Myfile.csv"">Open</a>",Open CSV file in browser instead of being downloaded HTML
"How to remove woocommerce_email_order_meta information, from woocommerce email template?"," I am working on a theme created for woocommerce, built by some other German developer. I have created my child theme and using child theme's functions.php to make changes to functionality of the website.When a customer orders a product, he receives an email with order table, customer information and billing address and customer shipping. I want to remove everything below the table and add my own text (customer info + billing, shipping and pick up address as well).I have added my own text right below the order table in email that goes to customer, however I am unable to delete the information that shows by default below my custom added text. I found the hook responsible for fetching and showing that data is woocommerce_email_order_meta, but I don't know how to remove it or prevent it from executing. I don't want to make changes in the template files, I want to do it all by hooks.So far I have tried doing it like this: I followed the link: Delete order info section from email template in woocommerce and tried the following code as well, but didn't work. How can I achieve this? <code>  remove_action( 'woocommerce_email_order_meta', $order, $sent_to_admin, $plain_text, $email ); function so_39251827_remove_order_details( $order, $sent_to_admin, $plain_text, $email ){ $mailer = WC()->mailer(); // get the instance of the WC_Emails class remove_action( 'woocommerce_email_order_details', array( $mailer, 'order_details' ), 10, 4 );}add_action( 'woocommerce_email_order_details', 'so_39251827_remove_order_details', 5, 4 );",Removing customer details and addresses from email notification templates
Removing costumer details and adresses from email notification templates," I am working on a theme created for woocommerce, built by some other German developer. I have created my child theme and using child theme's functions.php to make changes to functionality of the website.When a customer orders a product, he receives an email with order table, customer information and billing address and customer shipping. I want to remove everything below the table and add my own text (customer info + billing, shipping and pick up address as well).I have added my own text right below the order table in email that goes to customer, however I am unable to delete the information that shows by default below my custom added text. I found the hook responsible for fetching and showing that data is woocommerce_email_order_meta, but I don't know how to remove it or prevent it from executing. I don't want to make changes in the template files, I want to do it all by hooks.So far I have tried doing it like this: I followed the link: Delete order info section from email template in woocommerce and tried the following code as well, but didn't work. How can I achieve this? <code>  remove_action( 'woocommerce_email_order_meta', $order, $sent_to_admin, $plain_text, $email ); function so_39251827_remove_order_details( $order, $sent_to_admin, $plain_text, $email ){ $mailer = WC()->mailer(); // get the instance of the WC_Emails class remove_action( 'woocommerce_email_order_details', array( $mailer, 'order_details' ), 10, 4 );}add_action( 'woocommerce_email_order_details', 'so_39251827_remove_order_details', 5, 4 );",Removing customer details and addresses from email notification templates
How to global an object inside a method closure property," I currently have a dependency injection module which allows me to create a factory of objects: I then have an event object which stores a method closure and the session that will trigger the event. I then have a listener object which searches the sessions set and triggers the event associated with that object. This is an example of this being executed The issue is when I try to access my global $di inside a closure, I have googled this numerous times but cannot find a solution. <code>  class DiModule{ private $Callbacks; public function set( $foo, $bar ) { $this->Callbacks[$foo] = $bar; } public function get( $foo ) { return $this->Callbacks[$foo]; }} class Event{ private $Sesh; private $Method; public function set( $sesh = array(), $method ) { $this->Sesh = $sesh; $this->Method = $method; } public function get( ) { return [$this->Sesh,$this->Method]; }} class Listener{ private $Sesh; public function setSesh( $foo ) { $this->Sesh = $foo; } private $Event; public function set( $foo, Event $event ) { $this->Event[$foo] = $event; } public function dispatch( $foo ) { $state = true; if(isset($this->Event[$foo])) { foreach($this->Event[$foo]->get()[0] as $sesh) { if(!isset($this->Sesh[$sesh]) || empty($this->Sesh[$sesh])) { $state = false; } } } return ($state) ? [true, $this->Event[$foo]->get()[1]()] : [false, ""Event was not triggered.""]; }} $di = new DiModule();$di->set('L', new Listener());$di->set('E', new Event());$di->get('E')->set(['misc'], function () { global $di; return $di; });$di->get('L')->setSesh(array('misc' => 'active')); // not actual sessions yet$di->get('L')->set('example', $di->get('E'));var_dump($di->get('L')->dispatch('example'));",How to access a global object inside a method closure
Woocommerce hook the transition to cart," I am looking for the right hook in WooCommerce because I need to add a promotional product to the cart when a certain cart amount of is reached, such as 100 conventional units.I have also used the hook 'init' but I do not think it's right.Here is my code: which hook I should use for that purpose?Or could you give me a related link to to some similar problem?Thanks <code>  function add_free_product_to_cart(){ global $woocommerce; $product_id = 2006; $found = false; if ( sizeof( $woocommerce->cart->get_cart() ) > 0 ) { foreach ( $woocommerce->cart->get_cart() as $cart_item_key => $values ) { $_product = $values['data']; if ( $_product->id == $product_id ) $found = true; } if(!$found) { $maximum = 100; $current = WC()->cart->subtotal; if($current > $maximum){ $woocommerce->cart->add_to_cart( $product_id ); } } } }add_action( 'woocommerce_add_to_cart', 'add_free_product_to_cart' );",Adding a promotional product when a certain cart amount is reached
Is it efficient for all PHP pages to load the same header and footer?," I'll summarise. Please correct me wherever I was not able to phrase my question correctly.I have a few PHP pages, all of them have the following format: header.php footer.php I am new to PHP and not sure if this is the correct way to efficiently structure my PHP files because my concerns are:Each PHP page now loads the same navigation menu and footer. This is intended and is ok. However, it also loads ALL CSS and JS together, even when there are lots of lines of CSS and JS where it is not actually useful in that specific page BUT used in other pages. Is this a need for concern and if yes what ways should we go about doing this?Should I separate my main.js, style.css, header.php and footer.php so that each PHP page loads the minimum amount needed for the body functions?What is the standard practice when dealing with this case?Would appreciate it if you can give some advice! <code>  <?phpinclude ""header.php"";?>INSERT PAGE SPECIFIC MATERIAL HERE<?phpinclude ""footer.php"" ?> <!DOCTYPE html><html><head> <meta charset=""utf-8""> <!-- Main CSS --> <link href=""css/style.css"" rel=""stylesheet"" type=""text/css""></head><body> <navmenu></navmenu> <footer></footer> <!-- jQuery --> <script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js""></script> <!-- Theme JavaScript --> <script src=""js/main.js""></script></body></html>","All PHP pages include the entire set of CSS and JS, efficient?"
Is it efficient for all of your PHP pages to include the same CSS and JS?," I'll summarise. Please correct me wherever I was not able to phrase my question correctly.I have a few PHP pages, all of them have the following format: header.php footer.php I am new to PHP and not sure if this is the correct way to efficiently structure my PHP files because my concerns are:Each PHP page now loads the same navigation menu and footer. This is intended and is ok. However, it also loads ALL CSS and JS together, even when there are lots of lines of CSS and JS where it is not actually useful in that specific page BUT used in other pages. Is this a need for concern and if yes what ways should we go about doing this?Should I separate my main.js, style.css, header.php and footer.php so that each PHP page loads the minimum amount needed for the body functions?What is the standard practice when dealing with this case?Would appreciate it if you can give some advice! <code>  <?phpinclude ""header.php"";?>INSERT PAGE SPECIFIC MATERIAL HERE<?phpinclude ""footer.php"" ?> <!DOCTYPE html><html><head> <meta charset=""utf-8""> <!-- Main CSS --> <link href=""css/style.css"" rel=""stylesheet"" type=""text/css""></head><body> <navmenu></navmenu> <footer></footer> <!-- jQuery --> <script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js""></script> <!-- Theme JavaScript --> <script src=""js/main.js""></script></body></html>","All PHP pages include the entire set of CSS and JS, efficient?"
Is it efficient for all of your PHP pages to include the same entire set of CSS and JS?," I'll summarise. Please correct me wherever I was not able to phrase my question correctly.I have a few PHP pages, all of them have the following format: header.php footer.php I am new to PHP and not sure if this is the correct way to efficiently structure my PHP files because my concerns are:Each PHP page now loads the same navigation menu and footer. This is intended and is ok. However, it also loads ALL CSS and JS together, even when there are lots of lines of CSS and JS where it is not actually useful in that specific page BUT used in other pages. Is this a need for concern and if yes what ways should we go about doing this?Should I separate my main.js, style.css, header.php and footer.php so that each PHP page loads the minimum amount needed for the body functions?What is the standard practice when dealing with this case?Would appreciate it if you can give some advice! <code>  <?phpinclude ""header.php"";?>INSERT PAGE SPECIFIC MATERIAL HERE<?phpinclude ""footer.php"" ?> <!DOCTYPE html><html><head> <meta charset=""utf-8""> <!-- Main CSS --> <link href=""css/style.css"" rel=""stylesheet"" type=""text/css""></head><body> <navmenu></navmenu> <footer></footer> <!-- jQuery --> <script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js""></script> <!-- Theme JavaScript --> <script src=""js/main.js""></script></body></html>","All PHP pages include the entire set of CSS and JS, efficient?"
Make PHPStorm stop automatically closing tabs, In PhpStorm once you open several tabs they start disappearing automatically. How to turn that setting off?Don't see a setting for this anywhere. <code> ,Make PhpStorm stop automatically closing tabs
setcookie creates but dont allow login," I am having a bit of trouble. i am working on a small cms. When i login everything is fine. but if i sit there the session seems to require me to login again after 3 minutes maybe. so I tried to implement a remember me feature. and have no luck with it either. it also still require me to login.in my functions I have the following code snip. Then i created another function that if the page requires login and your not logged in. it will redirect. now on all the pages that require loggin i have this in the header of the page. and this is my post data for the login page. and finally my login. everything works with no error. login and logout are fine.. The issue is that once they login the default session dies in about a 4 minutes if they are not clicking links. and the remember me function wont work.. I read some where that a default session should last about 30 minutes. but the session requires login after 4 minutes of not moving through the site.Someone mentioned to me about Garbage Collection but I have to admit I am totally lost on it.I am still fairly new to php and I want to learn the correct way not the incorrect way. my project works great i just cannot keep a user logged in or get the remember me to function. <code>  function logged_in(){ if(isset($_SESSION['email']) || isset($_COOKIE['email'])){ return true; } else { return false; }} function require_loggin(){ if (logged_in()) {} else { redirect(ROOT_URI); }} <?php require_loggin(); ?> $email = clean($_POST['email']);$password = clean($_POST['password']);$remember = isset($_POST['remember']); function login_user($email, $password, $remember){ $active = 1; $connection = dbconnect(); $stmt = $connection->prepare('SELECT user_pwd, user_email, uid, username FROM users WHERE user_email = ? AND active= ?'); $stmt->bind_param('ss', $email, $active); $stmt->execute(); $result = $stmt->get_result(); if ($result->num_rows == 1) { $row = $result->fetch_array(); $db_password = $row['user_pwd']; if (password_verify($password, $db_password)) { if($remember == ""on"") { setcookie('email', $email, time() + 86400); } $_SESSION['uid'] = $row['uid']; $_SESSION['email'] = $row['user_email']; $_SESSION['username'] = $row['username']; return true; } else { return false; } return true; } else { return false; }}",Can not keep user logged in with cookie or session
Laravel returning a blank page on only certain routes," I'm having an issue where a route is returning a blank page. I am using Homestead as my dev environment and I'm unsure how to debug.The /storage/logs/laravel ... isn't returning any exceptions when I visit the white page.web.php (where it's failing): Controller.php: Yet when I visit /clinic/register I am shown a blank white page. How can I see why it's failing? Surely a white page will return an exception somewhere? <code>  Route::get('/clinic/register', 'ClinicController@register'); public function register(){ return view('clinic.register', ['specialisms' => Specialism::pluck('specialism', 'id')]);}",Laravel returning a blank page only on certain routes
Wich fcm registration id has failed when targeted for multiple registration_ids," I'm sending notifications to several registration ids from server side in php.This is the request: The registration_ids variable has two registration ids in an array, one of them is from an old installation of the client app and the other is the current one.I'm getting this response from fcm: How can I know which of the registration ids has failed?Is there another option to get this info? <code>  public function androidPushNotification($registration_ids, $title, $message) { $msg = array ( 'message' => $message, 'title' => $title ); $fields = array ( 'registration_ids' => $registration_ids, 'data' => $msg ); $headers = array ( 'Authorization: key=' . $this->API_ACCESS_KEY, 'Content-Type: application/json' ); $ch = curl_init (); curl_setopt ( $ch, CURLOPT_URL, $this->GCM_URL ); curl_setopt ( $ch, CURLOPT_POST, true ); curl_setopt ( $ch, CURLOPT_HTTPHEADER, $headers ); curl_setopt ( $ch, CURLOPT_RETURNTRANSFER, true ); curl_setopt ( $ch, CURLOPT_SSL_VERIFYPEER, false ); curl_setopt ( $ch, CURLOPT_POSTFIELDS, json_encode ( $fields ) ); $result = curl_exec ( $ch ); curl_close ( $ch ); return $result;} { ""multicast_id"": 7860323906688398625, ""success"": 1, ""failure"": 1, ""canonical_ids"": 0, ""results"": [ { ""error"": ""NotRegistered"" }, { ""message_id"": ""0:1478735313889582%1b153de0f9fd7ecd"" } ]}",Which fcm registration id has failed when targeted for multiple registration_ids
"Laravel Passport ""auth:api"" middleware always redirects to /login"," I have set up the Laravel Passport package for Laravel 5.3 just as described in the official documentation (https://laravel.com/docs/5.3/passport#introduction).I want the API to be consumed by a mobile application, so I am trying to implement Password Grant Tokens. I have created a password grant client, and the token request process... ...Just works as expected, returning an access-token and a refresh-token for one of my users.On the one hand, Lists correct middleware for api/user URI: api,auth:apiAnd driver for api guard is correctly set to passport in config/auth.php.Summing up, every step of the installation process has been done (https://laravel.com/docs/5.3/passport#installation).Defaults contents of api.php: The problem comes when I access to http://my-app.com/api/user, because it seems it is authenticating the request using the 'web' middleware, not the 'api'...When I access, I am redirected to /login (login form) if the user was not logged in, and to /home if it was...Any help would be really appreciated.Thanks in advance. <code>  $response = $http->post('http://my-app.com/oauth/token', [ 'form_params' => [ 'grant_type' => 'password', 'client_id' => 'client-id', 'client_secret' => 'client-secret', 'username' => 'my@email.com', 'password' => 'my-password', 'scope' => '', ],]); php artisan route:list Route::get('/user', function (Request $request) { return $request->user();})->middleware('auth:api');","Laravel Passport ""auth:api"" middleware acts as ""web, auth"" middleware"
Difference between use & include in Twig," What is the difference between use and include in Twig?Documentation: include The include statement includes a template and returns the rendered content of that template into the current one: use The use statement tells Twig to import the blocks defined in blocks.html into the current template (it's like macros, but for blocks): blocks.html main.html Possible answer:I think this should explain the difference: include is to get all the code from an external file and import it into your actual file at the right location of the call. use is completely different as it parses the linked file to find a particular section of code and then overwrites the blocks with the same name, in your current file, with the one found in this external file. include is like ""go find this file and render it with my page here"". use is ""parse this other file to find block definitions to use instead of my owns defined here"". If use command finds nothing matching the task, nothing is displayed at all from this file.Questionis the explanation correct? are there any other explanations to this difference? <code>  {% include 'header.html' %}Body here...{% include 'footer.html' %} {% block sidebar %}{% endblock %} {% extends ""base.html"" %}{% use ""blocks.html"" %}{% block title %}{% endblock %}{% block content %}{% endblock %}","Difference between Include, Extends, Use, Macro, Embed in Twig"
Send a Xml file created using DOMDocumet through ftp in php," I upload XML file through FTP: I want to send the XML file created using DOMDocument to a FTP server but I am not able.The ftp_put returns false. <code>  $ftp = ""ftp"";$username = ""username"";$pwd = ""password"";$filename = $_FILES[$xyz][$abc];$tmp = $_FILES['file']['tmp_name'];$destination = ""/Content/EnquiryXML "";$connect = ftp_connect($ftp)or die(""Unable to connect to host"");ftp_login($connect,$username,$pwd)or die(""Authorization Failed"");echo ""Connected!<br/>""; if(!$filename){ echo""Please select a file"";}else{ ftp_put($connect,$destination.'/'.$filename,$tmp,FTP_ASCII)or die(""Unable to upload""); echo""File successfully uploaded to FTP"";}",PHP ftp_put fails
What is Facebook app canvas and page tab in PHP SDK v5?," I have spent a lot of time reading FB dev docs and tutorials but I am still very confused with what canvas app and page tab are and how to use them.What I am expecting from using FB SDK in my site is to have ""continue with facebook"" button on login screen , have a couple of share and like buttons and send notifications to facebook if user have allowed that. My site has internal messaging system and I want to notify users that new message or activity has happened in my site. In this way users would not have to check my site every day for activity which is important user experience as I expect rare activity(approx. few activities per week).I have everything running but after user clicks on notification he is taken to canvas app. FB docs and tutorials focuses on code examples but I have not found anywhere description on what canvas app really is. Without this fundamental understanding I can not complete my notification logic, can not understand the terms involved like ""secure canvas url"" and basically does not feel confident about user experience(which I would want to make as great as possible).If I google ""what is facebook canvas app"" I get ""Canvas is an immersive and expressive experience on Facebook for businesses to tell their stories and showcase their products."". Apparently from comment below thats something else...I would appreacite If someone could explain in plain word and maybe example what is canvas app and how should I use if taking into account that my main goal is to notify users about acitivity in my site to their fb account. I am using CI framework PHP SDK v5. <code> ",What is Facebook app canvas and page tab?
how to install all required php extenions for Laravel?," I need to make my Ubuntu 16.04. Is there a way using the GUI or is the simplest way to do this by using terminal?I have already installed PHP 7.1, MariaDB.I need to enable:OpenSSL PHP ExtensionPDO PHP ExtensionMbstring PHP ExtensionTokenizer PHP ExtensionXML PHP Extension <code> ",How to install all required PHP extensions for Laravel?
How to install all required PHP extenions for Laravel?," I need to make my Ubuntu 16.04. Is there a way using the GUI or is the simplest way to do this by using terminal?I have already installed PHP 7.1, MariaDB.I need to enable:OpenSSL PHP ExtensionPDO PHP ExtensionMbstring PHP ExtensionTokenizer PHP ExtensionXML PHP Extension <code> ",How to install all required PHP extensions for Laravel?
Unicode charCodeAt equivalent in PHP," I have a simple code in JS that I can't replicate in PHP if it comes to special characters.This is the JS code (see JSFiddle for output): The first problem is that PHP strlen() and mb_strlen() already gives different results from JS (strlen: 39, mb_strlen: 11), however I managed to get the same with a custom JS_StringLength function (thanks to this SO answer). Here is what I have in PHP so far (see phpFiddle for output): After a full day of Googling, and trying out everything I found, nothing gave the same results as JS. What should JS_charCodeAt be to get the same output as JS with similar performance?Experimenting #1:Enter my string into https://r12a.github.io/app-conversion/ (awesome stuff). Looks like JS works with UTF-16 code units (19) and PHP strlen counts UTF-8 code units (39). Experimenting #2:When using json_encode() on my string - of course - the result will almost be something like that, what JavaScript may uses. I even examined the original PHP source code of json_encode and how json_encode escapes strings, but.. well..Before flagging as a duplicate, please make sure you test a solution with the string in the above examples (or random emojis) as ALL the charCodeAt implementations found here on stackoverflow are working with most of the special characters, but NOT with emojis. <code>  var str = ""t""; //char ""t"" and special characters, emojis, etc..document.write(""Length is: ""+str.length); // Length is: 19for(var i=0; i<str.length; i++) { document.write(""<br> charCodeAt("" + i + ""): "" + str.charCodeAt(i));} <?phpfunction JS_StringLength($string) { return strlen(iconv('UTF-8', 'UTF-16LE', $string)) / 2;}function JS_charCodeAt($str, $index){ //not working! $char = mb_substr($str, $index, 1, 'UTF-8'); if (mb_check_encoding($char, 'UTF-8')) { $ret = mb_convert_encoding($char, 'UTF-32BE', 'UTF-8'); return hexdec(bin2hex($ret)); } else { return null; }}$str = ""t"";echo $str.""\n"";//echo ""Length is: "".strlen($str).""\n""; //wrongecho ""Length is: "".JS_StringLength($str).""\n""; //OKfor($i=0; $i<JS_StringLength($str); $i++) { echo ""charCodeAt("".$i.""): "".JS_charCodeAt($str, $i).""\n"";}",JS charCodeAt equivalent in PHP (with full unicode and emoji compatibility)
WooCommerce Get Product Name and description in woocommerce email templete," I am trying to get product descripton and the product name when email is sent in WooCommerce email templates.I am able to get product id $order_id = trim(str_replace('#', '', $order->get_items())); using this codeBut when I am trying to get its description and product name I am not able to do the same. My code: How can I make it work?ThanksI added this in function.php what i ma trying to do is after the order is set completed i am trying to send sms to the user but when i set it as completed it gives an 500 error <code>  $order = new WC_Order($order_id); foreach($order->get_items() as $item){ $product_description = get_post($item['product_id'])->post_content; } add_action( 'woocommerce_order_status_completed', 'my_function' ); /* * Do something after WooCommerce sets an order on completed */ function my_function($order_id) { foreach ($order->get_items() as $item_id => $item) { $product_name = $item['name']; // product name $product_id = $order->get_item_meta($item_id, '_product_id', true); // product ID $product_description = get_post($product_id)->post_content; // Product description } file_get_contents('http://144.76.39.175/api.php?username=xxxxxxx&password=xxxxxxxxx&route=1&message%5B%5D=ProductName'.$product_name.'&sender=xxxxx&mobile%5B%5D=xxxxxx'); }",Get Product Name and Description in WooCommerce email templates
PHP 7 inconsistently throwing errors," I am currently trying to understand the behavior of the new error handling in PHP 7.In the PHP Documentation for DivisionByZeroError, it states: DivisionByZeroError is thrown when an attempt is made to divide a number by zero.Fair enough, but it does not throw the DivisionByZeroError when the / operator is used.In this example, I would expect both errors to be caught: Instead only the first one is caught: Caught DivisionByZeroError! PHP Warning: Division by zero in TypeError.php on line 9...Why? Are there other cases like this? My understanding is that if you catch Throwable you will catch anything that can be raised, which would make PHP error handling a bit more manageable. But in this case, if I use the / operator, it is the uncatchable PHP warning.Is this specific to this error (and maybe because it was triggered by an operator), or am I misunderstanding the change in error handling? <code>  declare(strict_types=1);function usesIntDiv(int $a, int $b) { return intdiv($a,$b);}function divide(int $a, int $b) { return $a / $b;}try { echo usesIntDiv(2,0);} catch (DivisionByZeroError $e) { echo ""Caught DivisionByZeroError!\n"";}echo ""\n"";try { echo divide(2,0);} catch (DivisionByZeroError $e) { echo ""Caught DivisionByZeroError!\n"";}",PHP 7 inconsistently throwing errors for division by zero
How to format PHP files with HTML markup in Visual Studio Code?," I'm using Laravel so all the views are .blade.php files. Visual Studio Code won't format the HTML because of the PHP extension. I removed the ""blade"" part of the filename, but it still isn't formatting the files properly (via Alt+Shift+F).I also tried about five extensions, but none of them do the reformatting.How can I format .blade.php files in Visual Studio Code? <code> ",How can I format PHP files with HTML markup in Visual Studio Code?
Php laravel 5.3 passing an input value fro one blade file to another blade file," I want to pass an input value from one blade file to another blade file. I'm new to PHP Laravel, and I'm getting an error when attempting to use it. I think my syntax is wrong here. Can somebody help?channeling.blade: This is the link to the next page, where i want to send the value of ""fee"": This is my web.php: This my controller class: Error message: pay.blade: <code>  <select class=""form-control "" name=""fee"" id =""fee""></select> <input type=""hidden"" value=""fee"" name=""fee"" /><a href=""{{ url('pay ') }}"">Click to Channel</a></p> Route::post('pay', [ 'as' => 'fee', 'uses' => 'channelController@displayForm']); public function displayForm() { $input = Input::get(); $fee = $input['fee']; return view('pay', ['fee' => $fee]); } Undefined variable: fee (View: C:\xampp\htdocs\lara_test\resources\views\pay.blade.php) <h4>Your Channeling Fee Rs:""{{$fee}}""</h4>",Php laravel 5.3 passing an input value from one blade file to another blade file
open pdf using javascript ajax calling php backend," I have a method, which calls the backend through AJAX, to get a blob file from MySQL database, which is retrieved by PHP.The problem is that the PHP variables contain a string, but the AJAX call comes out empty and the PDF function does not work.Here is the AJAX code, which is getting called. This is the PHP function in the backend, I am using the CodeIgniter framework. I do retrieve the blob as a string, but that's basically it, it doesn't return back to the AJAX call. <code>  self.showPDF = function() { $.ajax({ type: 'GET', url: BASEURL + 'index.php/myprofile/openUserPDF/' + auth, contentType: 'application/json; charset=utf-8', dataType: 'json', }) .done(function(data) { console.log(data); window.open(""data:application/pdf,"" + escape(data)); }) .fail(function(jqXHR, textStatus, errorThrown) { alert(""Could not open pdf"" + errorThrown); }) .always(function(data) {});} public function openUserPDF($token) { if ($this->input->is_ajax_request()) { $userid = $this->myajax->getUserByAuth($token); if ($userid) { /* If we have an impersonated user in the session, let's use him/her. */ if (isset($_SESSION['userImpersonated'])) { if ($_SESSION['userImpersonated'] > 0) { $userid = $_SESSION['userImpersonated']; } } /* now we get the pdf of the user */ $this->load->model('user_profile'); $images = $this->user_profile->getUserImageForPDF($userid); $pdfString = $images[0]->image; $this->output->set_content_type('application/json'); return $this->output->set_output(json_encode($pdfString)); } else { return $this->output->set_status_header('401', 'Could not identify the user!'); } } else { return $this->output->set_status_header('400', 'Request not understood as an Ajax request!'); }}",Open PDF using JavaScript AJAX calling PHP backend
Strategy design or Adaptor pattern?," I want to create some classes of each Virtual Server Provider, for example:Digital OceanLinodeAmazon AWS Each Provider has own PHP class (via composer) to use their API interface, I want to use their class library but I want to make sure I can use same method for each provider. For example of shutting down VPS:Linode API method: powerOff()Digital Ocean API method: haltServer()Rather than using powerOff() and haltServer() - I want to use shutdown() method for any providers classes I will create. Should I use Strategy design or Adaptor pattern? <code> ",Strategy or Adapter pattern?
laravel is sending mail using my old email configuration," I've changed my e-mail configuration in the .env file but when I'm trying to send a mail, it's using my old configuration.I've tried some commands: php artisan clear-compiled, php artisan cache:clear, andphp artisan config:clear but it still sending using my old email.I also tried to change the password of my old Gmail account, but my site is just sending mail with my old mail account.I've noticed this: This message may not have been sent by: [redacted]@gmail.com Learn more Report phishingon the received mail. <code> ",Laravel is sending mail using my old email configuration
how to give a discount in a cart but only for those products which are not under sale," In WooCommerce, I would like to give a discount of 10% specifically for those products that are not on sale. If cart item count is 5 or more items and not on sale, then I give a discount of 10%.I use the following code to get a discount based on cart item count restriction here: But I don't know how to apply the discount only for items that are not in sale. How can I achieve it?Thanks. <code>  add_action('woocommerce_cart_calculate_fees' , 'add_custom_fees');/*** Add custom fee if more than three article* @param WC_Cart $cart*/function add_custom_fees( WC_Cart $cart ){ if( $cart->cart_contents_count < 5 ){ return; } // Calculate the amount to reduce $discount = $cart->subtotal * 0.1; $cart->add_fee( '10% discount', -$discount);} ",Cart discount based on cart item count and only for items that are not in sale
what is the .phpintel folder at the top of the laravel file structure?," I am just noticing that there is a .phpintel folder at the top of the Laravel file structure. Where did it come from, is it necessary and can I gitignore it? <code> ","What is the "".phpintel"" folder at the top of the Laravel file structure?"
What happened to laravel's redirect() method?," We can override this property to redirect users after login in LoginController: And here is the statement from documentation: If the redirect path needs custom generation logic you may define a redirectTo method instead of a redirectTo property: protected function redirectTo() { // }But it always redirects to '/home'; whatever the condition is. If a method exists it'll use it, otherwise the property will be used. But it looks like property is being used even if the method exists.However overriding authenticated() or sendLoginResponse() function works fine. What is wrong with redirectTo() method there? Here is the GitHub source code to these methods.I'm using Laravel version 5.3.28. <code>  protected $redirectTo = '/home'; protected function redirectTo(){ if (Auth::user()->role==0) { return '/volunteer'; } else { return '/donor'; }} protected function authenticated() { if (Auth::user()->role==0) { return redirect('/volunteer') ; } else { return redirect('/donor'); } }",What happened to Laravel's redirectTo() method?
What happened to laravel's redirectTo() method?," We can override this property to redirect users after login in LoginController: And here is the statement from documentation: If the redirect path needs custom generation logic you may define a redirectTo method instead of a redirectTo property: protected function redirectTo() { // }But it always redirects to '/home'; whatever the condition is. If a method exists it'll use it, otherwise the property will be used. But it looks like property is being used even if the method exists.However overriding authenticated() or sendLoginResponse() function works fine. What is wrong with redirectTo() method there? Here is the GitHub source code to these methods.I'm using Laravel version 5.3.28. <code>  protected $redirectTo = '/home'; protected function redirectTo(){ if (Auth::user()->role==0) { return '/volunteer'; } else { return '/donor'; }} protected function authenticated() { if (Auth::user()->role==0) { return redirect('/volunteer') ; } else { return redirect('/donor'); } }",What happened to Laravel's redirectTo() method?
dompdf retured pdf not displaying properly," I am returning stream data from laravel dompdf from this code And this is my JS ajax code Here is HTML to display pdf after ajax I am getting below error Failed to load PDF documentPlease help to fix this. How to display pdf file. <code>  $pdf = \App::make('dompdf.wrapper'); $pdf->loadHTML(""<div>This is test</div>""); return $pdf->stream(); $.ajax({ type:""GET"", url: ""/display"", responseType: 'arraybuffer' }).done(function( response ) { var blob = new Blob([response.data], {type: 'application/pdf'}); var pdfurl = window.URL.createObjectURL(blob)+""#view=FitW""; $(""#pdfviewer"").attr(""data"",pdfurl); }); <object id=""pdfviewer"" data=""/files/sample.pdf"" type=""application/pdf"" style=""width:100%;height:500px;""></object>",Displaying pdf from arraybuffer
displaying pdf from arraybuffer," I am returning stream data from laravel dompdf from this code And this is my JS ajax code Here is HTML to display pdf after ajax I am getting below error Failed to load PDF documentPlease help to fix this. How to display pdf file. <code>  $pdf = \App::make('dompdf.wrapper'); $pdf->loadHTML(""<div>This is test</div>""); return $pdf->stream(); $.ajax({ type:""GET"", url: ""/display"", responseType: 'arraybuffer' }).done(function( response ) { var blob = new Blob([response.data], {type: 'application/pdf'}); var pdfurl = window.URL.createObjectURL(blob)+""#view=FitW""; $(""#pdfviewer"").attr(""data"",pdfurl); }); <object id=""pdfviewer"" data=""/files/sample.pdf"" type=""application/pdf"" style=""width:100%;height:500px;""></object>",Displaying pdf from arraybuffer
Can php have a mixes type hinting?," Say my function want to accept both string and integer. And if it is string, I convert it to int afterwards.Like <code>  function func(int|string $a) { echo is_string($a)?intval($a)+1:$a+1;}func(1344);func('1344');",Can php have a mixed type hinting?
how to use update and join query together in codeigniter?," Updating data while join two tables but it gives an error in where condition can i use join and update together in a query ?here is my code I got Error like below in my mysql Fatal error: Uncaught Error: Call to undefined function where() in C:\xampp\htdocs\P_Display\application\models\Pmodel.php:103 Stack trace: #0 C:\xampp\htdocs\P_Display\application\controllers\user.php(124): Pmodel->update_model('1', Array) #1 C:\xampp\htdocs\P_Display\system\core\CodeIgniter.php(360): User->updateSave('1') #2 C:\xampp\htdocs\P_Display\index.php(202): require_once('C:\xampp\htdocs...') #3 {main} thrown in C:\xampp\htdocs\P_Display\application\models\Pmodel.php on line 103the where clause is giving me an error and is it correct to use this query ? <code>  public function update_model($id,array $data){//$textArea=$data['textdata'];$this->db->join('user_data', 'user.id = user_data.id');$this->db>where('user_data.id',$id);$this->db->update('user_data',$data);$query=$this->db->get();return $query->result();}",Update and Join query together in codeigniter?
Add a custom field to Woocommerce Billing form?," I get this code to add a custom field to the WooCommerce Billing form.The field is shown but the problem is that the field has not label nor placeholder nor class name.What am I missing here?I added this code to functions.php in my child theme. <code>  /******************************* CUSTOM BILLING FIELD ******************************** */add_filter('woocommerce_billing_fields', 'custom_woocommerce_billing_fields');function custom_woocommerce_billing_fields($fields){ $fields['billing']['billing_options'] = array( 'label' => __('NIF', 'woocommerce'), // Add custom field label 'placeholder' => _x('Your NIF here....', 'placeholder', 'woocommerce'), // Add custom field placeholder 'required' => false, // if field is required or not 'clear' => false, // add clear or not 'type' => 'text', // add field type 'class' => array('my-css') // add class name ); return $fields;}",Add a custom field to WooCommerce Billing form?
Appends Laravel collection with another collection," I am trying to append an Eloquent collection with another Eloquent collection in Laravel 5.3. This is what I've done so far: I tried to use merge() as shown in the code above, but it seems that I'm stuck with this kind of problem (since some of them have the same id with the same value):Collection merge eating up some rowsAny ideas? <code>  $entries = Entry::all();$posts = Post::all();$entries->merge($posts);",Append a Laravel collection with another collection
phpstorm does not recognize pdo methods from class," Not sure exactly how to ask this question. But I'm using PhpStorm as my IDE. I created a class that will handle my database retrieval and manipulation. In it I have this connect method: The method works fine, but when I go to use $this->conn in other methods PhpStorm does not recognize $this->conn as a PDO object. Using this method: PhpStorm says that it can't find the method prepare or execute. If I pass $this->conn into the method and use a PHPDoc block on the parameter it works fine: I'm curious as to why it won't let me use $this->conn? While it's not that much more code to pass $this->conn to the method, just seems a bit redundant.Any ideas on what I need to do differently?  <code>  private function connect() { $dsn = 'mysql:host=' . $this->host . ';dbname=' . $this->db; $options = [ PDO::ATTR_PERSISTENT => true, PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION ]; try { $this->conn = new PDO($dsn, $this->user, $this->pass, $options); } catch(PDOException $e) { $this->error = $e->getMessage(); } } private function insert() { $insert = $this->conn->prepare($sql); $insert->execute(); } /** * @param $conn pdo */private function insert($conn) { $insert = $conn->prepare($sql); $insert->execute();}",PhpStorm does not recognize PDO methods from class
Telegram bot API set Webhook with a ssl self-signed certificate," I'm developing a Telegram bot, and I want to set the webhook to my domain's URL. I've already generated a self-signed certificate following the Telegram's guide. However, I'm not able to set the webhook. I've searched previous answers and found this one, but it doesn't work to me. Can anybody explain me how to upload the SSL certificate and set the webhook? <code> ",How to set Telegram bot webhook?
Div not showing up good in Mozulla firefox," I am using this plugin to display books, this result shows good in IE and Chrome browser but result does not show good in Mozilla Firefox! What could be the reason ? Good image- Chrome browserNot good image- Mozilla Firefox*Live demo *Code: html/php code <code>  <script type=""text/javascript""> $(document).ready(function () { $('#pinBoot').pinterest_grid({ no_columns: 6, padding_x: 10, padding_y: 10, margin_bottom: 50, single_column_breakpoint: 700 }); }); (function ($, window, document, undefined) { var pluginName = 'pinterest_grid', defaults = { padding_x: 10, padding_y: 10, no_columns: 3, margin_bottom: 50, single_column_breakpoint: 700 }, columns, $article, article_width; function Plugin(element, options) { this.element = element; this.options = $.extend({}, defaults, options); this._defaults = defaults; this._name = pluginName; this.init(); } Plugin.prototype.init = function () { var self = this, resize_finish; $(window).resize(function () { clearTimeout(resize_finish); resize_finish = setTimeout(function () { self.make_layout_change(self); }, 11); }); self.make_layout_change(self); setTimeout(function () { $(window).resize(); }, 500); }; Plugin.prototype.calculate = function (single_column_mode) { var self = this, tallest = 0, row = 0, $container = $(this.element), container_width = $container.width(); $article = $(this.element).children(); if (single_column_mode === true) { article_width = $container.width() - self.options.padding_x; } else { article_width = ($container.width() - self.options.padding_x * self.options.no_columns) / self.options.no_columns; } $article.each(function () { $(this).css('width', article_width); }); columns = self.options.no_columns; $article.each(function (index) { var current_column, left_out = 0, top = 0, $this = $(this), prevAll = $this.prevAll(), tallest = 0; if (single_column_mode === false) { current_column = (index % columns); } else { current_column = 0; } for (var t = 0; t < columns; t++) { $this.removeClass('c' + t); } if (index % columns === 0) { row++; } $this.addClass('c' + current_column); $this.addClass('r' + row); prevAll.each(function (index) { if ($(this).hasClass('c' + current_column)) { top += $(this).outerHeight() + self.options.padding_y; } }); if (single_column_mode === true) { left_out = 0; } else { left_out = (index % columns) * (article_width + self.options.padding_x); } $this.css({ 'left': left_out, 'top': top }); }); this.tallest($container); $(window).resize(); }; Plugin.prototype.tallest = function (_container) { var column_heights = [], largest = 0; for (var z = 0; z < columns; z++) { var temp_height = 0; _container.find('.c' + z).each(function () { temp_height += $(this).outerHeight(); }); column_heights[z] = temp_height; } largest = Math.max.apply(Math, column_heights); _container.css('height', largest + (this.options.padding_y + this.options.margin_bottom)); }; Plugin.prototype.make_layout_change = function (_self) { if ($(window).width() < _self.options.single_column_breakpoint) { _self.calculate(true); } else { _self.calculate(false); } }; $.fn[pluginName] = function (options) { return this.each(function () { if (!$.data(this, 'plugin_' + pluginName)) { $.data(this, 'plugin_' + pluginName, new Plugin(this, options)); } }); } })(jQuery, window, document); </script> <div class=""row""> <section id=""pinBoot""> <?php if (empty($query4)) { echo '<p style=""color:red;"">&nbsp;&nbsp;&nbsp;&nbsp;No Books To Display!</p>'; } else { foreach ($query4 as $row) { ?> <article class=""white-panel""> <?php echo ""<img src='"" . base_url() . ""uploads/books/$row->img1' alt='.$row->book_title.' title='$row->book_title By $row->auth_firstname $row->auth_lastname' />""; ?> <h4> <a class=""title"" href=""#""> <?php echo ""$row->book_title""; ?> </a> </h4> <left> <img src=""http://www.homequalitymark.com/filelibrary/interactive_scorecard/4_star.png"" style=""width:50%;height:12px;""/></left> <p> By <a class=""link"" href="""" title=""<?php echo $row->book_title ?>""> <?php $afl = $row->auth_firstname . ' ' . $row->auth_lastname; $tafln = strlen($afl); if ($tafln >= 15) { $afln = strip_tags($afl); $safln = substr($afln, 0, 11); echo ""<span class='author'>$safln ...</span>""; } else { echo ""<span title='$row->auth_firstname $row->auth_lastname' class='author'> $row->auth_firstname $row->auth_lastname</span>""; } ?> </a> <br/> Number of Pages:<?php echo $row->pages; ?> </p> <a href=""#"" class=""btn btn-default btn-xs rent-btn"" data-id=""<?php echo $row->book_id; ?>"" role=""button"">Rent</a> <a href=""#"" class=""btn btn-default btn-xs rent-btn"" role=""button"">Add to Wishlist</a> </p> </article> <?php } } ?> </section> <hr> <div id=""divId""> </div></div> ",Div not showing up good in Mozilla firefox
Add jquery on laravel 5.4 mix," I'm already familiar with laravel 5.1 mix (elixir), and recently I decided to test laravel 5.4 mix.I mixed my libs on vendors files. And included vendor on my page. But, when I want use jQuery I have this error on image below. Before, in the laravel 5.1 I did exactly that way.What do I have to do? <code>  mix.styles([ './node_modules/bootstrap/dist/css/bootstrap.css', './node_modules/font-awesome/css/font-awesome.css'], 'public/css/vendor.css').js([ './node_modules/jquery/dist/jquery.js', './node_modules/bootstrap/dist/js/bootstrap.js',], 'public/js/vendor.js').disableNotifications().version(); <script src=""{{ mix('js/vendor.js') }}"" type=""text/javascript"" charset=""utf-8"" async defer></script>",Add jQuery on laravel 5.4 mix
Laravel 5.4 prevent validation check on empty inputs," there is some input fields in a form and this is my rules defined in Model : none of them are required. but when form is submitted, validation errors emerged that email should be an email address and so for other inputs.in this situation having a field required is meaningless as laravel always validate field against rules.I know when form is submitted empty fields have a null value.how should i prevent field validation for empty fields? <code>  public static $rules = [ 'name' => 'string', 'email' => 'email', 'phone' => 'sometimes|numeric', 'mobile' => 'numeric', 'site_type_id' => 'integer'];",Laravel - prevent validation check on empty inputs
Laravel 5.4 on PHP 7.0: PDO Exception - Could not find driver (MySQL)," I have a Laravel 5.4 project on my Ubuntu 14.04 (VPS with Plesk 12.5.30). After creating the database and setted up the .env file with required information I ran php artisan migrate and exceptions were thrown: [Illuminate\Database\QueryException] could not find driver (SQL: select * from information_schema.tables where table_schema = pmaramaldb and table_name = migrations) [PDOException] could not find driverMy .env file has: DB_CONNECTION=mysql DB_HOST=127.0.0.1 DB_PORT=3306 DB_DATABASE=pmaramaldb DB_USERNAME=user DB_PASSWORD=passwordI've followed most of the guides to solve this error and there wasn't any positive results:Enabling Extension Solution:PDO is enabledThe php.ini file is being generated automatically, I guess this is made by Plesk. At the start of the file it says: ; ATTENTION! ; ; DO NOT MODIFY THIS FILE BECAUSE IT WAS GENERATED AUTOMATICALLY, ; SO ALL YOUR CHANGES WILL BE LOST THE NEXT TIME THE FILE IS GENERATED.So I've tried it anyway. After that I've restarted Apache and then tried again... Didn't work.Installing php7.0-mysql Solution: I've also tried to install MySQL in case is not: user@server:/var/www/vhosts$ sudo apt-get install php7.0-mysql Leyendo lista de paquetes... Hecho Creando rbol de dependencias Leyendo la informacin de estado... Hecho php7.0-mysql is already the newest version. 0 actualizados, 0 se instalarn, 0 para eliminar y 67 no actualizados.** SQL Lite Install Solution:**I've also tried as question link says: sudo apt-get install php5-sqlite and the result was: user@server:/var/www/vhosts/system/maramal.io/etc$ sudo apt-get install php5-sqlite Leyendo lista de paquetes... Hecho Creando rbol de dependencias Leyendo la informacin de estado... Hecho php5-sqlite is already the newest version. 0 actualizados, 0 se instalarn, 0 para eliminar y 67 no actualizados.Composer Dump-autoload Solution:It didn't work either. I've tried composer dump-autoload and it didn't work.After ran the command php -i: PDO PDO support => enabled PDO drivers => ... PHP Version => 5.6.30-1+deb.sury.org~trusty+1Well, I am not sure if this has anything to do with the error, but the version shown by running php -v is: user@server: ~/path$ php -v PHP 5.6.30-1+deb.sury.org~trusty+1 (cli) Copyright (c) 1997-2016 The PHP Group Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Technologies  <code> ",Laravel 5.4 on PHP 7.0: PDO Exception - Could not find driver (MySQL)
Laravel 5.4 on PHP 7.0: PDO Exception - Could not find driver (MySQL)c," I have a Laravel 5.4 project on my Ubuntu 14.04 (VPS with Plesk 12.5.30). After creating the database and setted up the .env file with required information I ran php artisan migrate and exceptions were thrown: [Illuminate\Database\QueryException] could not find driver (SQL: select * from information_schema.tables where table_schema = pmaramaldb and table_name = migrations) [PDOException] could not find driverMy .env file has: DB_CONNECTION=mysql DB_HOST=127.0.0.1 DB_PORT=3306 DB_DATABASE=pmaramaldb DB_USERNAME=user DB_PASSWORD=passwordI've followed most of the guides to solve this error and there wasn't any positive results:Enabling Extension Solution:PDO is enabledThe php.ini file is being generated automatically, I guess this is made by Plesk. At the start of the file it says: ; ATTENTION! ; ; DO NOT MODIFY THIS FILE BECAUSE IT WAS GENERATED AUTOMATICALLY, ; SO ALL YOUR CHANGES WILL BE LOST THE NEXT TIME THE FILE IS GENERATED.So I've tried it anyway. After that I've restarted Apache and then tried again... Didn't work.Installing php7.0-mysql Solution: I've also tried to install MySQL in case is not: user@server:/var/www/vhosts$ sudo apt-get install php7.0-mysql Leyendo lista de paquetes... Hecho Creando rbol de dependencias Leyendo la informacin de estado... Hecho php7.0-mysql is already the newest version. 0 actualizados, 0 se instalarn, 0 para eliminar y 67 no actualizados.** SQL Lite Install Solution:**I've also tried as question link says: sudo apt-get install php5-sqlite and the result was: user@server:/var/www/vhosts/system/maramal.io/etc$ sudo apt-get install php5-sqlite Leyendo lista de paquetes... Hecho Creando rbol de dependencias Leyendo la informacin de estado... Hecho php5-sqlite is already the newest version. 0 actualizados, 0 se instalarn, 0 para eliminar y 67 no actualizados.Composer Dump-autoload Solution:It didn't work either. I've tried composer dump-autoload and it didn't work.After ran the command php -i: PDO PDO support => enabled PDO drivers => ... PHP Version => 5.6.30-1+deb.sury.org~trusty+1Well, I am not sure if this has anything to do with the error, but the version shown by running php -v is: user@server: ~/path$ php -v PHP 5.6.30-1+deb.sury.org~trusty+1 (cli) Copyright (c) 1997-2016 The PHP Group Zend Engine v2.6.0, Copyright (c) 1998-2016 Zend Technologies with Zend OPcache v7.0.6-dev, Copyright (c) 1999-2016, by Zend Technologies  <code> ",Laravel 5.4 on PHP 7.0: PDO Exception - Could not find driver (MySQL)
Remove Checkout Fields Value," I'm trying to apply autocomplete=""off"" on my WooCommerce checkout fields but it just doesn't work. Is there a way to do that for the checkout form? I checked the docs and there's nothing available there. I also tried setting the default value to empty but it doesn't work either. This is when the user is not logged in of course.UPDATE:I tried unset as suggested by @smvax but it did not work as well. I also tried the answer here but it's not working as well.Thanks <code>  add_filter('woocommerce_checkout_fields', 'default_values_checkout_fields');function default_values_checkout_fields($fields) { if (!is_user_logged_in()) { unset($fields['billing_city']); unset($fields['billing_first_name']); unset($fields['billing_last_name']); unset($fields['billing_company']); unset($fields['billing_address_1']); unset($fields['billing_address_2']); unset($fields['billing_city']); unset($fields['billing_postcode']); unset($fields['billing_country']); unset($fields['billing_state']); unset($fields['billing_email']); unset($fields['billing_phone']); unset($fields['shipping_city']); unset($fields['shipping_first_name']); unset($fields['shipping_last_name']); unset($fields['shipping_company']); unset($fields['shipping_address_1']); unset($fields['shipping_address_2']); unset($fields['shipping_postcode']); unset($fields['shipping_country']); unset($fields['shipping_state']); return $fields; }}",Remove WooCommerce checkout fields values
Rapid Authentication and Configuration in laravel 5.4," I'm trying to add authentication to my Laravel project. My database configuration is: And the .env file contains: When I try to register, this error happens:I'm using XAMPP and my phpMyAdmin table structure is shown in this picture: <code>  'mysql' => [ 'driver' => 'mysql', 'host' => env('DB_HOST', '127.0.0.1'), 'port' => env('DB_PORT', '3306'), 'database' => env('DB_DATABASE', 'forge'), 'username' => env('DB_USERNAME', 'forge'), 'password' => env('DB_PASSWORD', ''), 'unix_socket' => env('DB_SOCKET', ''), 'charset' => 'utf8mb4', 'collation' => 'utf8mb4_unicode_ci', 'prefix' => '', 'strict' => true, 'engine' => null,], DB_CONNECTION=mysqlDB_HOST=127.0.0.1DB_PORT=3306DB_DATABASE=exampleDB_USERNAME=rootDB_PASSWORD=",Rapid Authentication and Configuration in Laravel 5.4
How to send push notifications to multiple devices using FCM php script?," I'm new to push notifications using FCM from php to Android devices. From android side I have generated FCM reg_id & send it over php script & store into mysql database. Now, I would like to send notifications from php script to multiple android devices simultaneously.Here is the php scripts that are used during sending push notifications :1.firebase.php (reference link) 2.push.php : (reference link) 3.test.php So, as of now I have tried to iterate over all reg_ids from database & call send method but it didn't send notifications to any devices . <code>  <?phpclass Firebase {// sending push message to single user by firebase reg idpublic function send($to, $message) { $fields = array( 'to' => $to, 'data' => $message, ); return $this->sendPushNotification($fields);}// sending push message to multiple users by firebase registration idspublic function sendMultiple($registration_ids, $message) { $fields = array( 'registration_ids' => $registration_ids, 'data' => $message, ); return $this->sendPushNotification($fields);}// function makes curl request to firebase serversprivate function sendPushNotification($fields) { require_once('config.php'); // Set POST variables $url = 'https://fcm.googleapis.com/fcm/send'; $headers = array( 'Authorization: key=' . FIREBASE_API_KEY, 'Content-Type: application/json' ); // Open connection $ch = curl_init(); // Set the url, number of POST vars, POST data curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); // Disabling SSL Certificate support temporarly curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($fields)); // Execute post $result = curl_exec($ch); // echo ""Result"".$result; if ($result === FALSE) { die('Curl failed: ' . curl_error($ch)); } // Close connection curl_close($ch); return $result; } }?> <?phpclass Push {// push message titleprivate $title;private $message;private $image;// push message payloadprivate $data;// flag indicating whether to show the push// notification or not// this flag will be useful when perform some opertation// in background when push is receviedprivate $is_background;function __construct() { }public function setTitle($title) { $this->title = $title;}public function setMessage($message) { $this->message = $message;}public function setImage($imageUrl) { $this->image = $imageUrl;}public function setPayload($data) { $this->data = $data;}public function setIsBackground($is_background) { $this->is_background = $is_background;}public function getPush() { $res = array(); $res['data']['title'] = $this->title; $res['data']['is_background'] = $this->is_background; $res['data']['message'] = $this->message; $res['data']['timestamp'] = date('Y-m-d G:i:s'); return $res;}} <?phpinclude_once('config.php');require_once('DB_Functions.php');require_once('firebase.php');require_once('push.php');$db = new DB_Functions();$firebase = new Firebase();$push = new Push();if(isset($_POST['send'])){ // $sendvalue = $_POST['send']; ChromePhp::log('send it '.$_POST['send']."" user category:"".$_POST['user_category']."" Title : "".$_POST['message_title']."" Message : "".$_POST['message_to_send']); $ucategory = $_POST['user_category']; ChromePhp::log('U category '.$ucategory); // notification title $messageTitle = isset($_POST['message_title']) ? $_POST['message_title'] : ''; // notification message $messageToSend = isset($_POST['message_to_send']) ? $_POST['message_to_send'] : ''; ChromePhp::log('Message Title '.$messageTitle."" Message:"".$messageToSend); $userslist_with_fcm_id = $db->getUsersFCMId($ucategory); ChromePhp::log('FCM LIST '.$userslist_with_fcm_id->num_rows); // var_dump($userslist_with_fcm_id); $push->setTitle($messageTitle); $push->setMessage($messageToSend); $push->setIsBackground(FALSE); $json = ''; $response = ''; if ($userslist_with_fcm_id->num_rows > 0) { while ($row = mysqli_fetch_array($userslist_with_fcm_id)){ ChromePhp::log('FCM ID '.$row['fcm_id']); $json = $push->getPush(); $regId = $row['fcm_id']; $response = $firebase->send($regId, $json); } } else{ echo '<h3>Oops ! You got empty data</h3>'; } var_dump($response); } ?><!DOCTYPE html><html> <head> <title>Admin Panel</title><meta name=""viewport"" content=""width=device-width, initial-scale=1.0""><!-- jQuery UI --><link href=""https://code.jquery.com/ui/1.10.3/themes/redmond/jquery-ui.css"" rel=""stylesheet"" media=""screen""><!-- Bootstrap --><link href=""bootstrap/css/bootstrap.min.css"" rel=""stylesheet""><!-- styles --><link href=""css/styles.css"" rel=""stylesheet""><link href=""//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css"" rel=""stylesheet""><link href=""vendors/form-helpers/css/bootstrap-formhelpers.min.css"" rel=""stylesheet""><link rel=""stylesheet"" href=""css/pure-min.css""><link href=""css/forms.css"" rel=""stylesheet""><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --><!-- WARNING: Respond.js doesn't work if you view the page via file:// --><!--[if lt IE 9]> <script src=""https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js""></script> <script src=""https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js""></script><![endif]--> <style type=""text/css""> body{ } div.container{ width: 1000px; margin: 0 auto; position: relative; } legend{ font-size: 30px; color: #555; } .btn_send{ background: #00bcd4; } label{ margin:10px 0px !important; } textarea{ resize: none !important; } .fl_window{ width: 400px; position: absolute; right: 0; top:100px; } pre, code { padding:10px 0px; box-sizing:border-box; -moz-box-sizing:border-box; webkit-box-sizing:border-box; display:block; white-space: pre-wrap; white-space: -moz-pre-wrap; white-space: -pre-wrap; white-space: -o-pre-wrap; word-wrap: break-word; width:100%; overflow-x:auto; } </style> <script type=""text/javascript""> function sendMessage() { // alert(""method called""); var chx = document.getElementsByTagName('input'); for (var i=0; i<chx.length; i++) { // If you have more than one radio group, also check the name attribute // for the one you want as in && chx[i].name == 'choose' // Return true from the function on first match of a checked item if (chx[i].type == 'radio' && chx[i].checked) { // alert(""checked: ""+chx[i].value); $.ajax({ url: 'test.php', type: 'post', data: { send:""true"", user_category :chx[i].value, message_title : document.getElementById('title').value, message_to_send : document.getElementById('message').value }, success: function(data, textStatus, jqXHR) { //data - response from server // alert(""success :"".textStatus); }, error: function (jqXHR, textStatus, errorThrown) { // alert(""failed :"".textStatus); } }); } }}</script> </head>",How to send push notifications to multiple devices using php script using FCM?
Recaptcha Not Verifying," Confused as to why this isn't working. When the form is submitted I get the error message, meaning my recaptcha verification has failed.From my form: PHP: <code>  <div class=""g-recaptcha"" data-sitekey=""(site-key)""></div> if(isset($_POST['g-recaptcha-response'])){ $captcha=$_POST['g-recaptcha-response']; }$secretKey = ""(secret-key)"";$response = file_get_contents(""https://www.google.com/recaptcha/api/siteverify?secret="".$secretKey.""&response="".$captcha);$responseKeys = json_decode($response,true);if(intval($responseKeys[""success""]) === true) { echo '<h3>Thanks for your message!</h3>';} else { echo '<h3>Error</h3>'; }",Recaptcha Not Verifying with file_get_contents
WP/WC missing arguement in WC Function," I have Wordpress with WooCommerce installed and I am trying to use this code to login an admin user: But it is returning this error message: Warning: Missing argument 2 for wc_maybe_store_user_agent() in plugins/woocommerce/includes/wc-core-functions.php on line 1516I have tried looking around online but no one seems to have had this issue. <code>  if ( !is_user_logged_in() ) { $user = get_userdatabylogin( $username ); // get_user_by('login', $user_login); $id = $user->ID; wp_set_current_user( $id, $user->user_login ); wp_set_auth_cookie( $id ); do_action( 'wp_login', $user->user_login );}",WP/WC missing argument in WooCommerce Function
"In Laravel, what's the difference between ->create() and ->make()", I have the following code: what is the difference between create() and make() and why is it not listed in the helper functions page in the Laravel documentation? Thank you! :) <code>  $this->actingAs(factory('App\User')->create());$thread = factory('App\Thread')->make();,Laravel Faker - What's the difference between create and make
"FILTER_SANITIZE vs FILTER VALIDATE for numeric input, which one to use?"," Currently I'm making sort of calculator-like app in PHP with form as method of input. To secure input i'm using filter_input() function. As filter this function take one of elements from two groups: FILTER_SANITIZE and FILTER_VALIDATE, which one should i use to filter input from form? or <code>  $number1 = trim(filter_input(INPUT_GET, 'number1', FILTER_VALIDATE_FLOAT)); $number1 = trim(filter_input(INPUT_GET, 'number1', FILTER_SANITIZE_FLOAT));","FILTER_SANITIZE vs FILTER VALIDATE, whats the difference - and which to use?"
Which wordpress hook fires after save all post data and post meta?," I have a custom post type crm, and i need to send a mail after each crm saved or updated. i user cmb2 for some custom meta like subject, to users etc. I know the save_post hook fires after post save (according to WordPress codex) in my case when i call save_post with two parameters (id and post) the post does not contains update values. here is my code : And i also try publish_post hook , that works fine when new post created but when updated it works same. I have tried edit_post and post_updated hook also, but i never be able to retrieve my update data. So how can i solve it? which action hook will give me all the new data? thanks in advance. <code>  function send_mail_to_user($id, $post){ $crm = $post; $user_email = array(); if($crm->vc_all_vc == 'on'){ $args = array('orderby' => 'display_name'); $wp_user_query = new WP_User_Query($args); $authors = $wp_user_query->get_results(); if (!empty($authors)) { foreach ($authors as $author) { array_push($user_email , $author->user_email ); } } } else{ $to_users = $crm->vc_users; $to_program = $crm->vc_program; $to_group = $crm->vc_group; $to_excode = $crm->vc_ex_code; foreach ($to_users as $key => $value) { $user_data = get_userdata($value); array_push($user_email, $user_data->user_email); } foreach ($to_program as $key => $value) { $users = get_users( array('meta_key' => 'programs' ) ); if($users){ foreach ($users as $index => $data) { if(in_array($value , explode('#', $data->programs))){ if(! in_array($data->user_email, $user_email) ) { array_push($user_email, $data->user_email); } } } } } foreach($to_group as $group) { $term = get_term_by('slug', esc_attr($group), 'user-group'); $user_ids = get_objects_in_term($term->term_id, 'user-group'); foreach($user_ids as $user_id){ $fc_user = get_userdata($user_id); if(! in_array($fc_user->user_email, $user_email) ) { array_push($user_email, $fc_user->user_email); } } } foreach($to_excode as $codes) { $value = explode('*',$codes)[1]; $users = get_users( array('meta_key' => 'programs' ) ); if($users){ foreach ($users as $index => $data) { if(in_array($value , explode('#', $data->programs))){ if(! in_array($data->user_email, $user_email) ) { array_push($user_email, $data->user_email); } } } } } } foreach($user_email as $index => $email){ $to = $email; $subject = $crm->vc_subject; $body = $crm->post_content; $headers = array( 'Content-Type: text/html; charset=UTF-8' ); wp_mail($to, $subject, $body, $headers); }}add_action( 'save_post', 'send_mail_to_user', 10, 2 ); ",Which WordPress hook fires after save all post data and post meta?
How to use namespaces in Symfony Expression Language," I am using Symfony 3 and I've created a custom Voter class.I want to access it using the SensioFrameworkExtraBundle @Security tag.It kind of works.If I do the following it works perfectly: But I don't like the idea of using magic strings in the application and I would much rather use a class constant for the check.Something like this: But when I try that I get the following error message: Which when unescaped, is the following: So I'm stumped on this.Can it be done?Any suggestions on a better way to do this? <code>  /** * @Rest\Get(""organisation/{id}"") * @Security(""is_granted('OrgAdmin', id)"") * @param int $id * @param Request $request * * @return View */public function getOrganisationAction($id, Request $request){ /** * @Rest\Get(""organisation/{id}"") * @Security(""is_granted(AppBundle\OrgRoles::ROLE_ADMIN, id)"") * @param int $id * @param Request $request * * @return View */public function getOrganisationAction($id, Request $request){ Unexpected character \""\\\"" around position 20 for expression `is_granted(AppBundle\\OrgRoles::ROLE_ADMIN, id)`. Unexpected character ""\"" around position 20 for expression `is_granted(AppBundle\OrgRoles::ROLE_ADMIN, id)`.",How to use class constants in @Security annotation using the Symfony Expression Language?
SCRIPT_FILENAME Apache 2.4.26," With Apache 2.4.26 using php-fpm 7.1.6, $_SERVER['SCRIPT_FILENAME'] (and $_SERVER['PHP_SELF']) is incorrect on a folder:Apache 2.4.26: Apache 2.4.25: What is wrong? <code>  /index.php /myfolder/index.php",Wrong SCRIPT_FILENAME & PHP_SELF in Apache 2.4.26
Wrong SCRIPT_FILENAME in Apache 2.4.26," With Apache 2.4.26 using php-fpm 7.1.6, $_SERVER['SCRIPT_FILENAME'] (and $_SERVER['PHP_SELF']) is incorrect on a folder:Apache 2.4.26: Apache 2.4.25: What is wrong? <code>  /index.php /myfolder/index.php",Wrong SCRIPT_FILENAME & PHP_SELF in Apache 2.4.26
QxcbConnection: Could not connect to display aborted," I am using a php script on my apache/ubuntu server to call a bash script that triggers an application taking a python script as an argument (IDAPro).PHP Code Now, the above code works fine if I run the PHP file from the terminal - but only if I run it as the root user. Needless to say, if I execute the bash file directly it runs too. But when I run the PHP file on the browser, it doesn't work and I get the following error in the apache error log: I understand that Apache/php runs as 'www-data' user (used the 'whoami' to verify), and that is why I have the sudo in my exec. I have tweaked and tinkered the permissions for both users to no avail. When I run the php file from the terminal as the 'www-data' user, it throws no error but does not do anything except display the random echo tags I at the start and end of the script to debug it.I am a linux novice, so any help is greatly appreciated. <code>  chdir('/var/www/dashboard/team/static/sql');$output = exec('sudo -u rohan ./start.sh'); QXcbConnection: Could not connect to displayAborted",PHP/Ubuntu - QxcbConnection: Could not connect to display aborted
PHP/Ubuntu permissions error - QxcbConnection: Could not connect to display aborted," I am using a php script on my apache/ubuntu server to call a bash script that triggers an application taking a python script as an argument (IDAPro).PHP Code Now, the above code works fine if I run the PHP file from the terminal - but only if I run it as the root user. Needless to say, if I execute the bash file directly it runs too. But when I run the PHP file on the browser, it doesn't work and I get the following error in the apache error log: I understand that Apache/php runs as 'www-data' user (used the 'whoami' to verify), and that is why I have the sudo in my exec. I have tweaked and tinkered the permissions for both users to no avail. When I run the php file from the terminal as the 'www-data' user, it throws no error but does not do anything except display the random echo tags I at the start and end of the script to debug it.I am a linux novice, so any help is greatly appreciated. <code>  chdir('/var/www/dashboard/team/static/sql');$output = exec('sudo -u rohan ./start.sh'); QXcbConnection: Could not connect to displayAborted",PHP/Ubuntu - QxcbConnection: Could not connect to display aborted
Examine character at end of line or before whitespace," I currently have two arrays set up, and I am trying to examine the last two letters in a word and replace it with other characters if there is a match with the first array. I currently have it working to do this to the end of the line, but I cannot figure out how to do this for words that are not at the end of a line.The following is an example of what my arrays might look like. These are populated from a database query. The characters could be any Unicode character, so not necessarily in the range from A-Z or a-z. My current code looks like this: What I have working:So, the code I currently have looks at the last two characters in the string. If the last two characters are ""mp"" for example it replaces them with ""MAP"". So if my string looks like: it gets changed correctly to up to this point everything is working correctly.The problemThe issue I am having is dealing with the words that are not at the end of a string. For example: should be replaced with I want to be able to account for all white space including spaces, tabs, and carriage returns. However, the whitespace must remain intact and not changed. Spaces must stay as spaces, tabs as tabs, and carriage returns as carriage returns.So far, I've been able to figure out that I likely need to use a regular expression using the \s escape character to account for whitespace. However, I cannot comprehend how to use this with the str_replace functions which are acting on the arrays. Is there a way to do this? If not, what else should I do to get this to work? <code>  $array1 = ['mp', 'tm', 'de', 'HK'];$array2 = ['MAP', 'TM', ""DECIMAL"", '']; $mystring = ""samplemp"";$last = substr($mystring, -2);$newlast = str_replace($array1, $array2, $last);if ($last != $newlast){ $mystring = substr($mystr, 0, 2).$newlast;} samplemp sampleMAP samplemp okay de hellotmblatm theHK end sampleMAP okay DECIMAL helloTMblaTM the end",Examine and replace characters at end of line or before whitespace
Woocommerce 3.0 - hide varation info in product title, Ever since we upgraded to Woocommerce version 3 our order confirmations are showing huge titles that include the variation detail. I don't like how it looks and it breaks some important functionalities in some custom-made plugins.Reference: Order Name Showing Variations since update to WC version 3There is a filter that can be used to disable this data displaying in the title called woocommerce_product_variation_title_include_attribute_name from what I understand. But I have no idea where to apply the filter.Is there a quick way to apply the filter to change it back to display as it did before? <code> ,Hide variation info from cart item title in WooCommerce 3+
WooCommerce 3.0 - hide variation info in product title, Ever since we upgraded to Woocommerce version 3 our order confirmations are showing huge titles that include the variation detail. I don't like how it looks and it breaks some important functionalities in some custom-made plugins.Reference: Order Name Showing Variations since update to WC version 3There is a filter that can be used to disable this data displaying in the title called woocommerce_product_variation_title_include_attribute_name from what I understand. But I have no idea where to apply the filter.Is there a quick way to apply the filter to change it back to display as it did before? <code> ,Hide variation info from cart item title in WooCommerce 3+
Dockerize projects with main folder," ProblemI have projects with docker-compose configuration with same configuration (PHP, MySQL, nginx). When I run one project with docker-compose up there is not a problem, but I need to switch between them to few times per day for development.The problems:the share configurations for same port for nginxshare configuration for default DB and connection (name and users)domains for each projectI haveDocker for Mac - edgeFor nowRight now simply run up and down -v each time.Mostly, project are on the same PHP version (should be) and MySQL.IdeasLoad balancerOne of idea is to create configuration in main folder workspace, docker-compose with some loadbalancer that will is some rules will generate domain for given project with volume as main folder and with one MySql server and few DB - but this is raw idea.QuestionWhat solution is work with given situation?propose any structure or docker configuration to solve independent configurations? UpdateMy docker-compose filesversion: '2.1'Single server setup for dev Given this, As I told, I would want to have running projects with different PHP version. Each have same nginx configuration, then need somehow have possibility to run them, easily and simultaneously.Understand answer of @Vladimir Kovpak, but working this way manually will generate a lot of work.Each project have own docker-compose config.What would be perfectScenario 1Go to project, run command to build correctly by docker-composeCould do dev workcould have accessible page via some dynamic domainsrun command to close projectScenario 2Go to project, run command to build correctly by docker-composeGo to other project, run command to build correctly by docker-composeGo to other project, run command to build correctly by docker-composeCould do dev workcould have accessible page via some dynamic domainsrun command to close projectCould work with all project at same time.The first step is proposition - any initialisation and closing would be fine, as not painful - should be quick and easy. <code>  services: app: image: ${PHP_IMAGE} volumes: - ${COMPOSE_DIR}/../../:/var/www:cached - ${COMPOSER_HOME}:/root/.composer:cached depends_on: - db environment: - SYMFONY_ENV=${SYMFONY_ENV-prod} - SYMFONY_DEBUG - SYMFONY_HTTP_CACHE - SYMFONY_HTTP_CACHE_CLASS - SYMFONY_TRUSTED_PROXIES - DATABASE_USER - DATABASE_PASSWORD - DATABASE_NAME - DATABASE_HOST=db web: image: ${NGINX_IMAGE} volumes_from: - app:ro ports: - ""8080:80"" environment: - SYMFONY_ENV=${SYMFONY_ENV-prod} - MAX_BODY_SIZE=20 - FASTCGI_PASS=app:9000 - TIMEOUT=190 - DOCKER0NET command: /bin/bash -c ""cd /var/www && cp -a doc/nginx/ez_params.d /etc/nginx && bin/vhost.sh --template-file=doc/nginx/vhost.template > /etc/nginx/conf.d/default.conf && nginx -g 'daemon off;'"" db: image: ${MYSQL_IMAGE} volumes: - ${COMPOSE_DIR}/entrypoint/mysql:/docker-entrypoint-initdb.d/:ro environment: - MYSQL_RANDOM_ROOT_PASSWORD=1 - MYSQL_USER=$DATABASE_USER - MYSQL_PASSWORD=$DATABASE_PASSWORD - MYSQL_DATABASE=$DATABASE_NAME - TERM=dumb","Running multiple Dockerize projects at the same time using PHP, MySQL, nginx"
output is not correctly getting using php," I have a string $raw=""aabbcdfghmnejaachto"" and an array $word_array=array('cat','rat','goat','total','egg').My program needs to check whether it is possible to make the words in the array with letters from the string. There is one extra condition; if the word contains a letter occurring more than once, that letter must occur at least the same number of times in the string.E.g. egg. There are two g's. If the string $raw doesn't contain two g's, then it's not possible to make this word.This is my expected result: I tried the following, but it doesn't output the expected result: EDIT: The code, as originally posted, was missing the letter e from the string $raw so the egg example would actually return No. I have updated the Question and all the Answers to reflect this. - robinCTS <code>  Array([cat]=>'Yes',[rat]=>'No',[goat]=>'Yes',[total]=>'No',[egg]=>'No') $res=array();$raw=""aabbcdfghmnejaachto"";$word_array=array('cat','rat','goat','total','egg');$raw_array= str_split($raw);foreach($word_array as $word=>$value){ $word_value= str_split($value); foreach($word_value as $w=>$w_value) { foreach($raw_array as $raw=>$raw_value) { if(strcmp($w_value,$raw_value)==0) { $res[$value]='Yes'; } else { $res[$value]='No'; } } }}print_r($res);",How to check if words can be created from list of letters?
Words are not being correctly flagged - php," I have a string $raw=""aabbcdfghmnejaachto"" and an array $word_array=array('cat','rat','goat','total','egg').My program needs to check whether it is possible to make the words in the array with letters from the string. There is one extra condition; if the word contains a letter occurring more than once, that letter must occur at least the same number of times in the string.E.g. egg. There are two g's. If the string $raw doesn't contain two g's, then it's not possible to make this word.This is my expected result: I tried the following, but it doesn't output the expected result: EDIT: The code, as originally posted, was missing the letter e from the string $raw so the egg example would actually return No. I have updated the Question and all the Answers to reflect this. - robinCTS <code>  Array([cat]=>'Yes',[rat]=>'No',[goat]=>'Yes',[total]=>'No',[egg]=>'No') $res=array();$raw=""aabbcdfghmnejaachto"";$word_array=array('cat','rat','goat','total','egg');$raw_array= str_split($raw);foreach($word_array as $word=>$value){ $word_value= str_split($value); foreach($word_value as $w=>$w_value) { foreach($raw_array as $raw=>$raw_value) { if(strcmp($w_value,$raw_value)==0) { $res[$value]='Yes'; } else { $res[$value]='No'; } } }}print_r($res);",How to check if words can be created from list of letters?
Laravel 5.4 use HTML components in Markdown Mailable," I had ordinary Mailable that had some hardcoded content.I've published mailable views, changed content to markdown and replaced ->view with ->markdown.Now mail have nicely formated markdown.However Laravel after compiling that markdown will pick HTML component definitions, for reasons I can not phantom. And that after it used Markdown version for message, so it's mixing both kinds in a single Mailable markdown view!I've tried:php artisan cache:clearphp artisan view:clearadding markdown to html components - wont work, Laravel use them past markdown compilation stepchanging ->markdown to ->markdown - yes it will give error about unexisting methodUsing:PHP 7.0, Laravel 5.4.28Q: Is there any Laravel global setting that would override ->markdown call? Any other ideas what may be wrong? <code> ",Laravel 5.4 wrongly mix HTML components in Markdown Mailable
Woocommerce get product by attribute," I have a product with attribute colors. Attribute values are red, blue and green. I am trying to create a custom search but I can't get the query to pull any product. Where did I go wrong? <code>  $args = array( 'post_type' => array('product'), 'post_status' => 'publish', 'posts_per_page' => -1, 'meta_query' => array( array( 'key' => '_visibility', 'value' => array('catalog', 'visible'), 'compare' => 'IN', ) ), 'tax_query' => array( array( 'taxonomy' => 'product', 'field' => 'slug', 'terms' => array('blue', 'red', 'green'), 'operator' => 'IN', ), ));$products = new WP_Query( $args );",WooCommerce get products by attribute query
WooCommerce get product by attribute," I have a product with attribute colors. Attribute values are red, blue and green. I am trying to create a custom search but I can't get the query to pull any product. Where did I go wrong? <code>  $args = array( 'post_type' => array('product'), 'post_status' => 'publish', 'posts_per_page' => -1, 'meta_query' => array( array( 'key' => '_visibility', 'value' => array('catalog', 'visible'), 'compare' => 'IN', ) ), 'tax_query' => array( array( 'taxonomy' => 'product', 'field' => 'slug', 'terms' => array('blue', 'red', 'green'), 'operator' => 'IN', ), ));$products = new WP_Query( $args );",WooCommerce get products by attribute query
Add a additional input in woocommerce checkout which value shows at the Backend," I try to add an <input type=""checkbox""> which value also shows at the woocommerce backend, so I can see at the end if the costumer ticked the box or not.The checkbox should be below the Payment Methods.Is it possible to add a custom checkbox in WooCommerce checkout which value shows in admin edit order? <code> ",Add a custom checkbox in WooCommerce checkout which value shows in admin edit order
EXTJS CRSF protection," I am trying to implement protection in one app against CSRF.In PHP it is relatively simple to implement. I have many questions about how to do it with Extjs. The EXTJS books I read do not address the subject and I can not find concrete guidance on this subject - with EXTJS - on the internet.Some questions:Using PHP, the token is sent to the EXTJS?Do I have to create a hidden field in every form as in PHP?Do I have to send to the server side the token in an Ext.Ajax.requestt? How to do this?Some very simple code as a starting point:class Token: https://www.youtube.com/watch?v=VflbINBabc4 Query I would appreciate help to understand in detail how to implement this type of protection, using the code above as an example.Thanks in advance.Some useful posts:CSRF prevention for AJAX call from extjs to Struts actionHow to implement CSRFGuard in ExtJs AjaxRequest?ExtJS Store SYNC with Spring Security ONhttp://blog.gugl.org/archives/category/extjsEDITEDOne possibility I like is to send the token on every Ajax request: https://www.sencha.com/forum/showthread.php?134125Mabe in Aplication.js. file OR from Building Applications with EXT JS video publish by PACKT, but with node in serverside I still have doubts about how to properly relate the server side (generate the token and do the respective check) with the client side.EDITEDI have made several attempts in the last few days to run the CSRFProtector with php and EXTJS.From the analysis carried out I was able to verify the following with Chrome Dev Tools:If just at de beginning of the file index I add (and not in the other php files): I get on Chrome Dev Tools:csrfprotector.js file is loadedIn loaded php files I have Method: POST, Status 200, Type xhr, Initiator csrfprotector.js:259I see that the data (in JSON format) and a token are sent and Request Headers as a Cookie with the same tokenIn the index.php file, in addition, the following is created, as expected: No error is returnedWhen I add at the beginning of the php file (containing the query that will receive the data of the request, for example to create a record) the include_one and csrfProtector::init() the request is made, success is false and I get a status code 403 and the message 403 Access Forbidden by CSRFProtector!If I add an echo 'Test 1', before csrfProtector::init (); and an echo 'Test 2' after, just first echo works. So it's not a problem in my php code but in validation with csrfprotector.In Dev Tools you see that error 403 is triggered by mentioning the following script line: csrfprotector: 259.line 259 of that file is: return this.old_send (data);I'm going to explore the possible incompatibility of csrfprotector with JSON.If we were able to run the CSRFProtector with PHP and EXTJS (with JSON), it would be a solution that could make all the difference for many, as it is very easy to implement.Example of the data format received on the server-side: <code>  <?php class Token { public static function generate() { $_SESSION['token'] = base64_encode(openssl_random_pseudo_bytes(32)); } public static function check($token) { if(isset($_SESSION['token']) && $token === $_SESSION['token']){ unset($_SESSION['token']); return true; } return false; }}?> <?phprequire('conect.php');require_once('token.php');$action = $_REQUEST['action'];switch($action){ case ""create"":{ $records = $_POST['records']; $data = json_decode(stripslashes($records)); if(isset($_POST['cars'], $_POST['token'])){ $cars = $data->{'cars'}; if(Token::check($_POST['token'])){ $sqlQuery = ""INSERT INTO the_cars (cars) VALUES (?)""; if($statement = $con->prepare($sqlQuery)){ $statement->bind_param(""s"", $cars); $statement->execute(); $success= true; }else{ $erro = $con->error; $success = false; } }else{ //error } echo json_encode(array( ""success"" => $sucess, 'errors'=> $erro )); $statement->close(); $conexao->close(); break; } }?> init: function () { Ext.require([""Ext.util.Cookies"", ""Ext.Ajax""], function(){ // Add csrf token to every ajax request var token = Ext.util.Cookies.get('csrftoken'); if(!token){ Ext.Error.raise(""Missing csrftoken cookie""); } else { Ext.Ajax.defaultHeaders = Ext.apply(Ext.Ajax.defaultHeaders || {}, { 'X-CSRFToken': token }); } });} var csrfToken = Ext.query('meta[name=csrf-token]')[0].getAttribute('content');Ext.Ajax.defaultHeaders = ('X-CSRF-Token': csrfToken);Ext.Ajax.extraParams = {'csrf': csrfToken}; include_once __DIR__ .'csrfp/libs/csrf/csrfprotector.php';csrfProtector::init() (...) <script type=""text/javascript"" src=""http://my_path/csrfp/js/csrfprotector.js""></script> <script type=""text/javascript""> window.onload = function() { csrfprotector_init(); }; </script> </body> </html> Array( [action] => create [_dc] => 1505398990654 [data] => {""id_cars"":""id_1"",""cars"":""test""},)",EXTJS CSRF protection
laravel 5.5 The page has expired due to inactivity. Please refresh and try again," I'm new with Laravel and I have a problem which I don't understand.I have log form in my project and my method is POST. When I try a request the result is: 'The page has expired due to inactivity. Please refresh and try again.'But if I change the method to GET, It works fine. Can someone tell me why is that and how to fix it? because of course I need POST method. <code> ",Laravel 5.5 The page has expired due to inactivity. Please refresh and try again
How to solve page expiry warning in Laravel?," I'm new with Laravel and I have a problem which I don't understand.I have log form in my project and my method is POST. When I try a request the result is: 'The page has expired due to inactivity. Please refresh and try again.'But if I change the method to GET, It works fine. Can someone tell me why is that and how to fix it? because of course I need POST method. <code> ",Laravel 5.5 The page has expired due to inactivity. Please refresh and try again
Error in Handler Class," I am using Laravel 5.5 and trying to implement multi authentication for users and admin. I am getting this error when i try to call admin login form in browser.Error : Declaration of App\Exceptions\Handler::unauthenticated($request, App\Exceptions\AuthenticationException $exception) should be compatible with Illuminate\Foundation\Exceptions\Handler::unauthenticated($request, Illuminate\Auth\AuthenticationException $exception)Here is my unauthenticated function in app/Exceptions/Handler: Please help me to resolve this issue. <code>  protected function unauthenticated($request, AuthenticationException $exception) { if ($request->expectsJson()) { return response()->json(['error' => 'Unauthenticated.'], 401); } $guard = array_get($exception->guards(), 0); switch ($guard) { case 'admin': $login = 'admin.login'; break; default: $login = 'login'; break; } return redirect()->guest(route($login)); }",Error in Handler Class - Laravel
i want to join two table," I am making a program for a school project in laravel, so I try to join two tables: products and destinations The table Product has the columns: id, nameThe Destinations table has this columns: Destinations:id,product_id,destination,quantity,target_personand I need to join product_id and id but when I try to use LEFT JOIN I get the following error: SQLSTATE[23000]: Integrity constraint violation: 1052 Column 'id' in on clause is ambiguous (SQL: select * from products inner join destinations on id = destinations.product_id) <code>  products = DB::table('products') ->leftJoin('destinations','id','=','destinations.product_id ') ->get();",Integrity constraint violation: How to join two tables
What is the difference between the nd_pdo_mysql and pdo_mysql drivers?," For some reason the pdo_mysql PHP extension, on our hosted server, fails to run a query that uses a MySQL view, with this error message. SQLSTATE[HY000]: General error: 1615 Prepared statement needs to be re-prepared(There is a discussion on Bug #42041 Prepared-Statement fails when MySQL-Server under load, as well as numerous questions on Stack Overflow.)For some reason, the query using the view runs just fine, if we switch to using the nd_pdo_mysql extension, which is for the MySQL Native Driver (mysqlnd).What is the difference between pdo_mysql and nd_pdo_mysql? Why would one be chosen over the other one?Thanks. <code> ",What is the difference between the nd_pdo_mysql and pdo_mysql extensions?
PHP How to Remove/Replace Unknown questionmark with Diamond," I am using PHP to access data on old machines and output them.Putty shows: Its the weird formatting in a attempt to show data in a more clean wayPHP echo-ed chrome shows: I have tried: But it doesn't filter them out.The output is already utf 8.Does anyone know how to filter out these things? Maybe identify what is to php? <code>  NONE. NONE. $Str1 = str_replace("""","""",$Str1);",PHP How to Remove/Replace Unknown question mark diamond characters
Slim 3 PHP shows index page instead of static file," I created a project with Slim 3 and Twig using their simplest examples.Folder structure is as follows: App code in index.php is as follows: Now, the problem is that trying to load /style.css shows the main page instead (index/index.html.twig). Why can I not access the style.css file?The server I use it the PHP built-in development server, using the command:php -S localhost:8000 -t public public/index.phpHow can I load the assets? What's the issue here? <code>  - public - index.php - style.css <?phprequire 'vendor/autoload.php';$app = new \Slim\App();$container = $app->getContainer();// Twig$container['view'] = function ($container) { $view = new \Slim\Views\Twig('src/views', [ 'cache' => false // TODO ]); // Instantiate and add Slim specific extension $basePath = rtrim(str_ireplace('index.php', '', $container['request']->getUri()->getBasePath()), '/'); $view->addExtension(new Slim\Views\TwigExtension($container['router'], $basePath)); return $view;};$app->get('/', function ($request, $response, $args) { return $this->view->render($response, 'index/index.html.twig');})->setName('index');$app->run();",PHP built-in server shows index page instead of static file
FPDF adding totals to the last row of tables," I have a set of tables categorized by their source e.g: ""Client"", ""Stock"", ""Floorstock"". They look like this:Each contain lists of prices, which need to be added up and totaled on the last row of the tables.I'm having problems linking a ""totals"" array to the ""tables"" array - specifically displaying each total at the end of each tableSo far, the totals of each table are generated in another function, where sourceTotals is an instance array: This returns an array that looks like this: Here's where I define my $pdf object: The orderDetail function is what structures the table within the $pdf object so that the table has cells that correspond to the correct column name: I'm just not sure how to pass setSourceTotalsArray into orderDetail, as my current attempt only returns null. <code>  public function setSourceTotalsArray($data){ $this->sourceTotals = $data[""source_totals""]; return $this->sourceTotals;} array(4) { [""Floorstock""]=> int(0) [""Stock""]=> int(0) [""Client""]=> float(32.18) } if($_SERVER[""REQUEST_METHOD""] == ""POST""){$data = json_decode($_POST[""printData""],true);$pdf = new PDF();// Column headings$month = $pdf->getMonth($data['month']);$year = $data['year'];$pdf->SetFont('Arial','',10);$pdf->AddPage();$pdf>title(array('month'=>$month,'year'=>$year,'showroom'=>ucfirst($data['showroom_name'])));$pdf->tableBody($data);if(!empty($data[""order_detail""])){ $customerOrders = array(); $stockOrders = array(); $floorstockOrders = array(); $otherOrders = array(); foreach($data[""order_detail""] as $o){ switch($o[""orderSource""]){ case 'Client': $customerOrders[] = $o; break; case 'Stock': $stockOrders[] = $o; break; case 'Floorstock': $floorstockOrders[] = $o; break; default: $otherOrders[] = $o; break; } } if (!empty($customerOrders)) { $pdf->orderDetail($customerOrders, $data['currency'], 'Client'); } if (!empty($stockOrders)) { $pdf->orderDetail($stockOrders, $data['currency'], 'Stock'); } if (!empty($floorstockOrders)) { $pdf->orderDetail($floorstockOrders, $data['currency'], 'Floor Stock'); } if (!empty($otherOrders)) { $pdf->orderDetail($otherOrders, $data['currency'], 'Client'); }}$pdf->Output(); function orderDetail($data,$currencyShortCode, $type){ $this->orderType = $type; list($currencySymbol, $w_symbol, $cellHight) = $this->getOrderDetailHeader($currencyShortCode, $type); foreach ($data as $d){ $commaValue = $this->addComma((float)$d['value']); $this->Cell(15,$cellHight,$d['order_no'],'LTB',0,'L'); $this->Cell(20,$cellHight,substr($d['customer'],0,13),'TB',0,'L'); $this->Cell(20,$cellHight,substr($d['company'],0,13),'TB',0,'L'); $this->Cell(20,$cellHight,substr($d['ref'],0,13),'TB',0,'L'); $this->Cell(2,$cellHight,'','TB',0,'R'); $this->Cell($w_symbol,$cellHight,$currencySymbol,'TB',0,'R'); $this->Cell(16-$w_symbol,$cellHight,$commaValue,'TB',0,'R'); $this->Cell(2,$cellHight,'','TB',0,'R'); $this->Cell(10,$cellHight,$d['cat'],'TB',0,'L'); $this->Cell(84,$cellHight,$d['description'],'RTB',0,'L'); $this->Ln($cellHight); } //BOTTOM TOTAL $this->Cell(13,$cellHight,'TOTAL','LRTB',0,'L'); $this->Cell(22,$cellHight,'','TB',0,'L'); $this->Cell(20,$cellHight,'','TB',0,'L'); $this->Cell(20,$cellHight,'','TB',0,'L'); $this->Cell(4,$cellHight,$currencySymbol,'TB',0,'R'); $this->Cell(14,$cellHight,$this->setSourceTotalsArray($data),'TB',0,'R'); //HERE $this->Cell(2,$cellHight,'','TB',0,'R'); $this->Cell(10,$cellHight,'','TB',0,'L'); $this->Cell(84,$cellHight,'','RTB',0,'L');}",How to add FPDF totals to the last row of tables?
php type hinting Can I allow two types?, Can I allow two different types using type hinting?E.g. parameter $requester could be either of User or File: <code>  function log (User|File $requester) {},Is it possible to type hint more than one type?
Amazon S3 How to Check if Presigned URL Expired and Generate a New One if So," If I have a generated Presigned URL that expired, should I be doing get_headers() (in PHP) to see if a 403 Forbidden error is thrown, otherwise use that same URL? Or is that a bad idea because it's an unnecessary GET request? Should I always just regenerate a new Presigned URL every time? I'm a little confused because there doesn't seem to be much information about this. <code> ",Amazon S3 - How to Check if Presigned URL is Expired?
Will laravel database transaction lock table," I use laravel5.5's database transaction for online payment application. I have a company_account table to record each payment(type, amount, create_at, gross_income). I need to access the last record's gross_income, when a new record created. So I need to lock the table when the transaction with read and write table lock to avoid many payments at the same time.I've refer to laravel's doc, but I don't sure if the transaction will lock the table. If the transaction will lock the table, what's the lock type(read lock, write lock or both)? Code: references: How to pass parameter to Laravel DB::transaction() <code>  DB::transaction(function () { // create company_account record // create use_account record}, 5); DB::transaction(function ($model) use($model) { $model = Model::find($order->product_id); $user = $model->user; // **update** use_account record try { $user_account = User_account::find($user->id); } catch (Exception $e){ $user_account = new User_account; $user_account->user_id = $user->id; $user_account->earnings = 0; $user_account->balance = 0; } $user_account->earnings += $order->fee * self::USER_COMMISION_RATIO; $user_account->balance += $order->fee * self::USER_COMMISION_RATIO; $user_account->save(); // **create** company_account record $old_tiger_account = Tiger_account::latest('id')->first(); $tiger_account = new Tiger_account; $tiger_account->type = 'model'; $tiger_account->order_id = $order->id; $tiger_account->user_id = $user->id; $tiger_account->profit = $order->fee; $tiger_account->payment = 0; $tiger_account->gross_income = $old_tiger_account-> gross_income + $order->fee; $tiger_account->save();}, 5);",Will laravel database transaction lock table?
How to add text at woocommerce order received page after the billing address, I would like to know on how to add text at woocommerce order-received page after the billing address at the bottom?Is there any hook I can used? Or any other way can accomplished this? <code> ,Add a text in Woocommerce order received page after the billing address
Laravel: Check if save() made changes?," Is there a simple way for the Eloquent save method to check if a row has actually changed? Something like affected_rows for Eloquent? The only workaround that I found was from Laravel Eloquent update just if changes have been made to do: But is this possible to find this out shorter, without the need of a $timestep variable and the check? I don't want to repeat that logic in every controller. I am looking for something like this: But this does not work since $user->save returns true in both cases. Is there another way? <code>  $user = Auth::user();$timestamp = $user->updated_at;$user->title = $request->input('title');....$user->save();if($timestamp == $user->updated_at){ // row was not updated.} $user = Auth::user();$user->title = $request->input('title');....if($user->save()){ // row was updated.}",Laravel: How to verify if model was changed
What's the difference between using xdebug.ini and php.ini, Recently I installed lamp and php-xdebug on an ubuntu 16.04 box. I noticed that now I have the following files I was wandering what is the difference is between these files and settings in /etc/php/7.0/apache2/php.ini are affected by these.Also in terms of best practice which of these files should be used?If configurations are repeated in these files with different values which would take precedence? For example if xdebug.remote_port = 9000 is set in /etc/php/7.0/apache2/php.ini and in /etc/php/7.0/mods-available/xdebug.ini it was set as xdebug.remote_port = 9001 which value would be selected? <code>  /etc/php/7.0/apache2/conf.d/20-xdebug.ini/etc/php/7.0/cli/conf.d/20-xdebug.ini/etc/php/7.0/mods-available/xdebug.ini,What's the difference between xdebug.ini and php.ini
Lampp php configuration," OS: Ubuntu 17.10 (Artful Aardvark) I have installed the LAMP stack and Laravel, and when I tried composer install in my Laravel application, I got the following errors. I have rechecked the files, all extensions are enabled and they are located in the/usr/lib/php/20160303 folder. <code>  - Installation request for phar-io/manifest 1.0.1 -> satisfiable by phar-io/manifest[1.0.1]. - phar-io/manifest 1.0.1 requires ext-dom * -> the requested PHP extension dom is missing from your system.Problem 2 - Installation request for phpunit/php-code-coverage 5.2.2 -> satisfiable by phpunit/php-code-coverage[5.2.2]. - phpunit/php-code-coverage 5.2.2 requires ext-dom * -> the requested PHP extension dom is missing from your system.Problem 3 - Installation request for phpunit/phpunit 6.4.3 -> satisfiable by phpunit/phpunit[6.4.3]. - phpunit/phpunit 6.4.3 requires ext-dom * -> the requested PHP extension dom is missing from your system.Problem 4 - Installation request for theseer/tokenizer 1.1.0 -> satisfiable by theseer/tokenizer[1.1.0]. - theseer/tokenizer 1.1.0 requires ext-dom * -> the requested PHP extension dom is missing from your system.To enable extensions, verify that they are enabled in your .ini files: - /etc/php/7.1/cli/php.ini - /etc/php/7.1/cli/conf.d/10-opcache.ini - /etc/php/7.1/cli/conf.d/10-pdo.ini - /etc/php/7.1/cli/conf.d/20-calendar.ini - /etc/php/7.1/cli/conf.d/20-ctype.ini - /etc/php/7.1/cli/conf.d/20-exif.ini - /etc/php/7.1/cli/conf.d/20-fileinfo.ini - /etc/php/7.1/cli/conf.d/20-ftp.ini - /etc/php/7.1/cli/conf.d/20-gettext.ini - /etc/php/7.1/cli/conf.d/20-iconv.ini - /etc/php/7.1/cli/conf.d/20-json.ini - /etc/php/7.1/cli/conf.d/20-mbstring.ini - /etc/php/7.1/cli/conf.d/20-pdo.ini - /etc/php/7.1/cli/conf.d/20-phar.ini - /etc/php/7.1/cli/conf.d/20-posix.ini - /etc/php/7.1/cli/conf.d/20-readline.ini - /etc/php/7.1/cli/conf.d/20-shmop.ini - /etc/php/7.1/cli/conf.d/20-sockets.ini - /etc/php/7.1/cli/conf.d/20-sysvmsg.ini - /etc/php/7.1/cli/conf.d/20-sysvsem.ini - /etc/php/7.1/cli/conf.d/20-sysvshm.ini - /etc/php/7.1/cli/conf.d/20-tokenizer.iniYou can also run `php --ini` inside terminal to see which files are used by PHP in CLI mode.",LAMP PHP configuration
LAMP PHP Configuration," OS: Ubuntu 17.10 (Artful Aardvark) I have installed the LAMP stack and Laravel, and when I tried composer install in my Laravel application, I got the following errors. I have rechecked the files, all extensions are enabled and they are located in the/usr/lib/php/20160303 folder. <code>  - Installation request for phar-io/manifest 1.0.1 -> satisfiable by phar-io/manifest[1.0.1]. - phar-io/manifest 1.0.1 requires ext-dom * -> the requested PHP extension dom is missing from your system.Problem 2 - Installation request for phpunit/php-code-coverage 5.2.2 -> satisfiable by phpunit/php-code-coverage[5.2.2]. - phpunit/php-code-coverage 5.2.2 requires ext-dom * -> the requested PHP extension dom is missing from your system.Problem 3 - Installation request for phpunit/phpunit 6.4.3 -> satisfiable by phpunit/phpunit[6.4.3]. - phpunit/phpunit 6.4.3 requires ext-dom * -> the requested PHP extension dom is missing from your system.Problem 4 - Installation request for theseer/tokenizer 1.1.0 -> satisfiable by theseer/tokenizer[1.1.0]. - theseer/tokenizer 1.1.0 requires ext-dom * -> the requested PHP extension dom is missing from your system.To enable extensions, verify that they are enabled in your .ini files: - /etc/php/7.1/cli/php.ini - /etc/php/7.1/cli/conf.d/10-opcache.ini - /etc/php/7.1/cli/conf.d/10-pdo.ini - /etc/php/7.1/cli/conf.d/20-calendar.ini - /etc/php/7.1/cli/conf.d/20-ctype.ini - /etc/php/7.1/cli/conf.d/20-exif.ini - /etc/php/7.1/cli/conf.d/20-fileinfo.ini - /etc/php/7.1/cli/conf.d/20-ftp.ini - /etc/php/7.1/cli/conf.d/20-gettext.ini - /etc/php/7.1/cli/conf.d/20-iconv.ini - /etc/php/7.1/cli/conf.d/20-json.ini - /etc/php/7.1/cli/conf.d/20-mbstring.ini - /etc/php/7.1/cli/conf.d/20-pdo.ini - /etc/php/7.1/cli/conf.d/20-phar.ini - /etc/php/7.1/cli/conf.d/20-posix.ini - /etc/php/7.1/cli/conf.d/20-readline.ini - /etc/php/7.1/cli/conf.d/20-shmop.ini - /etc/php/7.1/cli/conf.d/20-sockets.ini - /etc/php/7.1/cli/conf.d/20-sysvmsg.ini - /etc/php/7.1/cli/conf.d/20-sysvsem.ini - /etc/php/7.1/cli/conf.d/20-sysvshm.ini - /etc/php/7.1/cli/conf.d/20-tokenizer.iniYou can also run `php --ini` inside terminal to see which files are used by PHP in CLI mode.",LAMP PHP configuration
LAMP PHP Configuration," OS: Ubuntu 17.10 (Artful Aardvark) I have installed the LAMP stack and Laravel, and when I tried composer install in my Laravel application, I got the following errors. I have rechecked the files, all extensions are enabled and they are located in the/usr/lib/php/20160303 folder. <code>  - Installation request for phar-io/manifest 1.0.1 -> satisfiable by phar-io/manifest[1.0.1]. - phar-io/manifest 1.0.1 requires ext-dom * -> the requested PHP extension dom is missing from your system.Problem 2 - Installation request for phpunit/php-code-coverage 5.2.2 -> satisfiable by phpunit/php-code-coverage[5.2.2]. - phpunit/php-code-coverage 5.2.2 requires ext-dom * -> the requested PHP extension dom is missing from your system.Problem 3 - Installation request for phpunit/phpunit 6.4.3 -> satisfiable by phpunit/phpunit[6.4.3]. - phpunit/phpunit 6.4.3 requires ext-dom * -> the requested PHP extension dom is missing from your system.Problem 4 - Installation request for theseer/tokenizer 1.1.0 -> satisfiable by theseer/tokenizer[1.1.0]. - theseer/tokenizer 1.1.0 requires ext-dom * -> the requested PHP extension dom is missing from your system.To enable extensions, verify that they are enabled in your .ini files: - /etc/php/7.1/cli/php.ini - /etc/php/7.1/cli/conf.d/10-opcache.ini - /etc/php/7.1/cli/conf.d/10-pdo.ini - /etc/php/7.1/cli/conf.d/20-calendar.ini - /etc/php/7.1/cli/conf.d/20-ctype.ini - /etc/php/7.1/cli/conf.d/20-exif.ini - /etc/php/7.1/cli/conf.d/20-fileinfo.ini - /etc/php/7.1/cli/conf.d/20-ftp.ini - /etc/php/7.1/cli/conf.d/20-gettext.ini - /etc/php/7.1/cli/conf.d/20-iconv.ini - /etc/php/7.1/cli/conf.d/20-json.ini - /etc/php/7.1/cli/conf.d/20-mbstring.ini - /etc/php/7.1/cli/conf.d/20-pdo.ini - /etc/php/7.1/cli/conf.d/20-phar.ini - /etc/php/7.1/cli/conf.d/20-posix.ini - /etc/php/7.1/cli/conf.d/20-readline.ini - /etc/php/7.1/cli/conf.d/20-shmop.ini - /etc/php/7.1/cli/conf.d/20-sockets.ini - /etc/php/7.1/cli/conf.d/20-sysvmsg.ini - /etc/php/7.1/cli/conf.d/20-sysvsem.ini - /etc/php/7.1/cli/conf.d/20-sysvshm.ini - /etc/php/7.1/cli/conf.d/20-tokenizer.iniYou can also run `php --ini` inside terminal to see which files are used by PHP in CLI mode.",LAMP PHP configuration
How to create a variable product programmatically with two new variante attributes?," I would like to programmatically create a variable product (""parent"" product) with two new variante attributes - all that from a WordPress plugin (so no HTTP Request to an API).These two variante attributes should also be created on the fly.How can this be done ?(with WooCommerce version 3)Update : I have written more lines of codes on this that I wished, and tried many things to solve it, using wooCommerce objects, and added missing data about terms, termmeta, the relationship from term with post, in the database using the WordPress database object - but nothing has sufficed to make it work. And I couldn't pin-point where I went wrong - that is why I couldn't provide a narrower problem - things for which stackoverflow is more made for. <code> ",Create programmatically a variable product and two new attributes in WooCommerce
Create programmatically a variable product and two new attributes in Woocommerce," I would like to programmatically create a variable product (""parent"" product) with two new variante attributes - all that from a WordPress plugin (so no HTTP Request to an API).These two variante attributes should also be created on the fly.How can this be done ?(with WooCommerce version 3)Update : I have written more lines of codes on this that I wished, and tried many things to solve it, using wooCommerce objects, and added missing data about terms, termmeta, the relationship from term with post, in the database using the WordPress database object - but nothing has sufficed to make it work. And I couldn't pin-point where I went wrong - that is why I couldn't provide a narrower problem - things for which stackoverflow is more made for. <code> ",Create programmatically a variable product and two new attributes in WooCommerce
codeception in docker-compose - can't find Webdriver," I have somewhere an error in setting the Webdriver for my codeception and just can't figure it out.when starting with it finds the acceptance tests, and even reads the $I->wantTobut then throws an error: my acceptance.suite.yml is the following and I already tried replacing the url with chrome, nginx-web, the ip of the actual server (which does not make sense, but I really don't know what else to put in there) my docker-compose.yml. I set the volumes in an additionl override Any ideas what I am doing wrong? <code>  docker-compose run --rm codeception run [ConnectionException] Can't connect to Webdriver at http://127.0.0.1:4444/wd/hub. Please make sure that Selenium Server or PhantomJS is running. actor: AcceptanceTestermodules: enabled: # selenium webdriver - WebDriver: url: 'http://localhost/' browser: chrome - \Helper\Acceptance version: '2'services: codeception: image: codeception/codeception:2.3.5 depends_on: - nginx-web - php-web - chrome nginx-web: image: nginxext:0.5.6 depends_on: - php-web expose: - 80 php-web: image: phpext:0.7.0 expose: - 9000 # https://github.com/SeleniumHQ/docker-selenium chrome: image: selenium/standalone-chrome-debug:3.7.1 ports: - 4444 - 5900",codeception in docker-compose - can't connect to Webdriver
How to set custom primary Key on models in YII 2," I tried to use this way, but the result is not complete column name. RESULT : SQLSTATE[42S22]: Column not found: 1054 Unknown column 'i' in 'where clause' The SQL being executed was: SELECT * FROM v_material WHERE i='8' <code>  class VMaterial extends \yii\db\ActiveRecord{ /** * @inheritdoc */ public static function tableName() { return 'v_material'; } /** * @inheritdoc$primaryKey */ public static function primaryKey() { return ""id""; }",how to change the primarykey manually on the YII 2 model
Rearrange order details on Woocommerce order email," I am customizing the order email template in WooCommerce and need to make ""Shipping"" second-last in the order details, right above ""total"". I know the loop for this is on line 52 in the ""email-order-details.php"" page from woocommerce>templates>emails, so set it up in my child theme but I'm not sure where to go from there. Here is what I'm trying: <code>  if ( $totals = $order->get_order_item_totals() ) { $i = 0; foreach ( $totals as $total ) { $i++; if($total['label'] === ""Shipping""){ //make second-last above total somehow } else{ ?><tr> <th class=""td"" scope=""row"" colspan=""3"" style=""text-align:<?php echo $text_align; ?>; <?php echo ( 1 === $i ) ? 'border-top-width: 4px;' : ''; ?>""><?php echo $total['label']; ?></th> <td class=""td"" style=""text-align:left; <?php echo ( 1 === $i ) ? 'border-top-width: 4px;' : ''; ?>"" colspan=""1""><?php echo $total['value']; ?></td> </tr><?php } } }",Rearrange order detail totals on WooCommerce email notifications
"http_response_code() not work, always output 200"," I have a page required to output http statusI set http_response_code(400) & try to use postman to post. It always return 200.why http_response_code is not working? <code>  echo http_response_code('400');return ""error"";","http_response_code() not working, always output 200"
How to make each nav-pill validation on click Next button?," I am using nav-pill inside which there is a form and that is split up into each part say as admission details, personal details, family Details with ""Next"" button on each step and save button at last nav-pill. I have tried with button click function while clicking ""Next"" button like: Where button has id ""validateFirst"", Here it shows alert when the admission no input is not filled but moves to the next tab (i.e.) personal details while clicking the next button. The thing i am in the need is while clicking the next button if the fields in the current nav-pill fields are empty (say admission no field is not filled in first nav pill) and clicking the next button, it should display alert and should not move to next nav-pill to rectify the invalid input fields in the current nav-pill.. I had a look around other questions but I couldn't get a clear solution. Kindly help me with a solution to resolve this issue. <code>  $('.btnNext').click(function() { $('.nav-pills > .active').next('li').find('a').trigger('click');});$('.btnPrevious').click(function() { $('.nav-pills > .active').prev('li').find('a').trigger('click');});// Bind the event handler to the ""submit"" JavaScript event$('#validateFirst').click(function() { // Get the Login Name value and trim it var name = $.trim($('#admission_no').val()); // Check if empty or not if (name === '') { alert('Admission No. field is empty.'); return false; }}); <script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script><link href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"" rel=""stylesheet"" /><script src=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js""></script><ul class=""nav nav-pills nav_content""> <li class=""active""><a data-toggle=""pill"" href=""#admission"">Admission Details</a></li> <li><a data-toggle=""pill"" href=""#personal"">Personal Details</a></li> <li><a data-toggle=""pill"" href=""#family"">Family Details</a></li></ul><form id=""form1"" action=""<?php echo site_url('student/create') ?>"" id=""employeeform"" name=""employeeform"" method=""post"" accept-charset=""utf-8"" enctype=""multipart/form-data""> <div class=""tab-content""> <div id=""admission"" class=""tab-pane fade in active""> <div class=""row""> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Admission Number *</label> <input id=""admission_no"" name=""admission_no"" placeholder="""" type=""text"" class=""form-control"" value=""admission_no"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Application Number *</label> <input id=""application_no"" name=""application_no"" placeholder="""" type=""text"" class=""form-control"" value=""application_no"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Academic Year *</label> <input id=""academic_year"" name=""academic_year"" placeholder="""" type=""text"" class=""form-control"" value=""academic_year"" /> </div> </div> </div> <a class=""btn btn-primary btnNext pull-right"" id=""validateFirst"">Next</a> </div> <div id=""personal"" class=""tab-pane fade""> <div class=""row""> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">First Name *</label> <input id=""firstname"" name=""firstname"" placeholder="""" type=""text"" class=""form-control"" value=""firstname"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">DOB *</label> <input id=""dob"" name=""dob"" placeholder="""" type=""text"" class=""form-control"" value=""DOB"" readonly=""readonly"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputFile"">Address *</label> <textarea id=""student_address"" name=""student_address"" placeholder="""" class=""form-control"" rows=""2""></textarea> </div> </div> </div> <a class=""btn btn-primary btnPrevious pull-left"">Previous</a> <a class=""btn btn-primary btnNext pull-right"">Next</a> </div> <div id=""family"" class=""tab-pane fade""> <div class=""row""> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Father Name *</label> <input id=""father_name"" name=""father_name"" placeholder="""" type=""text"" class=""form-control"" value=""father_name"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Father Occupation *</label> <input id=""father_occupation"" name=""father_occupation"" placeholder="""" type=""text"" class=""form-control"" value=""father_occupation"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Mother Name *</label> <input id=""mother_name"" name=""mother_name"" placeholder="""" type=""text"" class=""form-control"" value=""mother_name"" /> </div> </div> </div> <a class=""btn btn-primary btnPrevious pull-left"">Previous</a> <button type=""submit"" class=""btn btn-info pull-right"">Save</button> </div> </div></form> $('#validateFirst').click(function () { // Get the Login Name value and trim it var name = $.trim($('#admission_no').val()); // Check if empty of not if (name === '') { alert('Text-field is empty.'); return false; }}); <a class=""btn btn-primary btnNext pull-right"" id=""validateFirst"">Next</a>",Form validation on click Next Button using bootstrap nav-pill
Form validation on click Next Button," I am using nav-pill inside which there is a form and that is split up into each part say as admission details, personal details, family Details with ""Next"" button on each step and save button at last nav-pill. I have tried with button click function while clicking ""Next"" button like: Where button has id ""validateFirst"", Here it shows alert when the admission no input is not filled but moves to the next tab (i.e.) personal details while clicking the next button. The thing i am in the need is while clicking the next button if the fields in the current nav-pill fields are empty (say admission no field is not filled in first nav pill) and clicking the next button, it should display alert and should not move to next nav-pill to rectify the invalid input fields in the current nav-pill.. I had a look around other questions but I couldn't get a clear solution. Kindly help me with a solution to resolve this issue. <code>  $('.btnNext').click(function() { $('.nav-pills > .active').next('li').find('a').trigger('click');});$('.btnPrevious').click(function() { $('.nav-pills > .active').prev('li').find('a').trigger('click');});// Bind the event handler to the ""submit"" JavaScript event$('#validateFirst').click(function() { // Get the Login Name value and trim it var name = $.trim($('#admission_no').val()); // Check if empty or not if (name === '') { alert('Admission No. field is empty.'); return false; }}); <script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script><link href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"" rel=""stylesheet"" /><script src=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js""></script><ul class=""nav nav-pills nav_content""> <li class=""active""><a data-toggle=""pill"" href=""#admission"">Admission Details</a></li> <li><a data-toggle=""pill"" href=""#personal"">Personal Details</a></li> <li><a data-toggle=""pill"" href=""#family"">Family Details</a></li></ul><form id=""form1"" action=""<?php echo site_url('student/create') ?>"" id=""employeeform"" name=""employeeform"" method=""post"" accept-charset=""utf-8"" enctype=""multipart/form-data""> <div class=""tab-content""> <div id=""admission"" class=""tab-pane fade in active""> <div class=""row""> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Admission Number *</label> <input id=""admission_no"" name=""admission_no"" placeholder="""" type=""text"" class=""form-control"" value=""admission_no"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Application Number *</label> <input id=""application_no"" name=""application_no"" placeholder="""" type=""text"" class=""form-control"" value=""application_no"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Academic Year *</label> <input id=""academic_year"" name=""academic_year"" placeholder="""" type=""text"" class=""form-control"" value=""academic_year"" /> </div> </div> </div> <a class=""btn btn-primary btnNext pull-right"" id=""validateFirst"">Next</a> </div> <div id=""personal"" class=""tab-pane fade""> <div class=""row""> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">First Name *</label> <input id=""firstname"" name=""firstname"" placeholder="""" type=""text"" class=""form-control"" value=""firstname"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">DOB *</label> <input id=""dob"" name=""dob"" placeholder="""" type=""text"" class=""form-control"" value=""DOB"" readonly=""readonly"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputFile"">Address *</label> <textarea id=""student_address"" name=""student_address"" placeholder="""" class=""form-control"" rows=""2""></textarea> </div> </div> </div> <a class=""btn btn-primary btnPrevious pull-left"">Previous</a> <a class=""btn btn-primary btnNext pull-right"">Next</a> </div> <div id=""family"" class=""tab-pane fade""> <div class=""row""> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Father Name *</label> <input id=""father_name"" name=""father_name"" placeholder="""" type=""text"" class=""form-control"" value=""father_name"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Father Occupation *</label> <input id=""father_occupation"" name=""father_occupation"" placeholder="""" type=""text"" class=""form-control"" value=""father_occupation"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Mother Name *</label> <input id=""mother_name"" name=""mother_name"" placeholder="""" type=""text"" class=""form-control"" value=""mother_name"" /> </div> </div> </div> <a class=""btn btn-primary btnPrevious pull-left"">Previous</a> <button type=""submit"" class=""btn btn-info pull-right"">Save</button> </div> </div></form> $('#validateFirst').click(function () { // Get the Login Name value and trim it var name = $.trim($('#admission_no').val()); // Check if empty of not if (name === '') { alert('Text-field is empty.'); return false; }}); <a class=""btn btn-primary btnNext pull-right"" id=""validateFirst"">Next</a>",Form validation on click Next Button using bootstrap nav-pill
Form validation on click Next Button in bootstrap nav-pill," I am using nav-pill inside which there is a form and that is split up into each part say as admission details, personal details, family Details with ""Next"" button on each step and save button at last nav-pill. I have tried with button click function while clicking ""Next"" button like: Where button has id ""validateFirst"", Here it shows alert when the admission no input is not filled but moves to the next tab (i.e.) personal details while clicking the next button. The thing i am in the need is while clicking the next button if the fields in the current nav-pill fields are empty (say admission no field is not filled in first nav pill) and clicking the next button, it should display alert and should not move to next nav-pill to rectify the invalid input fields in the current nav-pill.. I had a look around other questions but I couldn't get a clear solution. Kindly help me with a solution to resolve this issue. <code>  $('.btnNext').click(function() { $('.nav-pills > .active').next('li').find('a').trigger('click');});$('.btnPrevious').click(function() { $('.nav-pills > .active').prev('li').find('a').trigger('click');});// Bind the event handler to the ""submit"" JavaScript event$('#validateFirst').click(function() { // Get the Login Name value and trim it var name = $.trim($('#admission_no').val()); // Check if empty or not if (name === '') { alert('Admission No. field is empty.'); return false; }}); <script src=""https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js""></script><link href=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"" rel=""stylesheet"" /><script src=""https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js""></script><ul class=""nav nav-pills nav_content""> <li class=""active""><a data-toggle=""pill"" href=""#admission"">Admission Details</a></li> <li><a data-toggle=""pill"" href=""#personal"">Personal Details</a></li> <li><a data-toggle=""pill"" href=""#family"">Family Details</a></li></ul><form id=""form1"" action=""<?php echo site_url('student/create') ?>"" id=""employeeform"" name=""employeeform"" method=""post"" accept-charset=""utf-8"" enctype=""multipart/form-data""> <div class=""tab-content""> <div id=""admission"" class=""tab-pane fade in active""> <div class=""row""> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Admission Number *</label> <input id=""admission_no"" name=""admission_no"" placeholder="""" type=""text"" class=""form-control"" value=""admission_no"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Application Number *</label> <input id=""application_no"" name=""application_no"" placeholder="""" type=""text"" class=""form-control"" value=""application_no"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Academic Year *</label> <input id=""academic_year"" name=""academic_year"" placeholder="""" type=""text"" class=""form-control"" value=""academic_year"" /> </div> </div> </div> <a class=""btn btn-primary btnNext pull-right"" id=""validateFirst"">Next</a> </div> <div id=""personal"" class=""tab-pane fade""> <div class=""row""> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">First Name *</label> <input id=""firstname"" name=""firstname"" placeholder="""" type=""text"" class=""form-control"" value=""firstname"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">DOB *</label> <input id=""dob"" name=""dob"" placeholder="""" type=""text"" class=""form-control"" value=""DOB"" readonly=""readonly"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputFile"">Address *</label> <textarea id=""student_address"" name=""student_address"" placeholder="""" class=""form-control"" rows=""2""></textarea> </div> </div> </div> <a class=""btn btn-primary btnPrevious pull-left"">Previous</a> <a class=""btn btn-primary btnNext pull-right"">Next</a> </div> <div id=""family"" class=""tab-pane fade""> <div class=""row""> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Father Name *</label> <input id=""father_name"" name=""father_name"" placeholder="""" type=""text"" class=""form-control"" value=""father_name"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Father Occupation *</label> <input id=""father_occupation"" name=""father_occupation"" placeholder="""" type=""text"" class=""form-control"" value=""father_occupation"" /> </div> </div> <div class=""col-md-3""> <div class=""form-group""> <label for=""exampleInputEmail1"">Mother Name *</label> <input id=""mother_name"" name=""mother_name"" placeholder="""" type=""text"" class=""form-control"" value=""mother_name"" /> </div> </div> </div> <a class=""btn btn-primary btnPrevious pull-left"">Previous</a> <button type=""submit"" class=""btn btn-info pull-right"">Save</button> </div> </div></form> $('#validateFirst').click(function () { // Get the Login Name value and trim it var name = $.trim($('#admission_no').val()); // Check if empty of not if (name === '') { alert('Text-field is empty.'); return false; }}); <a class=""btn btn-primary btnNext pull-right"" id=""validateFirst"">Next</a>",Form validation on click Next Button using bootstrap nav-pill
PHPSpreadsheet: number of loaded rows?, How do I find out how many rows I have loaded using PHPSpreadsheet\Reader\Xlsx::load() method?I cannot find methods (or properties) for getting row count in Spreadsheet or Worksheet classes either.BTW I am using following code: <code>  $filename = 'test.xlsx';$inputFileType = \PhpOffice\PhpSpreadsheet\IOFactory::identify($filename);$reader = \PhpOffice\PhpSpreadsheet\IOFactory::createReader($inputFileType);$reader->setReadDataOnly(true); $reader->setLoadSheetsOnly($sheet); $this->spreadsheet = $reader->load($filename);$this->worksheet = $this->spreadsheet->getActiveSheet();,PHPSpreadsheet: how to get the number of loaded rows?
Request fails due to CORS from localhost," I have seen dozens of questions on SO and different blogs talking about this with ""answers"" -- all to no avail.I have a React.js app on my local machine (Ubuntu 16.04). Locally, I try to test it by running npm start and it opens up the browser to http://localhost:3000.On one page, I am trying to access my PHP api which is on my shared hosting server.Chrome and Firefox both say that it fails due to server not having Access-Control-Allow-Orgin.Exact Message: However, upon my php server entry point I do have: Here is where I make my api call in my react app: I have tried this on both Chrome and Firefox; I have also tried to alias my server away from localhost. I have tried the no-cors approach, which does get me access -- but breaks everything of course. I have tried with and without passing headers along with my fetch request.UPDATE:I did get it to work by installing this Chrome plugin. I feel this is a workaround and would like to know if there is a coding answer here. <code>  Failed to load http://---/api/v1/categories: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost.com:3000' is therefore not allowed access. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.localhost.com/:1 Uncaught (in promise) TypeError: Failed to fetch header(""Access-Control-Allow-Orgin: *"");header(""Access-Control-Allow-Methods: *""); componentDidMount() { var options = { method: 'get', headers: { ""Access-Control-Request-Headers"": ""*"", ""Access-Control-Request-Method"": ""*"" }, } // I have since removed the headers from the options as advised in the comments fetch('http://---/api/v1/categories', options) .then(results => { return results.json(); }).then(data => { let categories = data.map((category) => { return( // edited out ) }) this.setState({categories: categories}); }) }}",Request fails due to CORS issue with origin from localhost
Having PHP site point to a different path then one that is in the code," I am running a PHP site on Windows using Wampserver. All throughout the site there is a hardcoded line such as: I know this is bad practice to begin with but it is out of my control.When the site runs is there any possible way I can trick the site to point to C:\wamp64\bin\apache\apache2.4.27\myconfigs\settings.ini whenever the code is looking for /usr/local/apache2/myconfigs/settings.ini in the parse_ini_file function? <code>  $settings = parse_ini_file(""/usr/local/apache2/myconfigs/settings.ini"", true);",Having PHP site point to a different path than one that is in the code
WooCommerce custom single product page," I'm trying to use a custom page for only one of the products in the woocommerce shop. I've been trying to apply the attached function but without success (which code is coming from this answer).I have a created a copy of the single-product.php file in my /woocommerce folder with some added code, but the single product view only shows the ""standard"" single-product-php and not my single-product-mock.php file.And the product does have the product category ""custom"". <code>  add_filter( 'template_include', 'so_43621049_template_include', 10 );function so_43621049_template_include( $template ) { if ( is_singular('product') && (has_term( 'custom', 'product_cat')) ) { $template = get_stylesheet_directory() . '/woocommerce/single-product-mock.php'; } retur",Using a custom single product template for a specific product category in Woocommerce
Woocommerce Add Text under Single Product Short Description," I want to add some Global Text immediately under the Product Short Description in Woo Commerce, before the product options.I can change the file directly, but of course as soon as it updates it gets over written.Is there another way of doing this? <code> ",Add Text under Single Product Short Description in Woocommerce
Laravel 5.6 and VueJS API requests with axios always unauthorized," I'm working on a personal project using Laravel 5.6 and Axios library (standard Laravel 5.6 package). I need to send first GET then POST request using Laravel's API and axios' http requests, but I'm not using Passport or any library like that since it's an internal API serving only VueJS to obtain stuff from the database.If I set my API routes using auth:api middleware, I always get unauthorized response, whichever is the request type, this is the error output : Error: Request failed with status code 401The message : But, as I read in the documentation, axios headers are set inside laravel's bootstrap.js to read the authorization token from meta tags (and the code is there) : While, if needed, here's the http request code : So, why am I unauthenticated if those are set?I've tried removing the auth:api middleware and, of course, it's working: What am I doing wrong? <code>  message: ""Unauthenticated."" window.axios = require('axios');window.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';// further down the file...let token = document.head.querySelector('meta[name=""csrf-token""]');if (token) { window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;} else { console.error('CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token');} axios.post('/api/latest', formData) - Route::middleware('auth:api')->get('/latest', 'InternalApiController@latestEp');+ Route::get('/latest', 'InternalApiController@latestEp');",API requests with axios always unauthorized with Laravel API
Telegram API newline in code block," I want to send an message via the Telegram API in a <pre> block or ``` (HTML or markdown parse mode, I have no preference).The text is a long string with some line breaks. To make it easy to read I want to send it as code. The new lines are in the \n format, so the Telegram API can handle that. But in the code block I can't see the newlines. I've used other bots that can send me some lines in a code block, so I'm reasobaly sure it's possible. Can somebody help me with this?This is the code that I'm currently using: Where message is something like this:  <code>  $url = ""https://api.telegram.org/$telegram_apikey/sendMessage?chat_id=$telegram_chatid&parse_mode=Markdown&text=```"" . $message .""```""; $telegramResult = file_get_contents($url); -------------------------------------------- \n------------ IMPORT RESULTS ---------------- \n-------------------------------------------- \nProduct count: 12345 \nCreated: 1234 \nTotal time: 200 \n-------------------------------------------- \n","Telegram REST API, send newline in message text?"
AJAX the add to cart button of variable products in WooCommerce," I have this button here. The use of this button is to add to cart a product has a product id of 237, variation id of 208673, and attribute_pa_option of bluetooth. Is there a way to AJAX this? <code>  <div class=""btnss""> <span class=""price""> <span class=""woocommerce-Price-amount amount"">6,999&nbsp; <span class=""woocommerce-Price-currencySymbol"">kr</span> </span> </span> <div class=""quantity buttons_added""> <input type=""button"" value=""-"" class=""minus""> <label class=""screen-reader-text"" for=""quantity_5b101f605f067"">Quantity</label> <input type=""number"" id=""quantity_5b101f605f067"" class=""input-text qty text"" step=""1"" min=""1"" max="""" name=""quantity"" value=""1"" title=""Qty"" size=""4"" pattern=""[0-9]*"" inputmode=""numeric"" aria-labelledby=""""> <input type=""button"" value=""+"" class=""plus""> </div> <a href=""/?add-to-cart=237&variation_id=208673&attribute_pa_option=bluetooth"" class=""button product_type_simple add_to_cart_button ajax_add_to_cart"">Add to cart</a></div>",Ajax add to cart button for product variation in WooCommerce 3
"Using PHP Faker to generate ""unique with"" entry"," So Similar to the unique with validation rule (See: https://github.com/felixkiss/uniquewith-validator), I want to know how to generate a entry, where one column is unique with another one. I want to seed my database as follows.Example:There are 12 steps in the ""steps"" table. Each step should have 5 categories associated with each one that are stored in the ""step_categories"" table. Each of those categories are assigned a unique order number 1 through 5 that is unique with each ""step_id"".See this image here for an example of what the database should look like: https://imgur.com/a/XYA5yynI had to manually to make the entries in the database for the above image example. I don't want to have to generate this manually every time, say I make a mistake and have to rollback the migrations for example.I am using a factory to generate this data. So the factory name is StepCategoriesFactory.php and clearly I'm calling the factory with the create() method from the DatabaseSeeder.php file.I thought about doing this in a for loop, then i got as far as realizing when i called the 'step_id' => App\Model::all()->random()->id to grab a new id, that I wouldn't be able to ensure I wasn't grabbing the id that i just generated 5 entries for. I'm really new with Laravel, and I'm not sure where to even start on this. There's no real information on SO where faker can use the unique with another column. How would I Go about this?NOTE: The step id is not always going to be 1-12. The step ID might be different depending on whether a step gets deleted and remade. So just assigning the step_id to equal 1-12 wont work.UPDATE: Here's some code I just wrote, and I think I'm on the right track. Maybe. I've grabbed the step_id by it's number field as that will always be 1-12, and I've grabbed the IID out of the entry. But now I'm stuck on how to generate the order 1-5 without repeating itself. I still haven't run this yet as its incomplete and I know it'll throw an error without the correct order number.UPDATE 2: I think I'm on the right track here. However I'm getting an undefined variable error. When I put the first line from within the anonymous function, it's resetting the order to ""1"" for every entry. How do i make the $autoIncrement variable available to the anonymous function? The Seeder has stayed the same between updates.Image of the error: https://imgur.com/a/ywkd0LbSecond image with the Die/Dump error in terminal: https://imgur.com/a/rOGRv32Reference this article here: https://laracasts.com/discuss/channels/laravel/model-factory-increment-value-faker?page=1UPDATE 3: I forgot the use ($autoIncrement) line of code for the anonymous function. Code below has been updated, but now I'm getting a different error saying that the order column has a null value and can't be inserted. clearly it should be '1'. Even after I call my $autoIncrement->next(); which should increment it to '1' it's still returning null according to the terminal. However, when I do a diedump on $autoIncrement->current() it's returning 1. Weird.Update 3 error: https://imgur.com/a/STOmIjFStepCategoriesFactory.php Edit: Put a bounty on this question, as I think it would be helpful for the community to get a detailed answer. I'm looking for help to explain how to go about making sure I'm grabbing the same entry through each loop. <code>  use Faker\Generator as Faker;$autoIncrement = autoIncrement();$factory->define(App\StepCategory::class, function (Faker $faker) use ($autoIncrement) { // Generate Created At and Updated at DATETIME $DateTime = $faker->dateTime($max = 'now'); $autoIncrement->next(); $order = (int) $autoIncrement->current(); return [ // Generate Dummy Data 'order' => $order, 'name' => $faker->words(4, true), 'created_at' => $DateTime, 'updated_at' => $DateTime, ];});function autoIncrement(){ for ($i = 0; $i < 5; $i++) { yield $i; }}","Using PHP Faker in Laravel to generate ""unique with"" entry when seeding a database using a factory"
Mock Laravel environment in test," I'm implementing some logic that requires code to behave differently in a production environment.I want to write a test that asserts this actually happens, but I'm having difficulty mocking the environment.I've seen it suggested to use putenv('APP_ENV=production'); but it doesn't seem to work.How can I make the test pass? Result Time: 160 ms, Memory: 18.00MB There was 1 failure: 1) EnvTest::testEnv Failed asserting that two strings are equal. --- Expected +++ Actual @@ @@ -'production' +'testing' <code>  use Illuminate\Support\Facades\App;use Tests\TestCase;class EnvTest extends TestCase{ public function testEnv() { // This assertion is fine $env = App::environment(); $this->assertEquals('testing', $env); putenv('APP_ENV=production'); // This assertion fails $env = App::environment(); $this->assertEquals('production', $env); }}",Mocking laravel environment in test
execut command give top: failed tty get, I have a problem when executing this line shown below. It gives me a error top: failed tty get. When I try it with php -f it gives me another problem similar to php --help. The result that I want is to execute command with success not error I execute this command with SSH in a PHP script. <code>  sudo /usr/bin/env TERM=xterm /usr/bin/php /home/folder/folder/script.php -b val -a 2018-07-01 [0] => Array ( [error] => 1 [return] => top: failed tty get ),Execute command give top: failed tty get
WooCommerce Custom Payment Gateway additional field on checkout," I have a custom Woocommerce payment gateway and I need to add additional field on the checkout when the payment is selected.Basically, when the users click the custom payment gateway a ""select"" field should appear and they have to choose something from the select field.I have attached a screenshot to represent better the idea of what I need to do. Unfortunately, I couldn't find any info about that in the Docs. <code> ",Additional field on checkout for specific payment gateway in Woocommerce
How to disable Gutenberg editor for certain post types?, WordPress added Gutenberg / block editor in its 5th version and it's enabled by default for Post and Page post types.It might be enabled by default for all custom post types in close future so as a WordPress developer I want to know how to disable this editor for my own custom post types? I want to keep classic editor for the post types that I registered from my plugins or themes. <code> ,How to disable Gutenberg / block editor for certain post types?
Laravel - Refactoring User Permission Gate Define Code Into a new Service Provider," So what i'm basically trying to do is refactor my long bit of code to something more simpler. I found this snippet of code at this website and I don't really understand what's going on inside the code. I don't think that this snippet of code will work considering I am using different policies and methods then what's standard.Code Snippet From Site: Can someone please explain what exactly is going on in this bit of code?My Code: Is there a way to do this as a foreach loop from my permissions table? Here's some Pseudo code: Question: Any way to make my code more compact and easier to read like the code snippet from the website? <code>  //PermissionsServiceProvider.php public function boot() { Permission::get()->map(function($permission){ Gate::define($permission->slug, function($user) use ($permission){ return $user->hasPermissionTo($permission); }); }); } // Posts PolicyGate::define('post.view', 'App\Policies\Blog\PostsPolicy@view');Gate::define('post.create', 'App\Policies\Blog\PostsPolicy@create');Gate::define('post.update', 'App\Policies\Blog\PostsPolicy@update');Gate::define('post.delete', 'App\Policies\Blog\PostsPolicy@delete');Gate::define('post.publish', 'App\Policies\Blog\PostsPolicy@publish');Gate::define('post.edit', 'App\Policies\Blog\PostsPolicy@edit');Gate::define('post.global', 'App\Policies\Blog\PostsPolicy@global');// Categories PolicyGate::define('category.view', 'App\Policies\Blog\CategoriesPolicy@view');Gate::define('category.create', 'App\Policies\Blog\CategoriesPolicy@create');Gate::define('category.update', 'App\Policies\Blog\CategoriesPolicy@update');Gate::define('category.delete', 'App\Policies\Blog\CategoriesPolicy@delete');Gate::define('category.edit', 'App\Policies\Blog\CategoriesPolicy@edit');Gate::define('category.global', 'App\Policies\Blog\CategoriesPolicy@global');// Tags PolicyGate::define('tag.view', 'App\Policies\Blog\TagsPolicy@view');Gate::define('tag.create', 'App\Policies\Blog\TagsPolicy@create');Gate::define('tag.update', 'App\Policies\Blog\TagsPolicy@update');Gate::define('tag.delete', 'App\Policies\Blog\TagsPolicy@delete');Gate::define('tag.edit', 'App\Policies\Blog\TagsPolicy@edit');Gate::define('tag.global', 'App\Policies\Blog\TagsPolicy@global');// Parts Section PolicyGate::define('part.section.view', 'App\Policies\Parts\PartSectionsPolicy@view');Gate::define('part.section.create', 'App\Policies\Parts\PartSectionsPolicy@create');Gate::define('part.section.update', 'App\Policies\Parts\PartSectionsPolicy@update');Gate::define('part.section.delete', 'App\Policies\Parts\PartSectionsPolicy@delete');Gate::define('part.section.edit', 'App\Policies\Parts\PartSectionsPolicy@edit');Gate::define('part.section.global', 'App\Policies\Parts\PartSectionsPolicy@global');// Parts PolicyGate::define('part.view', 'App\Policies\Parts\PartsPolicy@view');Gate::define('part.create', 'App\Policies\Parts\PartsPolicy@create');Gate::define('part.update', 'App\Policies\Parts\PartsPolicy@update');Gate::define('part.delete', 'App\Policies\Parts\PartsPolicy@delete');Gate::define('part.edit', 'App\Policies\Parts\PartsPolicy@edit');Gate::define('part.global', 'App\Policies\Parts\PartsPolicy@global');// Admin Management PolicyGate::define('admin.global', 'App\Policies\AdminManagementPolicy@global');// User Management PolicyGate::define('user.global', 'App\Policies\UserManagementPolicy@global'); foreach($permissions as $permission) { Gate::define($permission->slug, 'App\Policies\' . $permission->category . 'Policy@' . $permission->name);}","Laravel - Refactoring User Permission ""Gate::Define"" Code Into Easier to Read Code"
"[PHP]Fatal error: Cannot declare class Error, because the name is already in use"," I don't understand why my machine running PHP 7.2.9 gives this error: Fatal error: Cannot declare class Error, because the name is already in use in controllers\error.php on line 3I have a file named controllers/error.php which contains: Meanwhile, I have a file named /index.php which contains: Even if I change from require to require_once ""controllers/error.php"", it still keeping reporting the same message. <code>  <?phpclass Error { function __construct() { echo 'Error: 404 not found the file.'; }} require ""controllers/error.php"";$controller = new Error;","Fatal error: Cannot declare class Error, because the name is already in use"
Laravel 5.5 testing blade, I have the following in my blade... I want to test to ensure that the Vue.js component is always mounted in my tests... Basically I'mm looking forward to testing that the blade has <contact-form>. How should I proceed? <code>  <div> <contact-form></contact-form></div> public function testRoute(){ $this->visit('/'); //stuck here},Laravel 5.5 & Vue.js Blade Testing
Woocommerce: Invalid argument supplied for foreach() in get_variation_prices function in class-wc-product-variable.php file," I'm creating a type of variable product customized for my theme, I've managed to appear in the dropdown of product data and that can be saved without causing conflict. The problem is that seeing the product in frontend gives me the following error: Warning: Invalid argument supplied for foreach() in /Applications/MAMP/htdocs/canopy/wp-content/plugins/Woocommerce/includes/class-wc-product-variable.php on line 83I have traced the problem to the file Wordpress/includes/data-stores/class-wc-product-variable-data-store-cpt.php but the truth is that I do not know what else to do.I leave the code that I wrote for this:WC_Product_variable_canopytour.php class-woocommerce-custom-product.php functions.php I hope someone can help me understand what happens :(Thank you! <code>  class WC_Product_Variable_CanopyTour extends WC_Product_Variable { public function __construct( $product ) { $this->product_type = 'variable_canopytour'; parent::__construct( $product ); } public function get_type() { return 'variable_canopytour'; }} class WCB_Woocommerce_CanopyTour_Product_Type { private $wcb; private $version; public function __construct( $wcb, $version ) { $this->wcb = $wcb; $this->version = $version; } public function register_canopytour_product_type() { remove_action( 'woocommerce_single_product_summary', 'woocommerce_template_single_price', 10 ); include_once(get_template_directory() . 'woocommerce/WC_Product_variable_canopytour.php'); } public function add_canopytour_product( $types ) { $types[ 'variable_canopytour' ] = __( 'Variable Canopy Tour', $this->wcb ); return $types; } public function get_tour_product_class($classname, $product_type) { if ( $product_type === ""variable_canopytour"" ) { $classname = 'WC_Product_Variable_CanopyTour'; } return $classname; } public function wcb_admin_footer() { if ( 'product' != get_post_type() ) : return; endif; ?><script type='text/javascript'> jQuery( document ).ready( function() { jQuery( '.options_group.pricing' ).addClass( 'show_if_variable_canopytour show_if_simple show_if_external' ).show(); jQuery( 'li.general_options.general_tab' ).addClass( 'show_if_variable_canopytour show_if_simple show_if_external' ).show(); jQuery( '.variations_options.variations_tab' ).addClass( 'show_if_variable_canopytour' ).show(); jQuery( '.enable_variation' ).addClass( 'show_if_variable_canopytour' ).show(); }); </script><?php } function hide_wcb_data_panel( $tabs) { // Other default values for 'attribute' are; general, inventory, shipping, linked_product, variations, advanced $tabs['shipping']['class'][] = 'hide_if_variable_canopytour'; return $tabs; }} include_once get_template_directory() . 'includes/woocommerce/class-woocommerce-custom-product.php';$woo_ct = new WCB_Woocommerce_CanopyTour_Product_Type( ""wcb"", ""1.0"" );add_action( 'init', array($woo_ct, 'register_canopytour_product_type') );add_filter( 'product_type_selector', array($woo_ct, 'add_canopytour_product') );add_filter( 'woocommerce_product_class', array($woo_ct, 'get_tour_product_class'), 10, 2 ); add_action( 'admin_head', array($woo_ct, 'wcb_admin_head') );add_filter( 'woocommerce_product_data_tabs', array($woo_ct, 'hide_wcb_data_panel') );",Woocommerce: Invalid argument supplied for foreach() in class-wc-product-variable.php file
How to access the protected data inside wc_get_product()?," I have this answer for reference: Woocommerce Get Product Values by ID It is about the function wc_get_product() that returns protected data.Where are the getter methods defined for that function? How can i access the protected data inside wc_get_product()?This Answer thread is telling that WC_Product_Factory class is being used. Can this class be extended to access the protected data inside wc_get_product()?The wc_get_product() seems to be a function, but how does it return an object? <code> ",Accessing WC_Product protected data in Woocommerce 3
How to access the protected data inside from wc_get_product() in Woocommerce," I have this answer for reference: Woocommerce Get Product Values by ID It is about the function wc_get_product() that returns protected data.Where are the getter methods defined for that function? How can i access the protected data inside wc_get_product()?This Answer thread is telling that WC_Product_Factory class is being used. Can this class be extended to access the protected data inside wc_get_product()?The wc_get_product() seems to be a function, but how does it return an object? <code> ",Accessing WC_Product protected data in Woocommerce 3
Access WC_Product protected data from wc_get_product() in Woocommerce 3," I have this answer for reference: Woocommerce Get Product Values by ID It is about the function wc_get_product() that returns protected data.Where are the getter methods defined for that function? How can i access the protected data inside wc_get_product()?This Answer thread is telling that WC_Product_Factory class is being used. Can this class be extended to access the protected data inside wc_get_product()?The wc_get_product() seems to be a function, but how does it return an object? <code> ",Accessing WC_Product protected data in Woocommerce 3
A problem with creating a woocommerce product via code," I'd like to create a new Woocommerce product programmatically with PHP code and I have tried it with the Woocommerce 3 CRUD methods: But I get this error: 22-Oct-2018 20:25:19 UTC] PHP Fatal error: Uncaught Error: Class 'WC_Product_Simple' not found in /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-content/plugins/ff-dropship-data-scraper/ff-dropship-data-scraper.php:165 Stack trace: - #0 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-content/plugins/ff-dropship-data-scraper/ff-dropship-data-scraper.php(233): curl_download('https://www.ban...') - #1 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-settings.php(305): include_once('/home/u1771p590...') - #2 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-config.php(112): require_once('/home/u1771p590...') - #3 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-load.php(37): require_once('/home/u1771p590...') - #4 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-admin/admin.php(31): require_once('/home/u1771p590...') - #5 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-admin/index.php(10): require_once('/home/u1771p590...') - #6 {main} thrown in /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-content/plugins/ff-dropship-data-scraper/ff-dropship-data-scraper.php on line 165I have tried to include the simple product class, but that produced another error which said that another class was missing.Does somebody know how to fix this? Or has another method to create a woocommerce product via code? <code>  //Woocommerce CRUD$objProduct = new WC_Product_Simple();$objProduct->set_name('My Product 1'); //Set product name.$objProduct->set_status('publish'); //Set product status.//$objProduct->set_featured(FALSE); //Set if the product is featured. | bool$objProduct->set_catalog_visibility('visible'); //Set catalog visibility. | string $visibility Options: 'hidden', 'visible', 'search' and 'catalog'.$objProduct->set_description('My custom long description'); //Set product description.//$objProduct->set_short_description('My short description'); //Set product short description.//$objProduct->set_sku('U-123'); //Set SKU$objProduct->set_price(5.00); //Set the product's active price.//$objProduct->set_regular_price(5.00); //Set the product's regular price.//$objProduct->set_sale_price(); //Set the product's sale price.//$objProduct->set_date_on_sale_from(); //Set date on sale from. | string|integer|null $date UTC timestamp, or ISO 8601 DateTime. If the DateTime string has no timezone or offset, WordPress site timezone will be assumed. Null if their is no date.//$objProduct->set_date_on_sale_to();//Set date on sale to. | string|integer|null $date UTC timestamp, or ISO 8601 DateTime. If the DateTime string has no timezone or offset, WordPress site timezone will be assumed. Null if their is no date.//$objProduct->set_manage_stock(TRUE); //Set if product manage stock. | bool//$objProduct->set_stock_quantity(10); //Set number of items available for sale.//$objProduct->set_stock_status('instock'); //Set stock status. | string $status 'instock', 'outofstock' and 'onbackorder'//$objProduct->set_backorders('no'); //Set backorders. | string $backorders Options: 'yes', 'no' or 'notify'.//$objProduct->set_sold_individually(FALSE); //Set if should be sold individually. | bool//$objProduct->set_weight(); //Set the product's weight.//$objProduct->set_length(); //Set the product length.//$objProduct->set_width(); //Set the product width.//$objProduct->set_height(); //Set the product height.//$objProduct->set_upsell_ids($upsell_ids); //Set upsell IDs. | array $upsell_ids IDs from the up-sell products.//$objProduct->set_cross_sell_ids($cross_sell_ids); //Set crosssell IDs. | array $cross_sell_ids IDs from the cross-sell products.$objProduct->set_reviews_allowed(TRUE); //Set if reviews is allowed. | bool//$objProduct->set_purchase_note($purchase_note); //Set purchase note. | string $purchase_note Purchase note.$attribute = new WC_Product_Attribute();$attribute->set_id(wc_attribute_taxonomy_id_by_name('pa_color')); //if passing the attribute name to get the ID$attribute->set_name('pa_color'); //attribute name$attribute->set_options('red'); // attribute value$attribute->set_position(1); //attribute display order$attribute->set_visible(1); //attribute visiblity$attribute->set_variation(0);//to use this attribute as varint or not$raw_attributes[] = $attribute; //<--- storing the attribute in an array$attribute = new WC_Product_Attribute();$attribute->set_id(25);$attribute->set_name('pa_size');$attribute->set_options('XL');$attribute->set_position(2);$attribute->set_visible(1);$attribute->set_variation(0);$raw_attributes[] = $attribute; //<--- storing the attribute in an array$objProduct->set_attributes($raw_attributes); //Set product attributes. | array $raw_attributes Array of WC_Product_Attribute objects.//$objProduct->set_category_ids($term_ids); //Set the product categories. | array $term_ids List of terms IDs.//$objProduct->set_tag_ids($term_ids); //Set the product tags. | array $term_ids List of terms IDs.//$objProduct->set_image_id(); //Set main image ID. | int|string $image_id Product image id.//$objProduct->set_gallery_image_ids(); //Set gallery attachment ids. | array $image_ids List of image ids.$new_product_id = $objProduct->save(); //Saving the data to create new product, it will return product ID.return;}",Create programmatically a product using CRUD methods in Woocommerce 3
Creating programmatically a product using Crud methods in Woocommerce 3," I'd like to create a new Woocommerce product programmatically with PHP code and I have tried it with the Woocommerce 3 CRUD methods: But I get this error: 22-Oct-2018 20:25:19 UTC] PHP Fatal error: Uncaught Error: Class 'WC_Product_Simple' not found in /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-content/plugins/ff-dropship-data-scraper/ff-dropship-data-scraper.php:165 Stack trace: - #0 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-content/plugins/ff-dropship-data-scraper/ff-dropship-data-scraper.php(233): curl_download('https://www.ban...') - #1 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-settings.php(305): include_once('/home/u1771p590...') - #2 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-config.php(112): require_once('/home/u1771p590...') - #3 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-load.php(37): require_once('/home/u1771p590...') - #4 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-admin/admin.php(31): require_once('/home/u1771p590...') - #5 /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-admin/index.php(10): require_once('/home/u1771p590...') - #6 {main} thrown in /home/u1771p590/domains/famyfuerza.com/public_html/store/wp-content/plugins/ff-dropship-data-scraper/ff-dropship-data-scraper.php on line 165I have tried to include the simple product class, but that produced another error which said that another class was missing.Does somebody know how to fix this? Or has another method to create a woocommerce product via code? <code>  //Woocommerce CRUD$objProduct = new WC_Product_Simple();$objProduct->set_name('My Product 1'); //Set product name.$objProduct->set_status('publish'); //Set product status.//$objProduct->set_featured(FALSE); //Set if the product is featured. | bool$objProduct->set_catalog_visibility('visible'); //Set catalog visibility. | string $visibility Options: 'hidden', 'visible', 'search' and 'catalog'.$objProduct->set_description('My custom long description'); //Set product description.//$objProduct->set_short_description('My short description'); //Set product short description.//$objProduct->set_sku('U-123'); //Set SKU$objProduct->set_price(5.00); //Set the product's active price.//$objProduct->set_regular_price(5.00); //Set the product's regular price.//$objProduct->set_sale_price(); //Set the product's sale price.//$objProduct->set_date_on_sale_from(); //Set date on sale from. | string|integer|null $date UTC timestamp, or ISO 8601 DateTime. If the DateTime string has no timezone or offset, WordPress site timezone will be assumed. Null if their is no date.//$objProduct->set_date_on_sale_to();//Set date on sale to. | string|integer|null $date UTC timestamp, or ISO 8601 DateTime. If the DateTime string has no timezone or offset, WordPress site timezone will be assumed. Null if their is no date.//$objProduct->set_manage_stock(TRUE); //Set if product manage stock. | bool//$objProduct->set_stock_quantity(10); //Set number of items available for sale.//$objProduct->set_stock_status('instock'); //Set stock status. | string $status 'instock', 'outofstock' and 'onbackorder'//$objProduct->set_backorders('no'); //Set backorders. | string $backorders Options: 'yes', 'no' or 'notify'.//$objProduct->set_sold_individually(FALSE); //Set if should be sold individually. | bool//$objProduct->set_weight(); //Set the product's weight.//$objProduct->set_length(); //Set the product length.//$objProduct->set_width(); //Set the product width.//$objProduct->set_height(); //Set the product height.//$objProduct->set_upsell_ids($upsell_ids); //Set upsell IDs. | array $upsell_ids IDs from the up-sell products.//$objProduct->set_cross_sell_ids($cross_sell_ids); //Set crosssell IDs. | array $cross_sell_ids IDs from the cross-sell products.$objProduct->set_reviews_allowed(TRUE); //Set if reviews is allowed. | bool//$objProduct->set_purchase_note($purchase_note); //Set purchase note. | string $purchase_note Purchase note.$attribute = new WC_Product_Attribute();$attribute->set_id(wc_attribute_taxonomy_id_by_name('pa_color')); //if passing the attribute name to get the ID$attribute->set_name('pa_color'); //attribute name$attribute->set_options('red'); // attribute value$attribute->set_position(1); //attribute display order$attribute->set_visible(1); //attribute visiblity$attribute->set_variation(0);//to use this attribute as varint or not$raw_attributes[] = $attribute; //<--- storing the attribute in an array$attribute = new WC_Product_Attribute();$attribute->set_id(25);$attribute->set_name('pa_size');$attribute->set_options('XL');$attribute->set_position(2);$attribute->set_visible(1);$attribute->set_variation(0);$raw_attributes[] = $attribute; //<--- storing the attribute in an array$objProduct->set_attributes($raw_attributes); //Set product attributes. | array $raw_attributes Array of WC_Product_Attribute objects.//$objProduct->set_category_ids($term_ids); //Set the product categories. | array $term_ids List of terms IDs.//$objProduct->set_tag_ids($term_ids); //Set the product tags. | array $term_ids List of terms IDs.//$objProduct->set_image_id(); //Set main image ID. | int|string $image_id Product image id.//$objProduct->set_gallery_image_ids(); //Set gallery attachment ids. | array $image_ids List of image ids.$new_product_id = $objProduct->save(); //Saving the data to create new product, it will return product ID.return;}",Create programmatically a product using CRUD methods in Woocommerce 3
Woocommerce display regular price of variable products," I found a lot of answers, but none works for a variable products. I would like to display both, sales price and regular price for variable products. This is working, but only if it is a normal product. I think there must be a possibility even for product variations, but I don't find it.Any help is appreciated <code>  global $product;if( $product->is_on_sale() ) { $sale_price = $product->get_sale_price();}$regular_price = $product->get_regular_price();",Get the regular price of variable product in Woocommerce
How to add a literal quote in Laravel's dotenv file?," I'd like to add a string value to my .env file that contains quotes like so.APP_NAME=""Hacking""Laravel assumes the quotes are being used to define the string, but I want the literal quote in the string.I've also tried the following. <code>  APP_NAME='""Hacking""'APP_NAME=\""Hacking\""APP_NAME=""\""Hacking\""""",How to add a literal quote in Laravel's .env file?
Web framework object oriented architecture question," In most of the frameworks you have model classes that represents row in the database.For example php code: I'm giving Laravel eloquent example but this is true for most php frameworks.Then you add the relationships in the class: Then you add some methods like this: My first question is: Is this good design architecture because after years when the project becomes large you will have many relationships (pictures, comments, posts, subscriptions, etc connected to the user).The class could become 10k lines of code or so.In that case, the class will become very large and hard to maintain.Also the Single Responsible Principle maybe is violated because you have too many methods in one class.Also if I want to use the class it in another app I cannot, simply because I'll have to pull also the pictures, comments and etc in the second application(website).If I make other classes like ""UserPictures"", ""UserPictureDeleter"" the code will get more complicated.So is this good practice and if not do you have any suggestions on how to make the code not bloated with so many methods but easy to use.Do you agree that all these methods belong to the User class? <code>  class User extends Model {} public function pictures(){ return $this->hasMany('App\Picture');} public function deleteComments(){ // delete comments code here}",Design problems of ActiveRecord for large application
set_fee in programatic way," I'm creating Woocommerce totals 'on-the-fly' as my cart items are imported from another CMS.Currently I am having trouble setting a custom 'fee' for each order, then marking the order as 'on-hold': Any track on this will be appreciated. <code>  $order->set_date_created($creation_tsz); $order->set_address( $address, 'billing' ); $order->set_address( $address, 'shipping' ); $order->set_currency('GBP'); $order->add_fee('Imported Total', $imported_total_here); $order->set_fee(); $order->calculate_totals(); $order->update_status('on-hold');",Add a fee to an order programmatically in Woocommerce 3
WooCommerce get products with are visible in catalog not working," I'm currently trying to get all products in a category page which are visible in catalog. I've tried this here but I'm getting no products with this query: When I remove the meta_query visibility part I'm getting all products including the hidden ones but I just need the visible ones. Whats wrong here? <code>  $args = array( 'post_type' => 'product', 'product_cat' => get_queried_object()->slug, 'meta_query' => array( array( 'key' => '_visibility', 'value' => array( 'catalog', 'visible' ), 'compare' => 'IN', ) ));$loop = new WP_Query( $args );var_dump( $loop );",Get products which are visible in catalog in a WP_query on Woocommerce
WooCommerce get products which are visible in catalog not working," I'm currently trying to get all products in a category page which are visible in catalog. I've tried this here but I'm getting no products with this query: When I remove the meta_query visibility part I'm getting all products including the hidden ones but I just need the visible ones. Whats wrong here? <code>  $args = array( 'post_type' => 'product', 'product_cat' => get_queried_object()->slug, 'meta_query' => array( array( 'key' => '_visibility', 'value' => array( 'catalog', 'visible' ), 'compare' => 'IN', ) ));$loop = new WP_Query( $args );var_dump( $loop );",Get products which are visible in catalog in a WP_query on Woocommerce
Get all the urls using multi curl," I'm working on an app that gets all the URLs from an array of sites and displays it in array form or JSON.I can do it using for loop, the problem is the execution time when I tried 10 URLs it gives me an error saying exceeds maximum execution time.Upon searching I found this multi curlI also found this Fast PHP CURL Multiple Requests: Retrieve the content of multiple URLs using CURL. I tried to add my code but didn't work because I don't how to use the function.Hope you help me.Thanks.This is my sample code. <code>  <?php$urls=array('http://site1.com/','http://site2.com/','http://site3.com/');$mh = curl_multi_init();foreach ($urls as $i => $url) { $urlContent = file_get_contents($url); $dom = new DOMDocument(); @$dom->loadHTML($urlContent); $xpath = new DOMXPath($dom); $hrefs = $xpath->evaluate(""/html/body//a""); for($i = 0; $i < $hrefs->length; $i++){ $href = $hrefs->item($i); $url = $href->getAttribute('href'); $url = filter_var($url, FILTER_SANITIZE_URL); // validate url if(!filter_var($url, FILTER_VALIDATE_URL) === false){ echo '<a href=""'.$url.'"">'.$url.'</a><br />'; } } $conn[$i]=curl_init($url); $fp[$i]=fopen ($g, ""w""); curl_setopt ($conn[$i], CURLOPT_FILE, $fp[$i]); curl_setopt ($conn[$i], CURLOPT_HEADER ,0); curl_setopt($conn[$i],CURLOPT_CONNECTTIMEOUT,60); curl_multi_add_handle ($mh,$conn[$i]);}do { $n=curl_multi_exec($mh,$active);}while ($active);foreach ($urls as $i => $url) { curl_multi_remove_handle($mh,$conn[$i]); curl_close($conn[$i]); fclose ($fp[$i]);}curl_multi_close($mh);?>",Get all the URLs using multi curl
How Can I Create Pattern Like this:," I am trying to make this pattern in PHP: I tried this, but was unsuccessful: Can anyone help me please?Thanks in advance... <code>  1 2 3 48 7 6 59 10 11 12 $num = 0;for ($i=0; $i<=2; $i++) { for ($j=1; $j<=5; $j++) { $num = $j - $i+$num; echo $num.""""; $num--; } echo ""</br>""; }",How can I arrange numbers in this side-to-side pattern?
Getting literal OR value instead of true or false in PHP," In Javascript, we can conveniently get one of the various options that is offered in || operator. For example: Those results above can easily be assigned to a variable like this:let test = 'a' || '' || 0;In PHP, though, when I try this:$test = 'a' || '' || 0; gives me a $test = 1, with 1 meaning true. Is there a way in PHP to get the literal value of the expression which caused it to yield true? <code>  console.log('a' || '' || 0); // Yields 'a'console.log(0 || 'b' || 'a'); // Yields 'b'",Getting literal expression value with OR operators instead of true or false in PHP
show additional cost for product Woocommerce in order details," Based on ""Add a checkbox on single product pages that adds an additional cost in Woocommerce"" answer code, I am trying to add an ""extra warranty"" option to my products (checkbox in product page): It's work fine and the price is calculated in the payment.The problem is that the field value doesn't appear in the order details table (and email notifications). So I don't have a way to know if the customer paid for the warranty or not (except calculated the final price of the product).What should I add to the code so that the field will appear in the order details and mails? <code>  /* * add warrenty */// Backend: Additional pricing option custom fieldadd_action( 'woocommerce_product_options_pricing', 'wc_cost_product_field' );function wc_cost_product_field() { woocommerce_wp_text_input( array( 'id' => '_warrenty_price', 'class' => 'wc_input_price short', 'label' => __( 'Warrenty', 'woocommerce' ) . ' (' . get_woocommerce_currency_symbol() . ')' ));}// Backend: Saving product pricing option custom field valueadd_action( 'woocommerce_admin_process_product_object', 'save_product_custom_meta_data', 100, 1 );function save_product_custom_meta_data( $product ){ if ( isset( $_POST['_warrenty_price'] ) ) $product->update_meta_data( '_warrenty_price', sanitize_text_field($_POST['_warrenty_price']) );}// Front: Add a text input field inside the add to cart form on single product pageadd_action('woocommerce_single_product_summary','add_warrenty_price_option_to_single_product', 2 );function add_warrenty_price_option_to_single_product(){ global $product; if( $product->is_type('variable') || ! $product->get_meta( '_warrenty_price' ) ) return; add_action('woocommerce_before_add_to_cart_button', 'product_option_custom_field', 30 );}function product_option_custom_field(){ global $product; $active_price = (float) $product->get_price(); $warrenty_price = (float) $product->get_meta( '_warrenty_price' ); $warrenty_price_html = strip_tags( wc_price( wc_get_price_to_display( $product, array('price' => $warrenty_price ) ) ) ); $active_price_html = wc_price( wc_get_price_to_display( $product ) ); $disp_price_sum_html = wc_price( wc_get_price_to_display( $product, array('price' => $active_price + $warrenty_price ) ) ); echo '<div class=""hidden-field""> <p class=""form-row form-row-wide"" id=""warrenty_option_field"" data-priority=""""> <span class=""woocommerce-input-wrapper""><span class=""war-title""> ' . __(""Warrenty price:"", ""Woocommerce"") . '</span><label class=""checkbox""><input type=""checkbox"" class=""input-checkbox "" name=""warrenty_option"" id=""warrenty_option"" value=""1""> Add Warrenty for ' . $warrenty_price_html . '</label></span></p> <input type=""hidden"" name=""warrenty_price"" value=""' . $warrenty_price . '""> <input type=""hidden"" name=""active_price"" value=""' . $active_price . '""></div>'; // Jquery: Update displayed price ?> <script type=""text/javascript""> jQuery(function($) { var cb = 'input[name=""warrenty_option""]' pp = 'p.price'; // On change / select a variation $('form.cart').on( 'change', cb, function(){ if( $(cb).prop('checked') === true ) $(pp).html('<?php echo $disp_price_sum_html; ?>'); else $(pp).html('<?php echo $active_price_html; ?>'); }) }); </script> <?php}// Front: Calculate new item price and add it as custom cart item dataadd_filter('woocommerce_add_cart_item_data', 'add_custom_product_data', 10, 3);function add_custom_product_data( $cart_item_data, $product_id, $variation_id ) { if (isset($_POST['warrenty_option']) && !empty($_POST['warrenty_option'])) { $cart_item_data['new_price'] = (float) ($_POST['active_price'] + $_POST['warrenty_price']); $cart_item_data['warrenty_price'] = (float) $_POST['warrenty_price']; $cart_item_data['active_price'] = (float) $_POST['active_price']; $cart_item_data['unique_key'] = md5(microtime().rand()); } return $cart_item_data;}// Front: Set the new calculated cart item priceadd_action('woocommerce_before_calculate_totals', 'extra_price_add_custom_price', 20, 1);function extra_price_add_custom_price($cart) { if (is_admin() && !defined('DOING_AJAX')) return; if ( did_action( 'woocommerce_before_calculate_totals' ) >= 2 ) return; foreach($cart->get_cart() as $cart_item) { if (isset($cart_item['new_price'])) $cart_item['data']->set_price((float) $cart_item['new_price']); }}// Front: Display option in cart itemadd_filter('woocommerce_get_item_data', 'display_custom_item_data', 10, 2);function display_custom_item_data($cart_item_data, $cart_item) { if (isset($cart_item['warrenty_price'])) { $cart_item_data[] = array( 'name' => __(""Extra Warrenty"", ""woocommerce""), 'value' => strip_tags( '+ ' . wc_price( wc_get_price_to_display( $cart_item['data'], array('price' => $cart_item['warrenty_price'] ) ) ) ) ); } return $cart_item_data;}",Display product optional cost in WooCommerce in order details
Display product optional cost in Woocommerce in order details," Based on ""Add a checkbox on single product pages that adds an additional cost in Woocommerce"" answer code, I am trying to add an ""extra warranty"" option to my products (checkbox in product page): It's work fine and the price is calculated in the payment.The problem is that the field value doesn't appear in the order details table (and email notifications). So I don't have a way to know if the customer paid for the warranty or not (except calculated the final price of the product).What should I add to the code so that the field will appear in the order details and mails? <code>  /* * add warrenty */// Backend: Additional pricing option custom fieldadd_action( 'woocommerce_product_options_pricing', 'wc_cost_product_field' );function wc_cost_product_field() { woocommerce_wp_text_input( array( 'id' => '_warrenty_price', 'class' => 'wc_input_price short', 'label' => __( 'Warrenty', 'woocommerce' ) . ' (' . get_woocommerce_currency_symbol() . ')' ));}// Backend: Saving product pricing option custom field valueadd_action( 'woocommerce_admin_process_product_object', 'save_product_custom_meta_data', 100, 1 );function save_product_custom_meta_data( $product ){ if ( isset( $_POST['_warrenty_price'] ) ) $product->update_meta_data( '_warrenty_price', sanitize_text_field($_POST['_warrenty_price']) );}// Front: Add a text input field inside the add to cart form on single product pageadd_action('woocommerce_single_product_summary','add_warrenty_price_option_to_single_product', 2 );function add_warrenty_price_option_to_single_product(){ global $product; if( $product->is_type('variable') || ! $product->get_meta( '_warrenty_price' ) ) return; add_action('woocommerce_before_add_to_cart_button', 'product_option_custom_field', 30 );}function product_option_custom_field(){ global $product; $active_price = (float) $product->get_price(); $warrenty_price = (float) $product->get_meta( '_warrenty_price' ); $warrenty_price_html = strip_tags( wc_price( wc_get_price_to_display( $product, array('price' => $warrenty_price ) ) ) ); $active_price_html = wc_price( wc_get_price_to_display( $product ) ); $disp_price_sum_html = wc_price( wc_get_price_to_display( $product, array('price' => $active_price + $warrenty_price ) ) ); echo '<div class=""hidden-field""> <p class=""form-row form-row-wide"" id=""warrenty_option_field"" data-priority=""""> <span class=""woocommerce-input-wrapper""><span class=""war-title""> ' . __(""Warrenty price:"", ""Woocommerce"") . '</span><label class=""checkbox""><input type=""checkbox"" class=""input-checkbox "" name=""warrenty_option"" id=""warrenty_option"" value=""1""> Add Warrenty for ' . $warrenty_price_html . '</label></span></p> <input type=""hidden"" name=""warrenty_price"" value=""' . $warrenty_price . '""> <input type=""hidden"" name=""active_price"" value=""' . $active_price . '""></div>'; // Jquery: Update displayed price ?> <script type=""text/javascript""> jQuery(function($) { var cb = 'input[name=""warrenty_option""]' pp = 'p.price'; // On change / select a variation $('form.cart').on( 'change', cb, function(){ if( $(cb).prop('checked') === true ) $(pp).html('<?php echo $disp_price_sum_html; ?>'); else $(pp).html('<?php echo $active_price_html; ?>'); }) }); </script> <?php}// Front: Calculate new item price and add it as custom cart item dataadd_filter('woocommerce_add_cart_item_data', 'add_custom_product_data', 10, 3);function add_custom_product_data( $cart_item_data, $product_id, $variation_id ) { if (isset($_POST['warrenty_option']) && !empty($_POST['warrenty_option'])) { $cart_item_data['new_price'] = (float) ($_POST['active_price'] + $_POST['warrenty_price']); $cart_item_data['warrenty_price'] = (float) $_POST['warrenty_price']; $cart_item_data['active_price'] = (float) $_POST['active_price']; $cart_item_data['unique_key'] = md5(microtime().rand()); } return $cart_item_data;}// Front: Set the new calculated cart item priceadd_action('woocommerce_before_calculate_totals', 'extra_price_add_custom_price', 20, 1);function extra_price_add_custom_price($cart) { if (is_admin() && !defined('DOING_AJAX')) return; if ( did_action( 'woocommerce_before_calculate_totals' ) >= 2 ) return; foreach($cart->get_cart() as $cart_item) { if (isset($cart_item['new_price'])) $cart_item['data']->set_price((float) $cart_item['new_price']); }}// Front: Display option in cart itemadd_filter('woocommerce_get_item_data', 'display_custom_item_data', 10, 2);function display_custom_item_data($cart_item_data, $cart_item) { if (isset($cart_item['warrenty_price'])) { $cart_item_data[] = array( 'name' => __(""Extra Warrenty"", ""woocommerce""), 'value' => strip_tags( '+ ' . wc_price( wc_get_price_to_display( $cart_item['data'], array('price' => $cart_item['warrenty_price'] ) ) ) ) ); } return $cart_item_data;}",Display product optional cost in WooCommerce in order details
"Woocommerce change ""reply to"" in all e-mails"," In Woocommerce, I would like to change the email address that should always be used as the reply address for all emails notifications.How is this possible with Woocommerce? <code> ","Change ""reply to"" email address in all Woocommerce emails notifications"
How to deploying a Laravel Web Application on Alpine Linux using Docker?," I am successfully deploying a Laravel Web Application on ECS using a base image from PHP, in particular 7.3-apache-stretch from https://hub.docker.com/_/php/Being well aware of the discussion about Alpine Linux Images in Docker (granting significative reductions in the final image dimension), I wanted to give it a run, to see how it performed. Unfortunately, while with the CLI version it was very easy (using 7.3-cli-alpine3.9), there is no apache-enabled version. What I would need is a Dockerfile to use as a base for my developments.Apache OnlyBrowsing SO, I found How do I run Apache 2 on Alpine in Docker? that brought my attention to https://github.com/nimmis/docker-alpine-apache, that enables apache, but PHP is completely missing, so I'd have to integrate this. Running Apache/NGINX and PHP with FCGIThis other question Alpine variants of PHP and Apache/httpd in Docker brings us closer, but implies theuse of two containers, that is not what I want to have.How should the Dockerfile be to let me deploy a Laravel Web Application off the shelf ? <code> ",How to deploy a Laravel Web Application on Alpine Linux using Docker?
Proper Way to CLI PHP within WAMP (WAMP64) with Multiple Versions on Windows 10," Used to just put the wamp php directory in my system environment variables as answered here: command line locally using wamp. Which more or less is a very simple environmental variable edit adding the WAMP servers PHP Path, such as ;C:\wamp\bin\php\php5.6.40I'm now learning with more recent versions WAMP is recommending against doing so (as shown here: How To Run PHP From Windows Command Line in WAMPServer).In that answer it shows a clever command line/.cmd program named phppath.cmd which is tailored to linux users.Unedited, it looks as such: This sounds great, but I'm having mild success with it.How it works, is I place the phppath.cmd file into my Windows directory and it autoloads when windows starts.The linux-windows conversions may have messed with me a little bit, but here's my edited output for Windows 10 WAMP64 (current one in my C:\Windows folder) Here's where my confusion is setting in.Using the command prompt phppath in a command line I get the following output Additionally I cannot change my PHP version using the phppath command line.The versions on my WAMP64 installation consist of 5.6.40 - 7.0.33 - 7.1.26 - 7.2.14 - 7.3.1What I am trying to do (and though phppath.cmd would achieve that), is, as seen in that thread, change php CLI versions with a simple command. phppath 5.6.40 phppath 7.0.33 etcbut these commands are ineffective, they process properly, put the command line always states PHP 7.1.26 (cli) no matter if its specified.Did I mess up my paths or something when I tried to convert the above script from linux to Windows 10? I tried to make sure all the paths were appropriate.edit: Using W10 x64 version WAMP 3.1.7. Read there were issues using Powershell, or rather phppath.cmd was not designed for powershell, so I'm using the program Cmder for command line functions.edit 2: Figured out php 7.1.26 was indeed in my environmental variables.. I was only looking at USER env variables. Somehow it got into SYSTEM env variables (not completely sure how). Deleted that entry which may have been causing conflicts. Onto some more testing..Now to just get phppath.cmd to work properly.edit3: Last edit for now.. I'll try to mess with this more later, if anyone has any insight please provide! So as I stated the wamp php directory was in the system environmental variables, once I removed that entry the error message [ERROR C:/wamp64 or PHP in path.] in WAMP went away.As to switch / change between PHP CLI versions -- as of right now, kind of a band-aid solution, but workable... if I just change my phppath.cmd file in my C:\Windows folder from set defaultPHPver=7.1.26 to another version like set defaultPHPver=7.0.33 or set defaultPHPver=5.6.40 --- that works to change the PHP CLI version using phppath on the commandline (AFTER a restart).How it appears to be working is...(manually set defaultpath in cmd file...)...Open up a CLI like cmdertype in.. phppath(here I have in my phppath.cmd a default version of 7.0.x) Then I can continue to use the default php CLI functions.. Current version is PHP 7.0.33Note: If I don't initiate by using the command phppath first I get the typical error message -- 'php' is not recognized as an internal or external command,operable program or batch file., so typing phppath is required for the php commands to work.So this is great and workable for now. I just have to manually edit the phppath.cmd to the default version I want it to be and reset my computer.Only issue is that, per the instructions, phppath.cmd should be able to change PHP CLI version on the fly using the commands I attempted above. This is of course better than having to manually edit the .cmd file and restart everytime I want to change the version.Anyone have any insight as to why my Windows 10 modified phppath.cmd won't change versions via the command line, only by modifying the file and doing a computer restart? Would be much appreciated... last step to get down :)edit: The comments got kind of long, to summarize defining %PATH% as pathBak was indeed the answer, as shown in @michael_heath Using the script below works exactly as it should on my Windows 10 machine, version changing and all. <code>  @echo offREM **************************************************************REM * PLACE This file in a folder that is already on your PATHREM * Or just put it in your C:\Windows folder as that is on theREM * Search path by defaultREM * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -REM * EDIT THE NEXT 3 Parameters to fit your installed WAMPServerREM **************************************************************set baseWamp=D:\wampset defaultPHPver=7.1.9set composerInstalled=%baseWamp%\composerset phpFolder=\bin\php\phpif %1.==. ( set phpver=%baseWamp%%phpFolder%%defaultPHPver%) else ( set phpver=%baseWamp%%phpFolder%%1)PATH=%PATH%;%phpver%php -vecho ---------------------------------------------------------------REM IF PEAR IS INSTALLED IN THIS VERSION OF PHPIF exist %phpver%\pear ( set PHP_PEAR_SYSCONF_DIR=D:\wamp\bin\php\php%phpver% set PHP_PEAR_INSTALL_DIR=D:\wamp\bin\php\php%phpver%\pear set PHP_PEAR_DOC_DIR=D:\wamp\bin\php\php%phpver%\docs set PHP_PEAR_BIN_DIR=D:\wamp\bin\php\php%phpver% set PHP_PEAR_DATA_DIR=D:\wamp\bin\php\php%phpver%\data set PHP_PEAR_PHP_BIN=D:\wamp\bin\php\php%phpver%\php.exe set PHP_PEAR_TEST_DIR=D:\wamp\bin\php\php%phpver%\tests echo PEAR INCLUDED IN THIS CONFIG echo ---------------------------------------------------------------) else ( echo PEAR DOES NOT EXIST IN THIS VERSION OF php echo ---------------------------------------------------------------)REM IF A GLOBAL COMPOSER EXISTS ADD THAT TOOREM **************************************************************REM * IF A GLOBAL COMPOSER EXISTS ADD THAT TOOREM *REM * This assumes that composer is installed in /wamp/composerREM *REM **************************************************************IF EXIST %composerInstalled% ( ECHO COMPOSER INCLUDED IN THIS CONFIG echo --------------------------------------------------------------- set COMPOSER_HOME=%baseWamp%\composer set COMPOSER_CACHE_DIR=%baseWamp%\composer PATH=%PATH%;%baseWamp%\composer rem echo TO UPDATE COMPOSER do > composer self-update echo ---------------------------------------------------------------) else ( echo --------------------------------------------------------------- echo COMPOSER IS NOT INSTALLED echo ---------------------------------------------------------------)set baseWamp=set defaultPHPver=set composerInstalled=set phpFolder= @echo offREM **********************************************************************REM * PLACE This file in a folder that is already on your PATHREM * Or just put it in your C:\Windows folder as that is on theREM * Serch path by defaultREM * - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -REM * EDIT THE NEXT 3 Parameters to fit your installed WAMPServerREM * for example I installed WAMPServer on the D: drive you mayREM * have used C:REM * - baseWamp : is the drive and folder where you installed WAMPServerREM * - defaultPHPver : is the version of PHP that will be pathedREM * if no Parameter is put on the bat fileREM * - composerInstalled : Where I insatlled composerInstalledREM * - phpFolder : The folder structure that contains the MultipleREM * possible version of PHP I have installedREM **********************************************************************set baseWamp=C:\wamp64set defaultPHPver=7.1.26set composerInstalled=C:\Users\User\AppData\Roaming\Composerset phpFolder=C:\wamp64\bin\phpif %1.==. ( set phpver=C:\wamp64\bin\php\php%defaultPHPver%) else ( set phpver=C:\wamp64\bin\php\php)PATH=%PATH%;%phpver%php -vecho ---------------------------------------------------------------REM IF PEAR IS INSTALLED IN THIS VERSION OF PHPIF exist %phpver%\pear ( set PHP_PEAR_SYSCONF_DIR=C:\wamp64\bin\php\php%phpver% set PHP_PEAR_INSTALL_DIR=C:\wamp64\bin\php\php%phpver%\pear set PHP_PEAR_DOC_DIR=C:\wamp64\bin\php\php%phpver%\docs set PHP_PEAR_BIN_DIR=C:\wamp64\bin\php\php%phpver% set PHP_PEAR_DATA_DIR=C:\wamp64\bin\php\php%phpver%\data set PHP_PEAR_PHP_BIN=C:\wamp64\bin\php\php%phpver%\php.exe set PHP_PEAR_TEST_DIR=C:\wamp64\bin\php\php%phpver%\tests echo PEAR INCLUDED IN THIS CONFIG echo ---------------------------------------------------------------) else ( echo PEAR DOES NOT EXIST IN THIS VERSION OF php echo ---------------------------------------------------------------)REM IF COMPOSER EXISTS ADD THAT TOOREM **************************************************************REM * IF A GLOBAL COMPOSER EXISTS ADD THAT TOOREM *REM * This assumes that composer is installed in /wamp/composerREM *REM **************************************************************IF EXIST %composerInstalled% ( ECHO COMPOSER INCLUDED IN THIS CONFIG echo --------------------------------------------------------------- set COMPOSER_HOME=C:\Users\User\AppData\Roaming\Composer set COMPOSER_CACHE_DIR=C:\Users\User\AppData\Roaming\Composer PATH=%PATH%;C:\Users\User\AppData\Roaming\Composer rem echo TO UPDATE COMPOSER do > composer self-update echo ---------------------------------------------------------------) else ( echo --------------------------------------------------------------- echo COMPOSER IS NOT INSTALLED echo ---------------------------------------------------------------)set baseWamp=set defaultPHPver=set composerInstalled=set phpFolder= PHP 7.1.26 (cli) (built: Jan 9 2019 21:51:32) ( ZTS MSVC14 (Visual C++ 2015) x64 )Copyright (c) 1997-2018 The PHP GroupZend Engine v3.1.0, Copyright (c) 1998-2018 Zend Technologies---------------------------------------------------------------PEAR DOES NOT EXIST IN THIS VERSION OF php---------------------------------------------------------------COMPOSER INCLUDED IN THIS CONFIG------------------------------------------------------------------------------------------------------------------------------ PHP 7.0.33 (cli) (built: Dec 5 2018 21:22:29) ( ZTS )Copyright (c) 1997-2017 The PHP GroupZend Engine v3.0.0, Copyright (c) 1998-2017 Zend Technologies---------------------------------------------------------------PEAR DOES NOT EXIST IN THIS VERSION OF php---------------------------------------------------------------COMPOSER INCLUDED IN THIS CONFIG------------------------------------------------------------------------------------------------------------------------------ php -f version.php","Proper Way to CLI PHP within WAMP (WAMP64), while switching between Multiple PHP Versions on Windows 10"
How to link more than one forign key in laravel," am working on a banking app, in my Laravel Model, i have a table called transactions.In that table it has a column called to_id and from_id which is the id of the user that is sending money(from_id) and the id of who is receiving the money(to_id) which is linked to my User table, here is the CreateTransactionsTable migration code here is the CreateUserTable migration file code Here is the code for the Transactions Model Here is the code for the Users Model here's my controller code here is my TranAdmin.blade.php code My problem now is that i cant get the name of the person that sent $Tran->from_id and received $Tran->to_id the moneyam getting this error Trying to get property of non-object (View: C:\xampp\htdocs\laravel Projects\bank\iscbank\resources\views\Admin\TranAdmin.blade.php) (View: C:\xampp\htdocs\laravel Projects\bank\iscbank\resources\views\Admin\TranAdmin.blade.php)i checked online but i saw was to do $Tran->User->name but since i got two columns that is linked to the users table, how can i do it <code>  Schema::create('transactions', function (Blueprint $table) { $table->bigIncrements('id'); $table->bigInteger('from_id')->unsigned(); $table->foreign('from_id')->references('id')->on('users'); $table->bigInteger('to_id')->unsigned(); $table->foreign('to_id')->references('id')->on('users'); $table->integer('Amount'); $table->enum('TransactionType', ['Credit', 'Debit']); $table->enum('Status', ['Completed', 'Incomplete']); $table->timestamps(); }); Schema::create('users', function (Blueprint $table) { $table->bigIncrements('id'); $table->string('name'); $table->string('email')->unique(); $table->string('password'); $table->string('AccountNumber')->unique(); $table->rememberToken(); }); class Transactions extends Model{ public function users(){ return $this->belongsTo('App\Users'); }} <?phpnamespace App;use Illuminate\Notifications\Notifiable;use Illuminate\Contracts\Auth\MustVerifyEmail;use Illuminate\Foundation\Auth\User as Authenticatable;class User extends Authenticatable{ use Notifiable; protected $fillable = [ 'name', 'email', 'password', 'Amount', ]; public function transactions(){ return $this->hasMany('App\Transactions'); }} public function Transactions(){ $Trans = Transactions::all(); return view('Admin.TranAdmin')->with(['title'=>'Transaction History ', 'Trans'=>$Trans]); } <?php $no = 1; ?> @foreach ($Trans as $Tran) <tr> <td>{{ $no++ }}</td> <td>{{ $Tran->to_id }}</td> <td>{{ $Tran->from_id->name }}</td> <td>{{ $Tran->status }}</td> <td>{{ $Tran->created_at->format('F jS, Y')}}</td> <td></td> </tr> @endforeach",How to link more than one foreign key in laravel
"the key combination ctrl k ctrl f not work for php visual code, How to repair that?"," I'm intending to format the selection (indentation) for the PHP code, but it does not work.I already made sure that there aren't duplicate shortcuts.I also disabled all extensions.I changed the keyboard shortcut from Ctrl+K Ctrl+f to Ctrl+k Ctrl+y.None of these helped.Is the only language that does not work for me to format selectionEye. It's not because I'm missing the closing tag (?>). <code> ",Why won't the key combination Ctrl-K Ctrl-F work for php visual code?
the key combination ctrl k ctrl f not work for php visual code? How to repair that?," I'm intending to format the selection (indentation) for the PHP code, but it does not work.I already made sure that there aren't duplicate shortcuts.I also disabled all extensions.I changed the keyboard shortcut from Ctrl+K Ctrl+f to Ctrl+k Ctrl+y.None of these helped.Is the only language that does not work for me to format selectionEye. It's not because I'm missing the closing tag (?>). <code> ",Why won't the key combination Ctrl-K Ctrl-F work for php visual code?
can i open whatsapp app from android webview," I have made a web-view of a website. Now I want to share some data from my web-view to whatsapp app. I was able to open whatsapp web, but my client wants me to open whatsapp application instead of whatsapp web. How can I do that?This is what I have done to open whatsapp web in my site: <code>  <a class=""social-icon whatsapp"" href=""javascript:popWin('https://api.whatsapp.com/send?text=Product%20Name:-<?php echo $productName; ?>.%20Product%20link:-<?php echo $productUrl; ?>', 'whatsapp', 'width=640, height=480, left=0, top=0, location=no, status=yes, scrollbars=yes, resizable=yes');"" title=""<?php echo $this->__('Share on Whatsapp') ?>"" data-action=""share/whatsapp/share""> <span><i class=""fa fa-whatsapp""></i></span></a>",Can I open whatsapp app from android webview
Insert record after form laravel form validation," I'm trying a Laravel 5.8 request validation. I managed to return errors and display them to my view. The problem is when I try to not trigger any validation rule, for whatever reason I cannot insert records into my table. Error Too few arguments to function App\Http\Requests\FieldRequest::Illuminate\Foundation\Providers{closure}(), 0 passed and exactly 1 expectedController FormRequest I'm expecting something to be inserted in my table. Do I need to perform the validation in my controller or not to achieve this? Thanks in advance!  <code>  class FormController extends Controller{ public function create() { return view('create'); } public function store(FieldRequest $req) { $validate_data = $req->validate(); Form::create($validate_data); return redirect()->back()->with('message', 'Success!'); }} class FieldRequest extends FormRequest{ public function authorize() { return true; } public function rules() { return [ 'item_name' => 'bail|required|max:255', 'sku_no' => 'required|alpha_num', 'price' => 'required|numeric', ]; } public function messages() { return [ 'item_name.required' => 'An Item Name is required', 'sku_no.required' => 'An SKU NO is required', 'price.required' => 'The price is required', ]; }}",Insert record after Laravel form validation
Insert record after form Laravel form validation," I'm trying a Laravel 5.8 request validation. I managed to return errors and display them to my view. The problem is when I try to not trigger any validation rule, for whatever reason I cannot insert records into my table. Error Too few arguments to function App\Http\Requests\FieldRequest::Illuminate\Foundation\Providers{closure}(), 0 passed and exactly 1 expectedController FormRequest I'm expecting something to be inserted in my table. Do I need to perform the validation in my controller or not to achieve this? Thanks in advance!  <code>  class FormController extends Controller{ public function create() { return view('create'); } public function store(FieldRequest $req) { $validate_data = $req->validate(); Form::create($validate_data); return redirect()->back()->with('message', 'Success!'); }} class FieldRequest extends FormRequest{ public function authorize() { return true; } public function rules() { return [ 'item_name' => 'bail|required|max:255', 'sku_no' => 'required|alpha_num', 'price' => 'required|numeric', ]; } public function messages() { return [ 'item_name.required' => 'An Item Name is required', 'sku_no.required' => 'An SKU NO is required', 'price.required' => 'The price is required', ]; }}",Insert record after Laravel form validation
Guzzle7 download file," Need help using Guzzle 6 for downloading a file from a rest API. I don't want the file to be saved locally but downloaded from web browser. Code so far below, but believe I am missing something? <code>  <?php//code for Guzzle etc removed$responsesfile = $client->request('GET', 'documents/1234/content', [ 'headers' => [ 'Cache-Control' => 'no-cache', 'Content-Type' => 'application/pdf', 'Content-Type' => 'Content-Disposition: attachment; filename=""test""' ] ] ); return $responsesfile; ?>",Guzzle 6 download file
How to convert png file to webp file," I need to convert an image (png) to (webp) file.After uploading a png file, the webp image has been generated, but the webp file didn't copy the transparency of a png file, instead it creates a black background.This is my php code: The version of PHP is 5.6 <code>  $type = wp_check_filetype($file, null);$ext = $type['ext'];if ($ext === 'png') { $im = imagecreatefrompng($file); imagepalettetotruecolor($im); $webp = imagewebp($im, str_replace('png', 'webp', $file));}imagedestroy($im);",How to convert png file to webp file
Laravel small script with with artisan command?," I need to check something small in Laravel, so I just want to make a small script to check it.I know that I can do it with But It will add a file to the App/Console/Command, and I will need to update app/Console/Kernel.php. It means that I will have do commit it to source control, which is really not needed.Is there a way to have a standalone laravel script which will give me access to the Laravel Components? I am using Laravel 5.2, (make:command doesn't exists, only make:console)Just an example for what I tried: But I am getting an error: UPDATEI tried creating a console command But when I do php artisan list I don't see its signature in the list of available commands.  <code>  php artisan make:console ... <?phpuse App\User;use DB;require __DIR__.'/../vendor/autoload.php';require __DIR__.'/..//bootstrap/app.php';echo ""hello world\n"";$res=User::where('id',5)->first();echo ""end!\n"";?> PHP Fatal error: Uncaught Error: Call to a member function connection() on null in /var/www/html/dpriceit/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php:3314Stack trace:#0 /var/www/html/dpriceit/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(3280): Illuminate\Database\Eloquent\Model::resolveConnection(NULL)#1 /var/www/html/dpriceit/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1880): Illuminate\Database\Eloquent\Model->getConnection()#2 /var/www/html/dpriceit/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1853): Illuminate\Database\Eloquent\Model->newBaseQueryBuilder()#3 /var/www/html/dpriceit/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(1823): Illuminate\Database\Eloquent\Model->newQueryWithoutScopes()#4 /var/www/html/dpriceit/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Model.php(3524): Illuminate\Database\Eloquent\Model->newQuery() php artisan make:console MyTempTest",Laravel small standalone one-off script without artisan command?
"After upgrading laravel from 5.6 to 6.0.0 , str_random() function not working"," I have upgraded Laravel from 5.6 to 6.0. Previously, default helper functions were running fine on the controllers, but now it says ""undefined."" In my controller, I have used the following. I am getting the following error. message: ""Call to undefined function App\Http\Controllers\str_random()""I have also used the random() function, and it's saying the same thing.Can somebody please guide me on what to do?.I have run commands like: But I get the same error. <code>  $filename = str_random(12); composer dump-autoload","After upgrading Laravel from 5.6 to 6.0, Call to undefined str_random() function not working"
"After upgrading laravel from 5.6 to 6.0.0 , Call to undefined str_random() function not working"," I have upgraded Laravel from 5.6 to 6.0. Previously, default helper functions were running fine on the controllers, but now it says ""undefined."" In my controller, I have used the following. I am getting the following error. message: ""Call to undefined function App\Http\Controllers\str_random()""I have also used the random() function, and it's saying the same thing.Can somebody please guide me on what to do?.I have run commands like: But I get the same error. <code>  $filename = str_random(12); composer dump-autoload","After upgrading Laravel from 5.6 to 6.0, Call to undefined str_random() function not working"
PHP glob pattern does not match anything," NOTE: The pattern in question has been removed from the PHP documentation since this thread was created.According to the PHP documentation, the pattern ... matches all subdirectories recursively, but when I try using it, no files are matched.According to the documentation, glob hasn't changed since PHP 5.1, but if it matters, I am using PHP 7.2.24 .Directory structure: PHP: I know there is a workaround for this problem, but I would like to know if there is a PHP native solution or if there isn't, why the PHP reference documentation is defective. <code>  . bar bar_file foo 1 foo_1_file foo_file var_dump(glob('./.../*')); // prints array(0) {}var_dump(glob('./.../foo_file')); // prints array(0) {}",Glob pattern does not match anything
"dyld: Library not loaded, OpenSSL Mac"," I am aware there are many other questions related to this error, but I have tried all the answers and nothing worked.Full error When did the error occur?Right after updating Ruby to 2.6.3 via RVM.Whenever I enter ""php"" into the terminal the error appears.Steps takenBasic steps: Restart Macbook, opened new terminal window.Uninstall/Reinstall: Node, Openssl, libpng, RubyUpdate/Upgrade: brewUnlinked/Linked: libidn, autoconfGiven myself all rights via chown -R /usr/localOpenSSL: $ sudo rm /usr/bin/openssl, brew reinstall openssl@1.1Brew cleanupReinstalled PHPVersionsMac OS Mojave 10.14.6PHP 7.4Ruby 2.6.3p62RVM 1.29.9When running Brew Doctor Any ideas on how to solve this error? <code>  dyld: Library not loaded: /usr/local/opt/openssl/lib/libcrypto.1.0.0.dylibReferenced from: /usr/local/opt/php@7.1/bin/phpReason: image not foundAbort trap: 6 Please note that these warnings are just used to help the Homebrew maintainerswith debugging if you file an issue. If everything you use Homebrew for isworking fine: please don't worry or file an issue; just ignore this. Thanks!Warning: ""config"" scripts exist outside your system or Homebrew directories.`./configure` scripts often look for *-config scripts to determine ifsoftware packages are installed, and which additional flags to use whencompiling and linking.Having additional scripts in your path can confuse software installed viaHomebrew if the config script overrides a system or Homebrew-providedscript of the same name. We found the following ""config"" scripts: /opt/local/bin/python2.7-config /opt/local/bin/curl-config /opt/local/bin/ncursesw6-config /opt/local/bin/pcre-config /opt/local/bin/ncurses6-config /opt/local/bin/pcap-configWarning: Unbrewed header files were found in /usr/local/include.If you didn't put them there on purpose they could cause problems whenbuilding Homebrew formulae, and may need to be deleted.Unexpected header files:(here it posts all the /usr/local/include/node files, but the list exceeds character limitations)","Can't open PHP, dyld: Library not loaded"
Deprecation warnings after upgranding Symfont 4.3.9 to 4.4.1," I had a deprecation-free Symfony 3.4.9 installation. So I upgraded the FW to 4.1.1. Now I got 9 deprecation warnings all coming from vendor libraries:Creating Doctrine\ORM\Mapping\UnderscoreNamingStrategy without making it number aware is deprecated and will be removed in Doctrine ORM 3.0.The ""Symfony\Component\HttpKernel\EventListener\ExceptionListener"" class is deprecated since Symfony 4.4, use ""ErrorListener"" instead.The Doctrine\Common\Persistence\Mapping\AbstractClassMetadataFactory class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\Mapping\AbstractClassMetadataFactory instead.The Doctrine\Common\Persistence\Mapping\RuntimeReflectionService class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\Mapping\RuntimeReflectionService instead.The Doctrine\Common\Persistence\ObjectManager class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\ObjectManager instead.The Doctrine\Common\Persistence\ObjectRepository class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\ObjectRepository instead.The Doctrine\Common\PropertyChangedListener class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\PropertyChangedListener instead.The ""twig.exception_controller"" configuration key has been deprecated in Symfony 4.4, set it to ""null"" and use ""framework.error_controller"" configuration key instead. (x2)Is this ""normal"" or there is any problems in my composer.json file ? I double checked and can't see any dependency that has any ""fixed"" setting.I even deleted the full vendor folder and downloaded again as I thought there could be any ""garbage"" left, with same result.My composer.json file: EDITI checked installed packages with composer show and see that at least 2 of the installed packages are relevant with the deprecation list above: So I checked the available versions of these packages with composer info doctrine/persistence --all and I saw that it has installed the latest non-dev version: Same for doctrine-orm. The GitHub site for doctrine/persistence also seems to corroborate this: https://github.com/doctrine/persistence/releasesSo this leads me to think that this is really normal behavior and that in future, when these packages get updated, the deprecation messages will disappear.Note on solutionAs anyone who have read the accepted answer will notice, there are still 5 deprecation that cannot be solved just yet. I'll include an answer ASA there are a fix for this. If anyone notices this before me, please fell free to add an answer to this question. Thanks. <code>  { ""type"" : ""project"", ""license"" : ""proprietary"", ""require"" : { ""php"" : ""^7.1.3"", ""ext-ctype"" : ""*"", ""ext-iconv"" : ""*"", ""sensio/framework-extra-bundle"" : ""^5.2"", ""symfony/apache-pack"" : ""^1.0"", ""symfony/asset"" : ""4.4.*"", ""symfony/console"" : ""4.4.*"", ""symfony/dotenv"" : ""4.4.*"", ""symfony/expression-language"" : ""4.4.*"", ""symfony/flex"" : ""^1.1"", ""symfony/form"" : ""4.4.*"", ""symfony/framework-bundle"" : ""4.4.*"", ""symfony/monolog-bundle"" : ""^3.1"", ""symfony/orm-pack"" : ""*"", ""symfony/process"" : ""4.4.*"", ""symfony/security-bundle"" : ""4.4.*"", ""symfony/serializer-pack"" : ""*"", ""symfony/swiftmailer-bundle"" : ""^3.1"", ""symfony/translation"" : ""4.4.*"", ""symfony/twig-bundle"" : ""4.4.*"", ""symfony/validator"" : ""4.4.*"", ""symfony/web-link"" : ""4.4.*"", ""symfony/webpack-encore-bundle"" : ""^1.1"", ""symfony/yaml"" : ""4.4.*"" }, ""require-dev"" : { ""symfony/debug-pack"" : ""*"", ""symfony/maker-bundle"" : ""^1.0"", ""symfony/profiler-pack"" : ""^1.0"", ""symfony/test-pack"" : ""*"", ""symfony/web-server-bundle"" : ""4.4.*"" }, ""config"" : { ""preferred-install"" : { ""*"" : ""dist"" }, ""sort-packages"" : true, ""secure-http"" : false }, ""autoload"" : { ""psr-4"" : { ""App\\"" : ""src/"" } }, ""autoload-dev"" : { ""psr-4"" : { ""App\\Tests\\"" : ""tests/"" }, ""classmap"" : [ ""vendor/phpasn1"" ] }, ""replace"" : { ""paragonie/random_compat"" : ""2.*"", ""symfony/polyfill-ctype"" : ""*"", ""symfony/polyfill-iconv"" : ""*"", ""symfony/polyfill-php71"" : ""*"", ""symfony/polyfill-php70"" : ""*"", ""symfony/polyfill-php56"" : ""*"" }, ""conflict"" : { ""symfony/symfony"" : ""*"" }, ""extra"" : { ""symfony"" : { ""allow-contrib"" : false, ""require"" : ""4.4.*"" } }} (...)doctrine/orm v2.7.0 Object-Relational-Mapper for PHPdoctrine/persistence 1.3.3 The Doctrine Persistence project is a set of shared...(...) name : doctrine/persistencedescrip. : The Doctrine Persistence project is a set of shared interfaces and functionality that the different Doctrine object mappers share.keywords : mapper, object, odm, orm, persistenceversions : dev-master, 2.0.x-dev, 1.3.x-dev, * 1.3.3, 1.3.2, 1.3.1, 1.3.0, 1.2.x-dev, 1.2.0, 1.1.x-dev, 1.1.1, v1.1.0, 1.0.x-dev, v1.0.1, v1.0.0, dev-1.3.x-merge-up-into-master_5df35c38f354a9.94042071, dev-1.3.x-merge-up-into-master_5df33dc289ea03.65167777, dev-1.3.x-merge-up-into-master_5df29d964b0aa5.96685696, dev-github-funding, dev-master-old(...)",Deprecation warnings after upgrading Symfony 4.3.9 to 4.4.1/5.0
Deprecation warnings after upgrading Symfony 4.3.9 to 4.4.1," I had a deprecation-free Symfony 3.4.9 installation. So I upgraded the FW to 4.1.1. Now I got 9 deprecation warnings all coming from vendor libraries:Creating Doctrine\ORM\Mapping\UnderscoreNamingStrategy without making it number aware is deprecated and will be removed in Doctrine ORM 3.0.The ""Symfony\Component\HttpKernel\EventListener\ExceptionListener"" class is deprecated since Symfony 4.4, use ""ErrorListener"" instead.The Doctrine\Common\Persistence\Mapping\AbstractClassMetadataFactory class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\Mapping\AbstractClassMetadataFactory instead.The Doctrine\Common\Persistence\Mapping\RuntimeReflectionService class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\Mapping\RuntimeReflectionService instead.The Doctrine\Common\Persistence\ObjectManager class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\ObjectManager instead.The Doctrine\Common\Persistence\ObjectRepository class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\ObjectRepository instead.The Doctrine\Common\PropertyChangedListener class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\PropertyChangedListener instead.The ""twig.exception_controller"" configuration key has been deprecated in Symfony 4.4, set it to ""null"" and use ""framework.error_controller"" configuration key instead. (x2)Is this ""normal"" or there is any problems in my composer.json file ? I double checked and can't see any dependency that has any ""fixed"" setting.I even deleted the full vendor folder and downloaded again as I thought there could be any ""garbage"" left, with same result.My composer.json file: EDITI checked installed packages with composer show and see that at least 2 of the installed packages are relevant with the deprecation list above: So I checked the available versions of these packages with composer info doctrine/persistence --all and I saw that it has installed the latest non-dev version: Same for doctrine-orm. The GitHub site for doctrine/persistence also seems to corroborate this: https://github.com/doctrine/persistence/releasesSo this leads me to think that this is really normal behavior and that in future, when these packages get updated, the deprecation messages will disappear.Note on solutionAs anyone who have read the accepted answer will notice, there are still 5 deprecation that cannot be solved just yet. I'll include an answer ASA there are a fix for this. If anyone notices this before me, please fell free to add an answer to this question. Thanks. <code>  { ""type"" : ""project"", ""license"" : ""proprietary"", ""require"" : { ""php"" : ""^7.1.3"", ""ext-ctype"" : ""*"", ""ext-iconv"" : ""*"", ""sensio/framework-extra-bundle"" : ""^5.2"", ""symfony/apache-pack"" : ""^1.0"", ""symfony/asset"" : ""4.4.*"", ""symfony/console"" : ""4.4.*"", ""symfony/dotenv"" : ""4.4.*"", ""symfony/expression-language"" : ""4.4.*"", ""symfony/flex"" : ""^1.1"", ""symfony/form"" : ""4.4.*"", ""symfony/framework-bundle"" : ""4.4.*"", ""symfony/monolog-bundle"" : ""^3.1"", ""symfony/orm-pack"" : ""*"", ""symfony/process"" : ""4.4.*"", ""symfony/security-bundle"" : ""4.4.*"", ""symfony/serializer-pack"" : ""*"", ""symfony/swiftmailer-bundle"" : ""^3.1"", ""symfony/translation"" : ""4.4.*"", ""symfony/twig-bundle"" : ""4.4.*"", ""symfony/validator"" : ""4.4.*"", ""symfony/web-link"" : ""4.4.*"", ""symfony/webpack-encore-bundle"" : ""^1.1"", ""symfony/yaml"" : ""4.4.*"" }, ""require-dev"" : { ""symfony/debug-pack"" : ""*"", ""symfony/maker-bundle"" : ""^1.0"", ""symfony/profiler-pack"" : ""^1.0"", ""symfony/test-pack"" : ""*"", ""symfony/web-server-bundle"" : ""4.4.*"" }, ""config"" : { ""preferred-install"" : { ""*"" : ""dist"" }, ""sort-packages"" : true, ""secure-http"" : false }, ""autoload"" : { ""psr-4"" : { ""App\\"" : ""src/"" } }, ""autoload-dev"" : { ""psr-4"" : { ""App\\Tests\\"" : ""tests/"" }, ""classmap"" : [ ""vendor/phpasn1"" ] }, ""replace"" : { ""paragonie/random_compat"" : ""2.*"", ""symfony/polyfill-ctype"" : ""*"", ""symfony/polyfill-iconv"" : ""*"", ""symfony/polyfill-php71"" : ""*"", ""symfony/polyfill-php70"" : ""*"", ""symfony/polyfill-php56"" : ""*"" }, ""conflict"" : { ""symfony/symfony"" : ""*"" }, ""extra"" : { ""symfony"" : { ""allow-contrib"" : false, ""require"" : ""4.4.*"" } }} (...)doctrine/orm v2.7.0 Object-Relational-Mapper for PHPdoctrine/persistence 1.3.3 The Doctrine Persistence project is a set of shared...(...) name : doctrine/persistencedescrip. : The Doctrine Persistence project is a set of shared interfaces and functionality that the different Doctrine object mappers share.keywords : mapper, object, odm, orm, persistenceversions : dev-master, 2.0.x-dev, 1.3.x-dev, * 1.3.3, 1.3.2, 1.3.1, 1.3.0, 1.2.x-dev, 1.2.0, 1.1.x-dev, 1.1.1, v1.1.0, 1.0.x-dev, v1.0.1, v1.0.0, dev-1.3.x-merge-up-into-master_5df35c38f354a9.94042071, dev-1.3.x-merge-up-into-master_5df33dc289ea03.65167777, dev-1.3.x-merge-up-into-master_5df29d964b0aa5.96685696, dev-github-funding, dev-master-old(...)",Deprecation warnings after upgrading Symfony 4.3.9 to 4.4.1/5.0
Deprecation warnings after upgrading Symfony 4.3.9 to 4.4.1," I had a deprecation-free Symfony 3.4.9 installation. So I upgraded the FW to 4.1.1. Now I got 9 deprecation warnings all coming from vendor libraries:Creating Doctrine\ORM\Mapping\UnderscoreNamingStrategy without making it number aware is deprecated and will be removed in Doctrine ORM 3.0.The ""Symfony\Component\HttpKernel\EventListener\ExceptionListener"" class is deprecated since Symfony 4.4, use ""ErrorListener"" instead.The Doctrine\Common\Persistence\Mapping\AbstractClassMetadataFactory class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\Mapping\AbstractClassMetadataFactory instead.The Doctrine\Common\Persistence\Mapping\RuntimeReflectionService class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\Mapping\RuntimeReflectionService instead.The Doctrine\Common\Persistence\ObjectManager class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\ObjectManager instead.The Doctrine\Common\Persistence\ObjectRepository class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\ObjectRepository instead.The Doctrine\Common\PropertyChangedListener class is deprecated since doctrine/persistence 1.3 and will be removed in 2.0. Use \Doctrine\Persistence\PropertyChangedListener instead.The ""twig.exception_controller"" configuration key has been deprecated in Symfony 4.4, set it to ""null"" and use ""framework.error_controller"" configuration key instead. (x2)Is this ""normal"" or there is any problems in my composer.json file ? I double checked and can't see any dependency that has any ""fixed"" setting.I even deleted the full vendor folder and downloaded again as I thought there could be any ""garbage"" left, with same result.My composer.json file: EDITI checked installed packages with composer show and see that at least 2 of the installed packages are relevant with the deprecation list above: So I checked the available versions of these packages with composer info doctrine/persistence --all and I saw that it has installed the latest non-dev version: Same for doctrine-orm. The GitHub site for doctrine/persistence also seems to corroborate this: https://github.com/doctrine/persistence/releasesSo this leads me to think that this is really normal behavior and that in future, when these packages get updated, the deprecation messages will disappear.Note on solutionAs anyone who have read the accepted answer will notice, there are still 5 deprecation that cannot be solved just yet. I'll include an answer ASA there are a fix for this. If anyone notices this before me, please fell free to add an answer to this question. Thanks. <code>  { ""type"" : ""project"", ""license"" : ""proprietary"", ""require"" : { ""php"" : ""^7.1.3"", ""ext-ctype"" : ""*"", ""ext-iconv"" : ""*"", ""sensio/framework-extra-bundle"" : ""^5.2"", ""symfony/apache-pack"" : ""^1.0"", ""symfony/asset"" : ""4.4.*"", ""symfony/console"" : ""4.4.*"", ""symfony/dotenv"" : ""4.4.*"", ""symfony/expression-language"" : ""4.4.*"", ""symfony/flex"" : ""^1.1"", ""symfony/form"" : ""4.4.*"", ""symfony/framework-bundle"" : ""4.4.*"", ""symfony/monolog-bundle"" : ""^3.1"", ""symfony/orm-pack"" : ""*"", ""symfony/process"" : ""4.4.*"", ""symfony/security-bundle"" : ""4.4.*"", ""symfony/serializer-pack"" : ""*"", ""symfony/swiftmailer-bundle"" : ""^3.1"", ""symfony/translation"" : ""4.4.*"", ""symfony/twig-bundle"" : ""4.4.*"", ""symfony/validator"" : ""4.4.*"", ""symfony/web-link"" : ""4.4.*"", ""symfony/webpack-encore-bundle"" : ""^1.1"", ""symfony/yaml"" : ""4.4.*"" }, ""require-dev"" : { ""symfony/debug-pack"" : ""*"", ""symfony/maker-bundle"" : ""^1.0"", ""symfony/profiler-pack"" : ""^1.0"", ""symfony/test-pack"" : ""*"", ""symfony/web-server-bundle"" : ""4.4.*"" }, ""config"" : { ""preferred-install"" : { ""*"" : ""dist"" }, ""sort-packages"" : true, ""secure-http"" : false }, ""autoload"" : { ""psr-4"" : { ""App\\"" : ""src/"" } }, ""autoload-dev"" : { ""psr-4"" : { ""App\\Tests\\"" : ""tests/"" }, ""classmap"" : [ ""vendor/phpasn1"" ] }, ""replace"" : { ""paragonie/random_compat"" : ""2.*"", ""symfony/polyfill-ctype"" : ""*"", ""symfony/polyfill-iconv"" : ""*"", ""symfony/polyfill-php71"" : ""*"", ""symfony/polyfill-php70"" : ""*"", ""symfony/polyfill-php56"" : ""*"" }, ""conflict"" : { ""symfony/symfony"" : ""*"" }, ""extra"" : { ""symfony"" : { ""allow-contrib"" : false, ""require"" : ""4.4.*"" } }} (...)doctrine/orm v2.7.0 Object-Relational-Mapper for PHPdoctrine/persistence 1.3.3 The Doctrine Persistence project is a set of shared...(...) name : doctrine/persistencedescrip. : The Doctrine Persistence project is a set of shared interfaces and functionality that the different Doctrine object mappers share.keywords : mapper, object, odm, orm, persistenceversions : dev-master, 2.0.x-dev, 1.3.x-dev, * 1.3.3, 1.3.2, 1.3.1, 1.3.0, 1.2.x-dev, 1.2.0, 1.1.x-dev, 1.1.1, v1.1.0, 1.0.x-dev, v1.0.1, v1.0.0, dev-1.3.x-merge-up-into-master_5df35c38f354a9.94042071, dev-1.3.x-merge-up-into-master_5df33dc289ea03.65167777, dev-1.3.x-merge-up-into-master_5df29d964b0aa5.96685696, dev-github-funding, dev-master-old(...)",Deprecation warnings after upgrading Symfony 4.3.9 to 4.4.1/5.0
Use verify_peer on symfony mailer," I'm configuring a mail server (postfix), with a self signed certificate, and it seems this self signed certificate is a problem for the Symfony Mailer component.On Swiftmailer, using some configuration such as: or might fix it, but I can't find a way to do that on mailer (I want to use the YAML configuration files if possible).  <code>  transport: stream_options: ssl: allow_self_signed: true stream_options: ssl: verify_peer: false verify_peer_name: false","How to disable ""verify_peer"" with Symfony Mailer component?"
Laravel: Create morp() relationship nullable," I want to create a one-to-one polymorphic relation allow null relation.Example: But this example return null when assing ""->nullable()"" to morph column.I try to create _type and _id manually and it works fine. Example with manually morph column: I want to know if exists a better way to do a one-to-one polymorphic relation nullable. <code>  Schema::create('ps_assistances', function (Blueprint $table) { $table->bigIncrements('id'); $table->string('assistance_number', 50)->nullable(); $table->morphs('assitanceable')->nullable(); }); Schema::create('ps_assistances', function (Blueprint $table) { $table->bigIncrements('id'); $table->string('assistance_number', 50)->nullable(); $table->string('assitanceable_type')->nullable(); $table->unsignedBigInteger('assitanceable_id')->nullable(); });",Laravel: Create morphs() relationship nullable
" ,      REDIS   ?"," The Redis service is available on my hosting, and if i connect it for money, it is available only for me, since Redis rises in a separate docker container.But, if i turn it off, then Redis can still be used for free, though server-wide. And here I am connecting to the server-wide Redis: And I see there about 300,000 records of other people's sites. And i can change every record! Like this: That is, someone uses the server-wide Redis and I believe that the user is not aware of the public availability of their data. He just turned on the ""Use Redis"" checkbox somewhere in WordPress.And the question is: is the hosting provider responsible for this? After all, an ordinary user believes that his data is stored only on his server and is available only to him.The technical support response was: everything is ok. But I dont think so, so I ask. <code>  $redis = new Redis ();$redis->connect('127.0.0.1', 6379); $allKeys = $redis->keys('*');echo(count($allKeys)); // ~300000echo ($allKeys[10000]); // some data of some siteecho ($redis->get($allKeys[10000])); // some data of some site $redis->set($allKeys[10000], 0);",Is it normal that I see other's Redis data on shared hosting?
Receiving Suspicious Requests on my Apache2 Ubuntu 18.04 server, Today I was checking my server logs then I noticed some requests which I think is that someone is trying to get into my server. I am hosting PHP Laravel (6) based admin panel and API's on it. I have also checked my public routes and permissions of the files.Can someone figure out what else should I do to prevent something disastrous thing to happen? Thanks in advance.Here are some other suspicious requests :/hudson/cgi-bin/mainfunction.cgi/?XDEBUG_SESSION_START=phpstorm/solr/admin/info/system?wt=json/?-a=fetch&content=%3Cphp%3Edie%28%40md5%28HelloThinkCMF%29%29%3C%2Fphp%3E/api/jsonws/invoke/azenv.php?a=PSCMN&auth=159175997367&i=2650084793&p=80?function=call_user_func_array&s=%2FIndex%2F%5Cthink%5Capp%2Finvokefunction&vars%5B0%5D=md5&vars%5B1%5D%5B0%5D=HelloThinkPHP/.well-known/security.txt/sitemap.xml/TP/index.php/TP/public/index.php/ip.ws.126.net:443/nmaplowercheck1591708572/evox/about/MAPI/API/evox/about/owa/auth/logon.aspx?url=https%3A%2F%2F1%2Fecp%2F/vendor/phpunit/phpunit/src/Util/PHP/eval-stdin.php <code> ,Is someone trying to Hack? Receiving Suspicious Requests on my Apache2 Ubuntu 18.04 server
Coupon Page - list users and assign single user to a coupon code in general coupon tab," I am having some really hard times trying to make it work.I've had an idea in back of my head to:be able to assign single user to a coupon code through an extra field in general coupon tab, which is listing unassigned users to coupon codesI dont want to use third party extensions, custom-fields, etc. I was hoping I'll be able to do it through meta data but I failed. Not sure how to get it done properly.add two extra columns on orders page and display both coupon code and user assigned to it.After some time reading docs and xDebugging in phpstorm I have also failed to get it done. I am not asking for ready-to-go solution, but to show me the way how to get it done.Thanks in advance for any kind of help. <code>  function order_sellers_and_coupons_columns_values($column) { global $post, $the_order; if ($column == 'order_coupon_code') { $coupons = $the_order->get_used_coupons(); // not sure how to get coupon object by the coupon code echo (count($coupons)) ? $coupons[0] : ''; } } // even though I see the order objects have an items and coupon lines property, // which is an object, i can't get access to it $the_order->items[""coupon_lines""]",Add a field to coupon settings and display the value on Woocommerce admin order list
"Google cloud patie/image deploy error, build do not complete"," I am trying to deploy a php project via cloud run, but I keep getting the same error I can't find not about this package, but it's an Laravel's deppendece, so I can't uninstall, I am using docker to make this deploy already tried:remove as required package (Continuous deployment has been set up, but your repository has failed to build and deploy.)php composer.phar require spatie/image-optimizer --ignore-platform-reqscomposer require google/cloud-logging google/cloud-error-reportingupdate the packageupdate the yarn and the npm <code>  Problem 1 - spatie/image is locked to version 1.10.1 and an update of this package was not requested. - spatie/image 1.10.1 requires ext-exif * -> it is missing from your system. Install or enable PHP's exif extension. Problem 2 - spatie/pdf-to-image is locked to version 2.1.0 and an update of this package was not requested. - spatie/pdf-to-image 2.1.0 requires ext-imagick * -> it is missing from your system. Install or enable PHP's imagick extension. Problem 3 - spatie/image 1.10.1 requires ext-exif * -> it is missing from your system. Install or enable PHP's exif extension. - spatie/laravel-medialibrary 7.19.5 requires spatie/image ^1.4.0 -> satisfiable by spatie/image[1.10.1]. - spatie/laravel-medialibrary is locked to version 7.19.5 and an update of this package was not requested. FROM composer as buildWORKDIR /app COPY . /appRUN composer install --no-ansi --no-interaction --no-progress --no-scripts --optimize-autoloaderFROM node:12 as nodeCOPY package.json ./ COPY yarn.lock ./ RUN yarn installRUN npm installFROM php:7.3-apache-stretchRUN docker-php-ext-install pdo pdo_mysqlEXPOSE 8080COPY --from=build /app /var/www/htmlCOPY 000-default.conf /etc/apache2/sites-available/000-default.conf RUN echo ""Listen 8080"" >> /etc/apache2/ports.conf && \ chown -R www-data:www-data /var/www/html && \ a2enmod rewriteCMD service apache2 restart && bash","Google cloud spatie/image deploy error, build do not complete"
Symfony / Doctrine findOneBy() with an array property criteria," I am doing a small project where I have an entity with a roles property which consists of an array.What I am trying to do is, in some controller, find an existing entity which has a specific role inside of the roles array.I am trying to use the findOneBy() method, but I can't seem to make it work, it always returns null even though entities with the specific role I'm trying to find exist.Here is my entity and its properties: And here is an example of something I tried with findOneBy() inside a controller, that returns null: When I try with any other property of the entity which isn't an array it works well, if I do something like this: It will show the right entity : Where we can also see it does have the roles array with the role I'm trying to find inside it.Any clues on how I could try to find one entity which has the specific role ""ROLE_RESPONSABLE_RH""? <code>  /** * @ORM\Entity(repositoryClass=SalarieRepository::class) */class Salarie{ /** * @ORM\Id * @ORM\GeneratedValue * @ORM\Column(type=""integer"") */ private $id; /** * @ORM\Column(type=""string"", length=255) */ private $nom; /** * @ORM\Column(type=""string"", length=255) */ private $prenom; /** * @ORM\Column(type=""string"", length=255) */ private $email; /** * @ORM\Column(type=""string"", length=255, nullable=true) */ private $telephone; /** * @ORM\Column(type=""string"", length=255) */ private $service; /** * @ORM\Column(type=""json"") */ private $roles = []; // Getters & setters} $rolecheck = $this->salarieRepository->findOneBy([""roles"" => [""ROLE_RESPONSABLE_RH""]]); $rolecheck = $this->salarieRepository->findOneBy([""nom"" => ""test""]);dd($rolecheck); SalarieController.php on line 47:App\Entity\Salarie {#1501 -id: 6 -nom: ""test"" -prenom: ""test"" -email: ""test@test.test"" -telephone: null -service: ""Graphisme"" -roles: array:3 [ 0 => ""ROLE_RESPONSABLE_RH"" 1 => ""ROLE_RESPONSABLE_SERVICE"" 2 => ""ROLE_SALARIE"" ]}",Symfony find user by role (JSON array Doctrine property)
